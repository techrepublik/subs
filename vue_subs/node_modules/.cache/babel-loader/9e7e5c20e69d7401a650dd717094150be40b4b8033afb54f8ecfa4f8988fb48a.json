{"ast":null,"code":"import { geoProjection as projection } from \"d3-geo\";\nimport { ellipticF, ellipticFi, ellipticJi } from \"./elliptic.js\";\nimport { abs, atan, atan2, cos, exp, halfPi, log, pi, sin, sqrt, sqrt2, tan } from \"./math.js\";\nimport squareRaw from \"./square.js\";\nexport function guyouRaw(lambda, phi) {\n  var k_ = (sqrt2 - 1) / (sqrt2 + 1),\n    k = sqrt(1 - k_ * k_),\n    K = ellipticF(halfPi, k * k),\n    f = -1,\n    psi = log(tan(pi / 4 + abs(phi) / 2)),\n    r = exp(f * psi) / sqrt(k_),\n    at = guyouComplexAtan(r * cos(f * lambda), r * sin(f * lambda)),\n    t = ellipticFi(at[0], at[1], k * k);\n  return [-t[1], (phi >= 0 ? 1 : -1) * (0.5 * K - t[0])];\n}\nfunction guyouComplexAtan(x, y) {\n  var x2 = x * x,\n    y_1 = y + 1,\n    t = 1 - x2 - y * y;\n  return [0.5 * ((x >= 0 ? halfPi : -halfPi) - atan2(t, 2 * x)), -0.25 * log(t * t + 4 * x2) + 0.5 * log(y_1 * y_1 + x2)];\n}\nfunction guyouComplexDivide(a, b) {\n  var denominator = b[0] * b[0] + b[1] * b[1];\n  return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n}\nguyouRaw.invert = function (x, y) {\n  var k_ = (sqrt2 - 1) / (sqrt2 + 1),\n    k = sqrt(1 - k_ * k_),\n    K = ellipticF(halfPi, k * k),\n    f = -1,\n    j = ellipticJi(0.5 * K - y, -x, k * k),\n    tn = guyouComplexDivide(j[0], j[1]),\n    lambda = atan2(tn[1], tn[0]) / f;\n  return [lambda, 2 * atan(exp(0.5 / f * log(k_ * tn[0] * tn[0] + k_ * tn[1] * tn[1]))) - halfPi];\n};\nexport default function () {\n  return projection(squareRaw(guyouRaw)).scale(151.496);\n}","map":{"version":3,"names":["geoProjection","projection","ellipticF","ellipticFi","ellipticJi","abs","atan","atan2","cos","exp","halfPi","log","pi","sin","sqrt","sqrt2","tan","squareRaw","guyouRaw","lambda","phi","k_","k","K","f","psi","r","at","guyouComplexAtan","t","x","y","x2","y_1","guyouComplexDivide","a","b","denominator","invert","j","tn","scale"],"sources":["/home/josh/Documents/projects/subs/vue_subs/node_modules/d3-geo-projection/src/guyou.js"],"sourcesContent":["import {geoProjection as projection} from \"d3-geo\";\nimport {ellipticF, ellipticFi, ellipticJi} from \"./elliptic.js\";\nimport {abs, atan, atan2, cos, exp, halfPi, log, pi, sin, sqrt, sqrt2, tan} from \"./math.js\";\nimport squareRaw from \"./square.js\";\n\nexport function guyouRaw(lambda, phi) {\n  var k_ = (sqrt2 - 1) / (sqrt2 + 1),\n      k = sqrt(1 - k_ * k_),\n      K = ellipticF(halfPi, k * k),\n      f = -1,\n      psi = log(tan(pi / 4 + abs(phi) / 2)),\n      r = exp(f * psi) / sqrt(k_),\n      at = guyouComplexAtan(r * cos(f * lambda), r * sin(f * lambda)),\n      t = ellipticFi(at[0], at[1], k * k);\n  return [-t[1], (phi >= 0 ? 1 : -1) * (0.5 * K - t[0])];\n}\n\nfunction guyouComplexAtan(x, y) {\n  var x2 = x * x,\n      y_1 = y + 1,\n      t = 1 - x2 - y * y;\n  return [\n   0.5 * ((x >= 0 ? halfPi : -halfPi) - atan2(t, 2 * x)),\n    -0.25 * log(t * t + 4 * x2) +0.5 * log(y_1 * y_1 + x2)\n  ];\n}\n\nfunction guyouComplexDivide(a, b) {\n  var denominator = b[0] * b[0] + b[1] * b[1];\n  return [\n    (a[0] * b[0] + a[1] * b[1]) / denominator,\n    (a[1] * b[0] - a[0] * b[1]) / denominator\n  ];\n}\n\nguyouRaw.invert = function(x, y) {\n  var k_ = (sqrt2 - 1) / (sqrt2 + 1),\n      k = sqrt(1 - k_ * k_),\n      K = ellipticF(halfPi, k * k),\n      f = -1,\n      j = ellipticJi(0.5 * K - y, -x, k * k),\n      tn = guyouComplexDivide(j[0], j[1]),\n      lambda = atan2(tn[1], tn[0]) / f;\n  return [\n    lambda,\n    2 * atan(exp(0.5 / f * log(k_ * tn[0] * tn[0] + k_ * tn[1] * tn[1]))) - halfPi\n  ];\n};\n\nexport default function() {\n  return projection(squareRaw(guyouRaw))\n      .scale(151.496);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}