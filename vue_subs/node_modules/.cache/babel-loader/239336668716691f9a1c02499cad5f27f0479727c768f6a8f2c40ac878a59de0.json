{"ast":null,"code":"import { abs, asin, atan, cos, cosh, epsilon, exp, halfPi, log, pi, pow, quarterPi, sign, sin, sinh, sqrt, tan, tanh } from \"./math.js\";\n\n// Returns [sn, cn, dn](u + iv|m).\nexport function ellipticJi(u, v, m) {\n  var a, b, c;\n  if (!u) {\n    b = ellipticJ(v, 1 - m);\n    return [[0, b[0] / b[1]], [1 / b[1], 0], [b[2] / b[1], 0]];\n  }\n  a = ellipticJ(u, m);\n  if (!v) return [[a[0], 0], [a[1], 0], [a[2], 0]];\n  b = ellipticJ(v, 1 - m);\n  c = b[1] * b[1] + m * a[0] * a[0] * b[0] * b[0];\n  return [[a[0] * b[2] / c, a[1] * a[2] * b[0] * b[1] / c], [a[1] * b[1] / c, -a[0] * a[2] * b[0] * b[2] / c], [a[2] * b[1] * b[2] / c, -m * a[0] * a[1] * b[0] / c]];\n}\n\n// Returns [sn, cn, dn, ph](u|m).\nexport function ellipticJ(u, m) {\n  var ai, b, phi, t, twon;\n  if (m < epsilon) {\n    t = sin(u);\n    b = cos(u);\n    ai = m * (u - t * b) / 4;\n    return [t - ai * b, b + ai * t, 1 - m * t * t / 2, u - ai];\n  }\n  if (m >= 1 - epsilon) {\n    ai = (1 - m) / 4;\n    b = cosh(u);\n    t = tanh(u);\n    phi = 1 / b;\n    twon = b * sinh(u);\n    return [t + ai * (twon - u) / (b * b), phi - ai * t * phi * (twon - u), phi + ai * t * phi * (twon + u), 2 * atan(exp(u)) - halfPi + ai * (twon - u) / b];\n  }\n  var a = [1, 0, 0, 0, 0, 0, 0, 0, 0],\n    c = [sqrt(m), 0, 0, 0, 0, 0, 0, 0, 0],\n    i = 0;\n  b = sqrt(1 - m);\n  twon = 1;\n  while (abs(c[i] / a[i]) > epsilon && i < 8) {\n    ai = a[i++];\n    c[i] = (ai - b) / 2;\n    a[i] = (ai + b) / 2;\n    b = sqrt(ai * b);\n    twon *= 2;\n  }\n  phi = twon * a[i] * u;\n  do {\n    t = c[i] * sin(b = phi) / a[i];\n    phi = (asin(t) + phi) / 2;\n  } while (--i);\n  return [sin(phi), t = cos(phi), t / cos(phi - b), phi];\n}\n\n// Calculate F(phi+iPsi|m).\n// See Abramowitz and Stegun, 17.4.11.\nexport function ellipticFi(phi, psi, m) {\n  var r = abs(phi),\n    i = abs(psi),\n    sinhPsi = sinh(i);\n  if (r) {\n    var cscPhi = 1 / sin(r),\n      cotPhi2 = 1 / (tan(r) * tan(r)),\n      b = -(cotPhi2 + m * (sinhPsi * sinhPsi * cscPhi * cscPhi) - 1 + m),\n      c = (m - 1) * cotPhi2,\n      cotLambda2 = (-b + sqrt(b * b - 4 * c)) / 2;\n    return [ellipticF(atan(1 / sqrt(cotLambda2)), m) * sign(phi), ellipticF(atan(sqrt((cotLambda2 / cotPhi2 - 1) / m)), 1 - m) * sign(psi)];\n  }\n  return [0, ellipticF(atan(sinhPsi), 1 - m) * sign(psi)];\n}\n\n// Calculate F(phi|m) where m = k² = sin²α.\n// See Abramowitz and Stegun, 17.6.7.\nexport function ellipticF(phi, m) {\n  if (!m) return phi;\n  if (m === 1) return log(tan(phi / 2 + quarterPi));\n  var a = 1,\n    b = sqrt(1 - m),\n    c = sqrt(m);\n  for (var i = 0; abs(c) > epsilon; i++) {\n    if (phi % pi) {\n      var dPhi = atan(b * tan(phi) / a);\n      if (dPhi < 0) dPhi += pi;\n      phi += dPhi + ~~(phi / pi) * pi;\n    } else phi += phi;\n    c = (a + b) / 2;\n    b = sqrt(a * b);\n    c = ((a = c) - b) / 2;\n  }\n  return phi / (pow(2, i) * a);\n}","map":{"version":3,"names":["abs","asin","atan","cos","cosh","epsilon","exp","halfPi","log","pi","pow","quarterPi","sign","sin","sinh","sqrt","tan","tanh","ellipticJi","u","v","m","a","b","c","ellipticJ","ai","phi","t","twon","i","ellipticFi","psi","r","sinhPsi","cscPhi","cotPhi2","cotLambda2","ellipticF","dPhi"],"sources":["/Users/admin/Desktop/techrepublik/pro/subs/vue_subs/node_modules/d3-geo-projection/src/elliptic.js"],"sourcesContent":["import {abs, asin, atan, cos, cosh, epsilon, exp, halfPi, log, pi, pow, quarterPi, sign, sin, sinh, sqrt, tan, tanh} from \"./math.js\";\n\n// Returns [sn, cn, dn](u + iv|m).\nexport function ellipticJi(u, v, m) {\n  var a, b, c;\n  if (!u) {\n    b = ellipticJ(v, 1 - m);\n    return [\n      [0, b[0] / b[1]],\n      [1 / b[1], 0],\n      [b[2] / b[1], 0]\n    ];\n  }\n  a = ellipticJ(u, m);\n  if (!v) return [[a[0], 0], [a[1], 0], [a[2], 0]];\n  b = ellipticJ(v, 1 - m);\n  c = b[1] * b[1] + m * a[0] * a[0] * b[0] * b[0];\n  return [\n    [a[0] * b[2] / c, a[1] * a[2] * b[0] * b[1] / c],\n    [a[1] * b[1] / c, -a[0] * a[2] * b[0] * b[2] / c],\n    [a[2] * b[1] * b[2] / c, -m * a[0] * a[1] * b[0] / c]\n  ];\n}\n\n// Returns [sn, cn, dn, ph](u|m).\nexport function ellipticJ(u, m) {\n  var ai, b, phi, t, twon;\n  if (m < epsilon) {\n    t = sin(u);\n    b = cos(u);\n    ai = m * (u - t * b) / 4;\n    return [\n      t - ai * b,\n      b + ai * t,\n      1 - m * t * t / 2,\n      u - ai\n    ];\n  }\n  if (m >= 1 - epsilon) {\n    ai = (1 - m) / 4;\n    b = cosh(u);\n    t = tanh(u);\n    phi = 1 / b;\n    twon = b * sinh(u);\n    return [\n      t + ai * (twon - u) / (b * b),\n      phi - ai * t * phi * (twon - u),\n      phi + ai * t * phi * (twon + u),\n      2 * atan(exp(u)) - halfPi + ai * (twon - u) / b\n    ];\n  }\n\n  var a = [1, 0, 0, 0, 0, 0, 0, 0, 0],\n      c = [sqrt(m), 0, 0, 0, 0, 0, 0, 0, 0],\n      i = 0;\n  b = sqrt(1 - m);\n  twon = 1;\n\n  while (abs(c[i] / a[i]) > epsilon && i < 8) {\n    ai = a[i++];\n    c[i] = (ai - b) / 2;\n    a[i] = (ai + b) / 2;\n    b = sqrt(ai * b);\n    twon *= 2;\n  }\n\n  phi = twon * a[i] * u;\n  do {\n    t = c[i] * sin(b = phi) / a[i];\n    phi = (asin(t) + phi) / 2;\n  } while (--i);\n\n  return [sin(phi), t = cos(phi), t / cos(phi - b), phi];\n}\n\n// Calculate F(phi+iPsi|m).\n// See Abramowitz and Stegun, 17.4.11.\nexport function ellipticFi(phi, psi, m) {\n  var r = abs(phi),\n      i = abs(psi),\n      sinhPsi = sinh(i);\n  if (r) {\n    var cscPhi = 1 / sin(r),\n        cotPhi2 = 1 / (tan(r) * tan(r)),\n        b = -(cotPhi2 + m * (sinhPsi * sinhPsi * cscPhi * cscPhi) - 1 + m),\n        c = (m - 1) * cotPhi2,\n        cotLambda2 = (-b + sqrt(b * b - 4 * c)) / 2;\n    return [\n      ellipticF(atan(1 / sqrt(cotLambda2)), m) * sign(phi),\n      ellipticF(atan(sqrt((cotLambda2 / cotPhi2 - 1) / m)), 1 - m) * sign(psi)\n    ];\n  }\n  return [\n    0,\n    ellipticF(atan(sinhPsi), 1 - m) * sign(psi)\n  ];\n}\n\n// Calculate F(phi|m) where m = k² = sin²α.\n// See Abramowitz and Stegun, 17.6.7.\nexport function ellipticF(phi, m) {\n  if (!m) return phi;\n  if (m === 1) return log(tan(phi / 2 + quarterPi));\n  var a = 1,\n      b = sqrt(1 - m),\n      c = sqrt(m);\n  for (var i = 0; abs(c) > epsilon; i++) {\n    if (phi % pi) {\n      var dPhi = atan(b * tan(phi) / a);\n      if (dPhi < 0) dPhi += pi;\n      phi += dPhi + ~~(phi / pi) * pi;\n    } else phi += phi;\n    c = (a + b) / 2;\n    b = sqrt(a * b);\n    c = ((a = c) - b) / 2;\n  }\n  return phi / (pow(2, i) * a);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}