{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\r\n * Base class for all Axis\r\n */\nimport { __extends } from \"tslib\";\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\nimport { Component } from \"../../core/Component\";\nimport { Container } from \"../../core/Container\";\nimport { DataItem } from \"../../core/DataItem\";\nimport { AxisBreak } from \"./AxisBreak\";\nimport { Label } from \"../../core/elements/Label\";\nimport { Tooltip } from \"../../core/elements/Tooltip\";\nimport { SortedListTemplate } from \"../../core/utils/SortedList\";\nimport { List, ListTemplate, ListDisposer } from \"../../core/utils/List\";\nimport { Disposer, MultiDisposer } from \"../../core/utils/Disposer\";\nimport { registry } from \"../../core/Registry\";\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\nimport * as $iter from \"../../core/utils/Iterator\";\nimport * as $math from \"../../core/utils/Math\";\nimport * as $utils from \"../../core/utils/Utils\";\nimport * as $number from \"../../core/utils/Number\";\nimport * as $array from \"../../core/utils/Array\";\nimport * as $type from \"../../core/utils/Type\";\nimport { defaultRules, ResponsiveBreakpoints } from \"../../core/utils/Responsive\";\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\n/**\r\n * Defines a [[DataItem]] for [[Axis]].\r\n *\r\n * @see {@link DataItem}\r\n */\nvar AxisDataItem = /** @class */function (_super) {\n  __extends(AxisDataItem, _super);\n  /**\r\n   * Constructor\r\n   */\n  function AxisDataItem() {\n    var _this = _super.call(this) || this;\n    _this.className = \"AxisDataItem\";\n    _this.applyTheme();\n    return _this;\n  }\n  Object.defineProperty(AxisDataItem.prototype, \"grid\", {\n    /**\r\n     * @return Grid element\r\n     */\n    get: function () {\n      if (!this._grid) {\n        var component_1 = this.component;\n        if (component_1) {\n          var template = void 0;\n          var grid_1;\n          if (this.isRange) {\n            template = component_1.axisRanges.template.grid;\n            if (template.disabled) {\n              return;\n            } else {\n              grid_1 = template.clone();\n            }\n          } else {\n            template = component_1.renderer.grid.template;\n            if (template.disabled) {\n              return;\n            } else {\n              grid_1 = component_1.renderer.grid.create();\n              this._disposers.push(new Disposer(function () {\n                component_1.renderer.grid.removeValue(grid_1);\n              }));\n            }\n          }\n          this.grid = grid_1;\n          grid_1.shouldClone = false;\n          this._disposers.push(grid_1);\n          grid_1.axis = this.component;\n        }\n      }\n      return this._grid;\n    },\n    /**\r\n     * A [[Grid]] element associated with this data item.\r\n     *\r\n     * If there is no grid element associated with data item, a new one is\r\n     * created and returned.\r\n     *\r\n     * @param grid  Grid element\r\n     */\n    set: function (grid) {\n      if (this._grid && this._grid != grid) {\n        $array.remove(this.sprites, this._grid);\n        this._grid.dataItem = undefined;\n      }\n      if (grid) {\n        if (grid.dataItem && grid.dataItem != this) {\n          $array.remove(grid.dataItem.sprites, grid);\n          grid.dataItem.grid = undefined;\n        }\n        this.addSprite(grid);\n      }\n      this._grid = grid;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"tick\", {\n    /**\r\n     * @return Tick element\r\n     */\n    get: function () {\n      if (!this._tick) {\n        var component_2 = this.component;\n        if (component_2) {\n          var template = void 0;\n          var tick_1;\n          if (this.isRange) {\n            template = component_2.axisRanges.template.tick;\n            if (template.disabled) {\n              return;\n            } else {\n              tick_1 = template.clone();\n            }\n          } else {\n            template = component_2.renderer.ticks.template;\n            if (template.disabled) {\n              return;\n            } else {\n              tick_1 = component_2.renderer.ticks.create();\n              this._disposers.push(new Disposer(function () {\n                component_2.renderer.ticks.removeValue(tick_1);\n              }));\n            }\n          }\n          this.tick = tick_1;\n          tick_1.axis = this.component;\n          tick_1.shouldClone = false;\n          this._disposers.push(tick_1);\n        }\n      }\n      return this._tick;\n    },\n    /**\r\n     * An [[AxisTick]] element associated with this data item.\r\n     *\r\n     * If there is no tick element associated with data item, a new one is\r\n     * created and returned.\r\n     *\r\n     * @param tick  Tick element\r\n     */\n    set: function (tick) {\n      if (this._tick && this._tick != tick) {\n        $array.remove(this.sprites, this._tick);\n        this._tick.dataItem = undefined;\n      }\n      if (tick) {\n        if (tick.dataItem && tick.dataItem != this) {\n          $array.remove(tick.dataItem.sprites, tick);\n          tick.dataItem.tick = undefined;\n        }\n        this.addSprite(tick);\n      }\n      this._tick = tick;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"label\", {\n    /**\r\n     * @return Label element\r\n     */\n    get: function () {\n      if (!this._label) {\n        var component_3 = this.component;\n        if (component_3) {\n          var template = void 0;\n          var label_1;\n          if (this.isRange) {\n            template = component_3.axisRanges.template.label;\n            if (template.disabled) {\n              return;\n            } else {\n              label_1 = template.clone();\n            }\n          } else {\n            template = component_3.renderer.labels.template;\n            if (template.disabled) {\n              return;\n            } else {\n              label_1 = component_3.renderer.labels.create();\n              this._disposers.push(new Disposer(function () {\n                component_3.renderer.labels.removeValue(label_1);\n              }));\n            }\n          }\n          this._disposers.push(label_1);\n          this.label = label_1;\n          label_1.shouldClone = false;\n          label_1.axis = this.component;\n          label_1.virtualParent = component_3;\n        }\n      }\n      return this._label;\n    },\n    /**\r\n     * An [[AxisLabel]] element associated with this data item.\r\n     *\r\n     * If there is no label element associated with data item, a new one is\r\n     * created and returned.\r\n     *\r\n     * @param label Label element\r\n     */\n    set: function (label) {\n      if (this._label && this._label != label) {\n        $array.remove(this.sprites, this._label);\n        this._label.dataItem = undefined;\n      }\n      if (label) {\n        if (label.dataItem && label.dataItem != this) {\n          $array.remove(label.dataItem.sprites, label);\n          label.dataItem.label = undefined;\n        }\n        this.addSprite(label);\n      }\n      this._label = label;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"axisFill\", {\n    /**\r\n     * @return Label element\r\n     */\n    get: function () {\n      if (!this._axisFill) {\n        var component_4 = this.component;\n        if (component_4) {\n          var template = void 0;\n          var axisFill_1;\n          if (this.isRange) {\n            template = component_4.axisRanges.template.axisFill;\n            if (!this.isTemplate && template.disabled) {\n              return;\n            } else {\n              axisFill_1 = template.clone();\n            }\n          } else {\n            template = component_4.renderer.axisFills.template;\n            if (template.disabled) {\n              return;\n            } else {\n              axisFill_1 = component_4.renderer.axisFills.create();\n              this._disposers.push(new Disposer(function () {\n                component_4.renderer.axisFills.removeValue(axisFill_1);\n              }));\n            }\n          }\n          this.axisFill = axisFill_1;\n          axisFill_1.shouldClone = false;\n          this._disposers.push(axisFill_1);\n        }\n      }\n      return this._axisFill;\n    },\n    /**\r\n     * An [[AxisFill]] associated element with this data item.\r\n     *\r\n     * If there is no fill element associated with data item, a new one is\r\n     * created and returned.\r\n     *\r\n     * @param label Label element\r\n     */\n    set: function (axisFill) {\n      if (this._axisFill && this._axisFill != axisFill) {\n        $array.remove(this.sprites, this._axisFill);\n        this._axisFill.dataItem = undefined;\n      }\n      if (axisFill) {\n        if (axisFill.dataItem && axisFill.dataItem != this) {\n          $array.remove(axisFill.dataItem.sprites, axisFill);\n          axisFill.dataItem.axisFill = undefined;\n        }\n        axisFill.axis = this.component;\n        this.addSprite(axisFill);\n      }\n      this._axisFill = axisFill;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"text\", {\n    /**\r\n     * @return Text label\r\n     */\n    get: function () {\n      return this._text;\n    },\n    /**\r\n     * Text to be used as data item's label.\r\n     *\r\n     * @param text Text label\r\n     */\n    set: function (text) {\n      this._text = text;\n      if (this._label) {\n        // do not use getter, it will create unwanted instances!\n        this._label.text = text;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"mask\", {\n    /**\r\n     * Data item's mask.\r\n     *\r\n     * @return Mask\r\n     */\n    get: function () {\n      return this._mask;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"contents\", {\n    /**\r\n     * Returns a [[Container]] to place all visual elements, related to data item\r\n     * in.\r\n     *\r\n     * If there is no Container, a new one is created.\r\n     *\r\n     * @return Contents container\r\n     */\n    get: function () {\n      if (!this._contents) {\n        var contents = new Container();\n        this.addSprite(contents);\n        contents.isMeasured = false;\n        this._contents = contents;\n        var component = this.component;\n        if (component) {\n          var mask = component.renderer.createFill(this.component);\n          mask.disabled = false;\n          mask.axis = component;\n          this.addSprite(mask);\n          this._mask = mask;\n          contents.mask = mask;\n        }\n      }\n      return this._contents;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AxisDataItem.prototype, \"axisBreak\", {\n    /**\r\n     * @return Axis break\r\n     */\n    get: function () {\n      return this._axisBreak;\n    },\n    /**\r\n     * An [[AxisBreak]] this data item falls within.\r\n     *\r\n     * @param axisBreak Axis break\r\n     */\n    set: function (axisBreak) {\n      if (this._axisBreak) {\n        this._axisBreak.dataItems.removeValue(this);\n      }\n      if (axisBreak) {\n        axisBreak.dataItems.push(this);\n      }\n      this._axisBreak = axisBreak;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Re-draws the element.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  AxisDataItem.prototype.validate = function () {\n    if (this.component) {\n      this.component.validateDataElement(this);\n    }\n  };\n  /**\r\n   * Appends data item's elements to the parent [[Container]].\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  AxisDataItem.prototype.appendChildren = function () {\n    if (this.component) {\n      this.component.appendDataItem(this);\n    }\n  };\n  /**\r\n   * Checks if data item has particular property set.\r\n   *\r\n   * @param prop  Property name\r\n   * @return Property set?\r\n   */\n  AxisDataItem.prototype.hasProperty = function (prop) {\n    return prop == \"component\" ? true : _super.prototype.hasProperty.call(this, prop);\n  };\n  /**\r\n   * Copies all parameters from another [[AxisDataItem]].\r\n   *\r\n   * @param source Source AxisDataItem\r\n   */\n  AxisDataItem.prototype.copyFrom = function (source) {\n    _super.prototype.copyFrom.call(this, source);\n    this.text = source.text;\n    if (source.bullet) {\n      this.bullet = source.bullet.clone();\n    }\n    this.minPosition = source.minPosition;\n    this.maxPosition = source.maxPosition;\n  };\n  /**\r\n   * Sets visibility of the Data Item.\r\n   *\r\n   * @param value Data Item\r\n   */\n  AxisDataItem.prototype.setVisibility = function (value, noChangeValues) {\n    _super.prototype.setVisibility.call(this, value, noChangeValues);\n    if (this._contents) {\n      this._contents.visible = value;\n    }\n  };\n  Object.defineProperty(AxisDataItem.prototype, \"bullet\", {\n    /**\r\n     * @return Bullet\r\n     */\n    get: function () {\n      return this._bullet;\n    },\n    /**\r\n     * Set it to an instance of any [[Sprite]]. It will be displayed as an axis\r\n     * bullet in the middle of the cell, or specific value.\r\n     *\r\n     * If you need position bullet relatively to the cell, use [[AxisBullet]]\r\n     * instead. It has a `location` property which can be used to indicate\r\n     * precise relative location within cell/range.\r\n     *\r\n     * Also, [[AxisBullet]] is a [[Container]] so you can push any other element\r\n     * into it.\r\n     *\r\n     * NOTE: `location` is relative to the parent axis range's scope, i.e.\r\n     * between its `date` and `endDate` for [[DateAxis]], or `value`/`endValue`\r\n     * ([[ValueAxis]]), or `category`/`endCategory` ([[categoryAxis]]).\r\n     *\r\n     * ```TypeScript\r\n     * let range = dateAxis.axisRanges.create();\r\n     * range.date = new Date(2018, 0, 5);\r\n     *\r\n     * let flag = new am4plugins_bullets.FlagBullet();\r\n     * flag.label.text = \"Hello\";\r\n     *\r\n     * range.bullet = flag;\r\n     * ```\r\n     * ```JavaScript\r\n     * var range = dateAxis.axisRanges.create();\r\n     * range.date = new Date(2018, 0, 5);\r\n     *\r\n     * var flag = new am4plugins_bullets.FlagBullet();\r\n     * flag.label.text = \"Hello\";\r\n     *\r\n     * range.bullet = flag;\r\n     * ```\r\n     * ```JSON\r\n     * {\r\n     *   // ...\r\n     *   \"xAxes\": [{\r\n     *     \"type\": \"DateAxis\",\r\n     *     // ...\r\n     *     \"axisRanges\": [{\r\n     *       \"date\": new Date(2018, 0, 5),\r\n     *       \"bullet: {\r\n     *         \"type\": \"FlagBullet\",\r\n     *         \"label\": {\r\n     *           \"text\": \"Hello\"\r\n     *         }\r\n     *       }\r\n     *     }]\r\n     *   }]\r\n     * }\r\n     * ```\r\n     *\r\n     * @since 4.5.9\r\n     * @param  value  Bullet\r\n     */\n    set: function (value) {\n      if (this._bullet && this._bullet != value) {\n        $array.remove(this.sprites, this._bullet);\n        this._bullet.dataItem = undefined;\n      }\n      this._bullet = value;\n      if (value) {\n        this.addSprite(value);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return AxisDataItem;\n}(DataItem);\nexport { AxisDataItem };\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\n/**\r\n * Defines named positions for data item's location within [[Axis]].\r\n */\nexport var AxisItemLocation;\n(function (AxisItemLocation) {\n  AxisItemLocation[AxisItemLocation[\"Start\"] = 0] = \"Start\";\n  AxisItemLocation[AxisItemLocation[\"Middle\"] = 0.5] = \"Middle\";\n  AxisItemLocation[AxisItemLocation[\"End\"] = 1] = \"End\";\n})(AxisItemLocation || (AxisItemLocation = {}));\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\n/**\r\n * A base class for all Axis elements.\r\n *\r\n * @see {@link IAxisEvents} for a list of available Events\r\n * @see {@link IAxisAdapters} for a list of available Adapters\r\n */\nvar Axis = /** @class */function (_super) {\n  __extends(Axis, _super);\n  /**\r\n   * Constructor\r\n   */\n  function Axis() {\n    var _this =\n    // Init\n    _super.call(this) || this;\n    /**\r\n     * Number of Grid elements on the axis.\r\n     */\n    _this._gridCount = 10;\n    /**\r\n     * A list of [[XYSeries]] that are using this Axis.\r\n     */\n    _this._series = new List();\n    /**\r\n     * Specifies if axis should be automatically disposed when removing from\r\n     * chart's axis list.\r\n     *\r\n     * @default true\r\n     */\n    _this.autoDispose = true;\n    /**\r\n     * @ignore\r\n     */\n    _this._axisItemCount = 0;\n    if (_this.constructor === Axis) {\n      throw new Error(\"'Axis' cannot be instantiated directly. Please use a specific axis type.\");\n    }\n    _this.hideTooltipWhileZooming = true;\n    _this.minWidth = 0.0001;\n    _this.minHeight = 0.0001;\n    _this.className = \"Axis\";\n    _this.shouldClone = false;\n    _this.setPropertyValue(\"cursorTooltipEnabled\", true);\n    _this.toggleZoomOutButton = true;\n    _this.zoomable = true;\n    var interfaceColors = new InterfaceColorSet();\n    // Create title\n    _this.title = new Label();\n    _this.title.shouldClone = false;\n    _this._disposers.push(_this.title);\n    _this.setPropertyValue(\"startLocation\", 0);\n    _this.setPropertyValue(\"endLocation\", 1);\n    // Data item iterator\n    _this._dataItemsIterator = new $iter.ListIterator(_this.dataItems, function () {\n      return _this.dataItems.create();\n    });\n    _this._dataItemsIterator.createNewItems = true;\n    // Create tooltip\n    var tooltip = new Tooltip();\n    _this._disposers.push(tooltip);\n    tooltip.label.padding(5, 10, 5, 10);\n    tooltip.background.pointerLength = 5;\n    tooltip.fitPointerToBounds = true;\n    tooltip.background.filters.clear();\n    // Set virtual parentfor the tooltip so that it can properly inheirt\n    // formatters from the axis.\n    tooltip.virtualParent = _this;\n    // Create background element for the tooltip\n    var background = tooltip.background;\n    background.cornerRadius = 0;\n    background.fill = interfaceColors.getFor(\"alternativeBackground\");\n    background.stroke = background.fill;\n    background.strokeWidth = 1;\n    background.fillOpacity = 1;\n    tooltip.label.fill = interfaceColors.getFor(\"alternativeText\");\n    _this.tooltip = tooltip;\n    // Accessibility\n    _this.readerHidden = true;\n    _this.events.on(\"rangechangestarted\", function () {\n      _this.series.each(function (series) {\n        if (series.hideTooltipWhileZooming) {\n          series.tooltip.hide();\n          series.tooltip.preventShow = true;\n        }\n      });\n      if (_this.hideTooltipWhileZooming) {\n        _this.tooltip.hide();\n        _this.tooltip.preventShow = true;\n      }\n    }, undefined, false);\n    _this.events.on(\"rangechangeended\", function () {\n      _this.series.each(function (series) {\n        if (series.hideTooltipWhileZooming) {\n          series.tooltip.hide();\n          series.tooltip.preventShow = false;\n        }\n      });\n      if (_this.hideTooltipWhileZooming) {\n        _this.tooltip.hide();\n        _this.tooltip.preventShow = false;\n      }\n    }, undefined, false);\n    _this.applyTheme();\n    return _this;\n  }\n  /**\r\n   * Holds reference to a function that accepts a DataItem and its index as\r\n   * parameters.\r\n   *\r\n   * It can either return a fill opacity for a fill, or manipulate data item\r\n   * directly, to create various highlighting scenarios.\r\n   *\r\n   * For example, you can set it up to highlight only weekends on a\r\n   * [[DateAxis]].\r\n   */\n  Axis.prototype.fillRule = function (dataItem, index) {\n    if (!$type.isNumber(index)) {\n      index = dataItem.index;\n    }\n    if (index / 2 == Math.round(index / 2)) {\n      dataItem.axisFill.__disabled = true;\n      dataItem.axisFill.opacity = 0;\n    } else {\n      dataItem.axisFill.opacity = 1;\n      dataItem.axisFill.__disabled = false;\n    }\n  };\n  /**\r\n   * Returns a new/empty DataItem of the type appropriate for this object.\r\n   *\r\n   * @see {@link DataItem}\r\n   * @return Data Item\r\n   */\n  Axis.prototype.createDataItem = function () {\n    return new AxisDataItem();\n  };\n  /**\r\n   * Invalidates layout.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.invalidateLayout = function () {\n    _super.prototype.invalidateLayout.call(this);\n    // this puts series after axis in invalidation order also makes series update it's data items in case widht/height of a series is not 100%\n    $iter.each(this.series.iterator(), function (series) {\n      series.invalidateLayout();\n    });\n  };\n  /**\r\n   * Invalidates series of this axis.\r\n   */\n  Axis.prototype.invalidateSeries = function () {\n    // this puts series after axis in invalidation order also makes series update it's data items in case widht/height of a series is not 100%\n    $iter.each(this.series.iterator(), function (series) {\n      series.invalidate();\n    });\n  };\n  /**\r\n   * Override to cancel super call for data element validation.\r\n   * @ignore\r\n   */\n  Axis.prototype.validateDataElements = function () {\n    this._axisItemCount = 0;\n    if (this.ghostLabel) {\n      this.renderer.updateLabelElement(this.ghostLabel, this.start, this.end);\n      this.ghostLabel.validate();\n    }\n  };\n  /**\r\n   * Recalculates the number of grid items on the axis.\r\n   */\n  Axis.prototype.updateGridCount = function () {\n    if (this.renderer) {\n      var gridCount = this.axisLength / this.renderer.minGridDistance;\n      if (gridCount != this._gridCount) {\n        this._gridCount = gridCount;\n        this.clearCache();\n      }\n    }\n  };\n  /**\r\n   * Redraws the element.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.validateLayout = function () {\n    this.axisFullLength = this.axisLength / (this.end - this.start);\n    _super.prototype.validateLayout.call(this);\n    this.updateGridCount();\n    var renderer = this.renderer;\n    if (renderer) {\n      renderer.updateAxisLine();\n      renderer.updateTooltip();\n      renderer.updateBaseGridElement();\n    }\n    if (this._prevLength != this.axisLength) {\n      this.dispatchImmediately(\"lengthchanged\");\n      this._prevLength = this.axisLength;\n    }\n  };\n  /**\r\n   * Initializes Axis' renderer.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.initRenderer = function () {};\n  /**\r\n   * Adds a data item to the Axis.\r\n   *\r\n   * @param dataItem Data item\r\n   */\n  Axis.prototype.appendDataItem = function (dataItem) {\n    var renderer = this.renderer;\n    var tick = dataItem.tick;\n    if (tick) {\n      if (tick.above) {\n        tick.parent = renderer.bulletsContainer;\n      } else {\n        tick.parent = renderer.gridContainer;\n      }\n    }\n    if (dataItem.label) {\n      dataItem.label.parent = renderer;\n    }\n    var axisFill = dataItem.axisFill;\n    if (axisFill) {\n      if (axisFill.above) {\n        axisFill.parent = renderer.bulletsContainer;\n      } else {\n        axisFill.parent = renderer.gridContainer;\n      }\n    }\n    var grid = dataItem.grid;\n    if (grid) {\n      if (grid.above) {\n        grid.parent = renderer.bulletsContainer;\n      } else {\n        grid.parent = renderer.gridContainer;\n      }\n    }\n    if (dataItem.bullet) {\n      dataItem.bullet.parent = renderer.bulletsContainer;\n    }\n  };\n  /**\r\n   * Redraws Axis' related items.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.validate = function () {\n    _super.prototype.validate.call(this);\n    this.validateLayout();\n    this.renderer.updateGridContainer();\n  };\n  /**\r\n   * Redars Axis ranges.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.validateAxisRanges = function () {\n    var _this = this;\n    $iter.each(this.axisRanges.iterator(), function (axisRange) {\n      _this.appendDataItem(axisRange);\n      _this.validateDataElement(axisRange);\n      if (axisRange.grid) {\n        axisRange.grid.validate();\n      }\n      if (axisRange.tick) {\n        axisRange.tick.validate();\n      }\n      if (axisRange.axisFill) {\n        axisRange.axisFill.validate();\n      }\n      if (axisRange.label) {\n        axisRange.label.validate();\n      }\n    });\n  };\n  /**\r\n   * Invalidates all axis breaks, so they are redrawn.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.validateBreaks = function () {\n    if (this._axisBreaks) {\n      $iter.each(this._axisBreaks.iterator(), function (axisBreak) {\n        axisBreak.invalidate();\n      });\n    }\n  };\n  /**\r\n   * Associates an Axis break with this Axis, after it is inserted into\r\n   * `axisBreaks`.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param event Event\r\n   */\n  Axis.prototype.processBreak = function (event) {\n    var axisBreak = event.newValue;\n    axisBreak.parent = this.renderer.breakContainer;\n    axisBreak.axis = this;\n  };\n  /**\r\n   * Registers a [[XYSeries]] element with this Axis.\r\n   *\r\n   * Returns a [[Disposer]] for all events, added to Series for watching\r\n   * changes in Axis, and vice versa.\r\n   * @ignore\r\n   * @param series  Series\r\n   * @return Event disposer\r\n   */\n  Axis.prototype.registerSeries = function (series) {\n    var _this = this;\n    this.series.moveValue(series);\n    return new MultiDisposer([new Disposer(function () {\n      _this.series.removeValue(series);\n    }), this.events.on(\"lengthchanged\", series.invalidate, series, false), this.events.on(\"lengthchanged\", series.createMask, series, false), this.events.on(\"startchanged\", series.invalidate, series, false), this.events.on(\"endchanged\", series.invalidate, series, false)]);\n  };\n  Object.defineProperty(Axis.prototype, \"renderer\", {\n    /**\r\n     * @return Renderer\r\n     */\n    get: function () {\n      return this._renderer;\n    },\n    /**\r\n     * An [[AxisRenderer]] to be used to render this Axis.\r\n     *\r\n     * Please note that most of the settings, related to Axis' appearance are set\r\n     * via its renderer. Not directly on the Axis.\r\n     *\r\n     * E.g.:\r\n     *\r\n     * ```TypeScript\r\n     * axis.renderer.inside = true;\r\n     * axis.renderer.minLabelPosition = 0.1;\r\n     * axis.renderer.maxLabelPosition = 0.9;\r\n     * ```\r\n     * ```JavaScript\r\n     * axis.renderer.inside = true;\r\n     * axis.renderer.minLabelPosition = 0.1;\r\n     * axis.renderer.maxLabelPosition = 0.9;\r\n     * ```\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v4/concepts/axes/} for more info\r\n     * @param renderer  Renderer\r\n     */\n    set: function (renderer) {\n      if (renderer != this._renderer) {\n        this._renderer = renderer;\n        renderer.chart = this.chart;\n        renderer.axis = this;\n        renderer.parent = this;\n        this.title.parent = this; // we add title to axis and set layout in renderer to avoid one extra container, as otherwise axis container would be used for holding renderer only\n        this.initRenderer();\n        this._disposers.push(renderer.gridContainer.events.on(\"maxsizechanged\", this.invalidate, this, false));\n        var ghostLabel_1 = this.renderer.labels.create();\n        this._disposers.push(ghostLabel_1);\n        ghostLabel_1.dataItem = this.dataItems.template.clone(); // just for the adapters not to fail\n        ghostLabel_1.text = \"L\";\n        ghostLabel_1.parent = this.renderer;\n        ghostLabel_1.shouldClone = false;\n        ghostLabel_1.fillOpacity = 0;\n        ghostLabel_1.opacity = 0;\n        ghostLabel_1.strokeOpacity = 0;\n        ghostLabel_1.interactionsEnabled = false;\n        ghostLabel_1.validate();\n        this.ghostLabel = ghostLabel_1;\n        this.events.on(\"beforedatavalidated\", function () {\n          ghostLabel_1.text = \"L\";\n        }, undefined, false);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Converts a relative position to angle. (for circular axes)\r\n   *\r\n   * @param position Position (0-1)\r\n   * @return Angle\r\n   */\n  Axis.prototype.positionToAngle = function (position) {\n    return this.renderer.positionToAngle(position);\n  };\n  /**\r\n   * Converts pixel coordinates to a relative position. (0-1)\r\n   *\r\n   * @param point  Coorinates (px)\r\n   * @return Position (0-1)\r\n   */\n  Axis.prototype.pointToPosition = function (point) {\n    return this.renderer.pointToPosition(point);\n  };\n  /**\r\n   * Converts relative position to coordinate.\r\n   *\r\n   * @since 4.7.15\r\n   * @param position (0-1)\r\n   * @return coordinate (px)\r\n   */\n  Axis.prototype.positionToCoordinate = function (position) {\n    return this.renderer.positionToCoordinate(position);\n  };\n  /**\r\n   * [getAnyRangePath description]\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   * @param start  [description]\r\n   * @param end    [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getAnyRangePath = function (start, end) {\n    return this.renderer.getPositionRangePath(start, end);\n  };\n  /**\r\n   * Converts any positional parameter to a relative position on axis.\r\n   *\r\n   * @todo Description (review)\r\n   * @param value  Pisition\r\n   * @return Position (0-1)\r\n   */\n  Axis.prototype.anyToPosition = function (value) {\n    return 0;\n  };\n  /**\r\n   * Converts any positional parameter to a relative position on axis.\r\n   *\r\n   * @todo Description (review)\r\n   * @param value  Pisition\r\n   * @return Orientation point\r\n   */\n  Axis.prototype.anyToPoint = function (value) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  };\n  /**\r\n   * [getPositionRangePath description]\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   * @param startPosition [description]\r\n   * @param endPosition   [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getPositionRangePath = function (startPosition, endPosition) {\n    if (this.renderer) {\n      return this.renderer.getPositionRangePath(startPosition, endPosition);\n    }\n    return \"\";\n  };\n  Object.defineProperty(Axis.prototype, \"axisLength\", {\n    /**\r\n     * Actual axis length in pixels.\r\n     *\r\n     * @return Axis length (px)\r\n     */\n    get: function () {\n      if (this.renderer) {\n        return this.renderer.axisLength;\n      }\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Axis.prototype, \"cursorTooltipEnabled\", {\n    /**\r\n     * @return Display tooltip?\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"cursorTooltipEnabled\");\n    },\n    /**\r\n     * Indicates if axis should display a tooltip for chart's cursor.\r\n     *\r\n     * @param value Display tooltip?\r\n     */\n    set: function (value) {\n      if (this.setPropertyValue(\"cursorTooltipEnabled\", value)) {\n        if (value && this.renderer) {\n          this.renderer.updateTooltip();\n        } else if (this.tooltip) {\n          this.tooltip.hide(0);\n        }\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Axis.prototype, \"toggleZoomOutButton\", {\n    /**\r\n     * @return Toggle zoom out button?\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"toggleZoomOutButton\");\n    },\n    /**\r\n     * Normally, when axis is zoomed in, a zoom out button is shown by a chart,\r\n     * and vice versa: when axis is zoomed out completely, zoom out button is\r\n     * hidden.\r\n     *\r\n     * Setting this to `false` will disable this behavior. Zooming in our out\r\n     * this axis will not reveal or hide zoom out button.\r\n     *\r\n     * @default true\r\n     * @since 4.6.2\r\n     * @param  value  Toggle zoom out button?\r\n     */\n    set: function (value) {\n      this.setPropertyValue(\"toggleZoomOutButton\", value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Hides element's [[Tooltip]].\r\n   *\r\n   * @see {@link Tooltip}\r\n   */\n  Axis.prototype.hideTooltip = function (duration) {\n    _super.prototype.hideTooltip.call(this, duration);\n    this._tooltipPosition = undefined;\n  };\n  /**\r\n   * Shows Axis tooltip at specific relative position within Axis. (0-1)\r\n   *\r\n   * @param position Position (0-1)\r\n   * @param local or global position\r\n   */\n  Axis.prototype.showTooltipAtPosition = function (position, local) {\n    var tooltip = this._tooltip;\n    if (!tooltip || this.dataItems.length <= 0) {\n      this._tooltipPosition = undefined;\n    } else {\n      if (!local) {\n        position = this.toAxisPosition(position);\n      }\n      if (!$type.isNumber(position) || position < this.start || position > this.end) {\n        tooltip.hide(0);\n        this._tooltipPosition = undefined;\n        return;\n      }\n      var renderer = this.renderer;\n      //@todo: think of how to solve this better\n      if (!tooltip.parent) {\n        tooltip.parent = this.tooltipContainer;\n      }\n      var tooltipLocation = renderer.tooltipLocation;\n      var startPosition = this.getCellStartPosition(position);\n      var endPosition = this.getCellEndPosition(position);\n      if (this.tooltipPosition == \"fixed\") {\n        position = startPosition + (endPosition - startPosition) * tooltipLocation;\n      }\n      position = $math.fitToRange(position, this.start, this.end);\n      if (this._tooltipPosition != position) {\n        this._tooltipPosition = position;\n        var tooltipLocation2 = renderer.tooltipLocation2;\n        var startPoint = renderer.positionToPoint(startPosition, tooltipLocation2);\n        var endPoint = renderer.positionToPoint(endPosition, tooltipLocation2);\n        // save values so cursor could use them\n        this.currentItemStartPoint = startPoint;\n        this.currentItemEndPoint = endPoint;\n        if (renderer.fullWidthTooltip) {\n          tooltip.width = endPoint.x - startPoint.x;\n          tooltip.height = endPoint.y - startPoint.y;\n        }\n        var point = renderer.positionToPoint(position, tooltipLocation2);\n        var globalPoint = $utils.spritePointToSvg(point, this.renderer.line);\n        tooltip.text = this.getTooltipText(position);\n        if (tooltip.text) {\n          tooltip.delayedPointTo(globalPoint);\n          tooltip.show();\n        }\n      }\n      if (!this.cursorTooltipEnabled || this.tooltip.disabled) {\n        tooltip.hide(0);\n      }\n    }\n  };\n  /**\r\n   * Converts relative position (0-1) to Axis position with zoom level and\r\n   * inversed taken into account.\r\n   *\r\n   * @param position Global position (0-1)\r\n   * @return Position within Axis (0-1)\r\n   */\n  Axis.prototype.toAxisPosition = function (position) {\n    position = this.renderer.toAxisPosition(position);\n    if (position == undefined) {\n      return;\n    }\n    position = position * (this.end - this.start);\n    if (this.renderer.inversed) {\n      position = this.end - position;\n    } else {\n      position = this.start + position;\n    }\n    return position;\n  };\n  /**\r\n   * Converts position on the axis with zoom level and\r\n   * inversed taken into account to global position.\r\n   *\r\n   * @param position Axis position (0-1)\r\n   * @return Global position (0-1)\r\n   */\n  Axis.prototype.toGlobalPosition = function (position) {\n    if (this.renderer.inversed) {\n      position = this.end - position;\n    } else {\n      position = position - this.start;\n    }\n    return position / (this.end - this.start);\n  };\n  /**\r\n   * Returns text to be used for cursor's Axis tooltip.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param position  Position coordinate (px)\r\n   * @return Label text\r\n   */\n  Axis.prototype.getTooltipText = function (position) {\n    return;\n  };\n  /**\r\n   * Updates Axis' tooltip's position and possibly size, and pointer (stem)\r\n   * place.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param pointerOrientation  Pointer (stem) orientation\r\n   * @param boundingRectangle   A rectangle for tooltip to fit within\r\n   */\n  Axis.prototype.updateTooltip = function (pointerOrientation, boundingRectangle) {\n    var tooltip = this._tooltip;\n    if (tooltip) {\n      tooltip.fixDoc = false;\n      tooltip.pointerOrientation = pointerOrientation;\n      tooltip.setBounds($utils.spriteRectToSvg(boundingRectangle, this.renderer.line));\n    }\n  };\n  /**\r\n   * [roundPosition description]\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   * @param position  Relative position\r\n   * @param location  Location on axis\r\n   * @return Rounded position\r\n   */\n  Axis.prototype.roundPosition = function (position, location, axisLocation) {\n    return position;\n  };\n  /**\r\n   * [getCellStartPosition description]\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   * @param position [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getCellStartPosition = function (position) {\n    return position;\n  };\n  /**\r\n   * [getCellEndPosition description]\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   * @param position [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getCellEndPosition = function (position) {\n    return position;\n  };\n  Object.defineProperty(Axis.prototype, \"axisRanges\", {\n    /**\r\n     * A list of axis ranges for this Axis.\r\n     *\r\n     * @return Axis ranges\r\n     */\n    get: function () {\n      if (!this._axisRanges) {\n        var dataItem = this.createDataItem();\n        dataItem.isRange = true;\n        dataItem.axisFill = this.renderer.axisFills.template.clone();\n        dataItem.grid = this.renderer.grid.template.clone();\n        dataItem.tick = this.renderer.ticks.template.clone();\n        dataItem.label = this.renderer.labels.template.clone();\n        dataItem.isTemplate = true;\n        dataItem.component = this;\n        dataItem.axisFill.disabled = false;\n        dataItem.tick.disabled = false;\n        dataItem.grid.disabled = false;\n        dataItem.label.disabled = false;\n        this._axisRanges = new ListTemplate(dataItem);\n        this._axisRanges.events.on(\"inserted\", this.processAxisRange, this, false);\n        this._disposers.push(new ListDisposer(this._axisRanges));\n        this._disposers.push(this._axisRanges.template);\n      }\n      return this._axisRanges;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Decorates an axis range after it has been added to the axis range list.\r\n   *\r\n   * @param event Event\r\n   */\n  Axis.prototype.processAxisRange = function (event) {\n    var axisRange = event.newValue;\n    axisRange.component = this;\n    axisRange.isRange = true;\n  };\n  Object.defineProperty(Axis.prototype, \"axisBreaks\", {\n    /**\r\n     * A list of axis breaks on this Axis.\r\n     *\r\n     * @return Axis breaks.\r\n     */\n    get: function () {\n      if (!this._axisBreaks) {\n        this._axisBreaks = new SortedListTemplate(this.createAxisBreak(), function (a, b) {\n          return $number.order(a.adjustedStartValue, b.adjustedStartValue);\n        });\n        this._axisBreaks.events.on(\"inserted\", this.processBreak, this, false);\n        this._disposers.push(new ListDisposer(this._axisBreaks));\n        this._disposers.push(this._axisBreaks.template);\n      }\n      return this._axisBreaks;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Creates a new axis break.\r\n   *\r\n   * @return Axis break\r\n   */\n  Axis.prototype.createAxisBreak = function () {\n    return new AxisBreak();\n  };\n  Object.defineProperty(Axis.prototype, \"series\", {\n    /**\r\n     * A list of Series currently associated with this Axis.\r\n     *\r\n     * @return Series\r\n     */\n    get: function () {\n      if (!this._series) {\n        this._series = new List();\n      }\n      return this._series;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Processes Series' data items.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.processSeriesDataItems = function () {};\n  /**\r\n   * Processes Series' single data item.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param dataItem Data item\r\n   */\n  Axis.prototype.processSeriesDataItem = function (dataItem, axisLetter) {};\n  /**\r\n   * Post-processes Serie's data items.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.postProcessSeriesDataItems = function (series) {};\n  /**\r\n   * Post-processes Serie's single data item.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param dataItem Data item\r\n   */\n  Axis.prototype.postProcessSeriesDataItem = function (dataItem) {};\n  //\n  /**\r\n   * Updates Axis based on all Series that might influence it.\r\n   *\r\n   * Called by Series after Series data is validated.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.updateAxisBySeries = function () {};\n  /**\r\n   * Hides unused data items.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Axis.prototype.hideUnusedDataItems = function () {\n    var _this = this;\n    // hide all unused\n    var dataItemsIterator = this._dataItemsIterator;\n    dataItemsIterator.createNewItems = false;\n    $iter.each(dataItemsIterator.iterator(), function (dataItem) {\n      _this.validateDataElement(dataItem); // solves shrinking\n      dataItem.__disabled = true;\n    });\n    dataItemsIterator.clear();\n    dataItemsIterator.createNewItems = true;\n  };\n  /**\r\n   * Returns a Series' data item that corresponds to specific position on Axis.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param series    Series\r\n   * @param position  Position (0-1)\r\n   * @param findNearest  Should axis try to find nearest tooltip if there is no data item at exact position\r\n   * @return Data item\r\n   */\n  Axis.prototype.getSeriesDataItem = function (series, position, findNearest) {\n    return;\n  };\n  /**\r\n   * Returns an angle that corresponds to specific position on axis.\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description (review)\r\n   * @param dataItem  Data item\r\n   * @param key       ???\r\n   * @param location  Location\r\n   * @param stackKey  ???\r\n   * @return Angle\r\n   */\n  Axis.prototype.getAngle = function (dataItem, key, location, stackKey, range) {\n    return;\n  };\n  /**\r\n   * [getX description]\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description (review)\r\n   * @param dataItem [description]\r\n   * @param key      [description]\r\n   * @param location [description]\r\n   * @param stackKey [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getX = function (dataItem, key, location, stackKey, range) {\n    return;\n  };\n  /**\r\n   * [getX description]\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description (review)\r\n   * @param dataItem [description]\r\n   * @param key      [description]\r\n   * @param location [description]\r\n   * @param stackKey [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getPositionX = function (dataItem, key, location, stackKey, range) {\n    return;\n  };\n  /**\r\n   * [getY description]\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description (review)\r\n   * @param dataItem [description]\r\n   * @param key      [description]\r\n   * @param location [description]\r\n   * @param stackKey [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getY = function (dataItem, key, location, stackKey, range) {\n    return;\n  };\n  /**\r\n   * [getY description]\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description (review)\r\n   * @param dataItem [description]\r\n   * @param key      [description]\r\n   * @param location [description]\r\n   * @param stackKey [description]\r\n   * @return [description]\r\n   */\n  Axis.prototype.getPositionY = function (dataItem, key, location, stackKey, range) {\n    return;\n  };\n  Object.defineProperty(Axis.prototype, \"basePoint\", {\n    /**\r\n     * Coordinates of the actual axis start.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Base point coordinates\r\n     */\n    get: function () {\n      return {\n        x: 0,\n        y: 0\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * [dataChangeUpdate description]\r\n   *\r\n   * This is a placeholder to override for extending classes.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   */\n  Axis.prototype.dataChangeUpdate = function () {};\n  /**\r\n   * [dataChangeUpdate description]\r\n   *\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   */\n  Axis.prototype.seriesDataChangeUpdate = function (series) {};\n  /**\r\n   * Removes axis breaks that fall between `min` and `max` (???)\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description (review)\r\n   * @param min  Start value\r\n   * @param max  End value\r\n   * @return Spread o\r\n   */\n  Axis.prototype.adjustDifference = function (min, max) {\n    var difference = max - min;\n    if ($type.isNumber(difference)) {\n      if (this._axisBreaks) {\n        $iter.eachContinue(this._axisBreaks.iterator(), function (axisBreak) {\n          var startValue = axisBreak.adjustedStartValue;\n          var endValue = axisBreak.adjustedEndValue;\n          if ($type.isNumber(startValue) && $type.isNumber(endValue)) {\n            // breaks are sorted, we don't need go further anymore\n            if (startValue > max) {\n              return false;\n            }\n            if (endValue >= min) {\n              if ($type.isNumber(startValue) && $type.isNumber(endValue)) {\n                var breakSize = axisBreak.breakSize;\n                var intersection = $math.intersection({\n                  start: startValue,\n                  end: endValue\n                }, {\n                  start: min,\n                  end: max\n                });\n                if (intersection) {\n                  difference -= (intersection.end - intersection.start) * (1 - breakSize);\n                }\n              }\n            }\n            return true;\n          }\n        });\n      }\n      return difference;\n    }\n  };\n  /**\r\n   * Checks if specific value falls within a break.\r\n   *\r\n   * Returns [[AxisBreak]] the value falls into.\r\n   *\r\n   * @param value  Value to check\r\n   * @return Axis break\r\n   */\n  Axis.prototype.isInBreak = function (value) {\n    if (this._axisBreaks) {\n      return $iter.find(this._axisBreaks.iterator(), function (axisBreak) {\n        return value >= axisBreak.adjustedStartValue && value <= axisBreak.adjustedEndValue;\n      });\n    }\n  };\n  /**\r\n   * [fixAxisBreaks description]\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @todo Description\r\n   */\n  Axis.prototype.fixAxisBreaks = function () {\n    var _this = this;\n    if (this._axisBreaks) {\n      var axisBreaks = this._axisBreaks;\n      if (axisBreaks.length > 0) {\n        // first make sure that startValue is <= end value\n        // This needs to make a copy of axisBreaks because it mutates the list while traversing\n        // TODO very inefficient\n        $array.each($iter.toArray(axisBreaks.iterator()), function (axisBreak) {\n          var startValue = $math.min(axisBreak.startValue, axisBreak.endValue);\n          var endValue = $math.max(axisBreak.startValue, axisBreak.endValue);\n          axisBreak.adjustedStartValue = startValue;\n          axisBreak.adjustedEndValue = endValue;\n          _this._axisBreaks.update(axisBreak);\n        });\n        var firstAxisBreak = axisBreaks.first;\n        var previousEndValue_1 = Math.min(firstAxisBreak.startValue, firstAxisBreak.endValue);\n        // process breaks\n        // TODO does this need to call axisBreaks.update ?\n        $iter.each(axisBreaks.iterator(), function (axisBreak) {\n          var startValue = axisBreak.adjustedStartValue;\n          var endValue = axisBreak.adjustedEndValue;\n          // breaks can't overlap\n          // if break starts before previous break ends\n          if (startValue < previousEndValue_1) {\n            startValue = previousEndValue_1;\n            if (endValue < previousEndValue_1) {\n              endValue = previousEndValue_1;\n            }\n          }\n          axisBreak.adjustedStartValue = startValue;\n          axisBreak.adjustedEndValue = endValue;\n        });\n      }\n    }\n  };\n  Object.defineProperty(Axis.prototype, \"startIndex\", {\n    /**\r\n     * @ignore Exclude from docs\r\n     * @return [description]\r\n     */\n    get: function () {\n      return 0;\n    },\n    /**\r\n     * We need start/end indexes of axes to be 0 - `dataItems.length`.\r\n     *\r\n     * Yes, also for category axis, this helps to avoid jumping of categories\r\n     * while scrolling and does not do a lot of extra work as we use\r\n     * protected `_startIndex` and `_endIndex` when working with items.\r\n     *\r\n     * @hidden\r\n     */\n    /**\r\n     * [startIndex description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param value [description]\r\n     */\n    set: function (value) {},\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Axis.prototype, \"endIndex\", {\n    /**\r\n     * @ignore Exclude from docs\r\n     * @return [description]\r\n     */\n    get: function () {\n      return this.dataItems.length;\n    },\n    /**\r\n     * [endIndex description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param value [description]\r\n     */\n    set: function (value) {},\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Returns a formatted label based on position.\r\n   *\r\n   * Individual axis types should override this method to generate a label\r\n   * that is relevant to axis type.\r\n   *\r\n   * Please note that `position` represents position within axis which may be\r\n   * zoomed and not correspond to Cursor's `position`.\r\n   *\r\n   * To convert Cursor's `position` to Axis' `position` use `toAxisPosition()` method.\r\n   *\r\n   * @see {@link https://www.amcharts.com/docs/v4/tutorials/tracking-cursors-position-via-api/#Tracking_Cursor_s_position} For more information about cursor tracking.\r\n   * @param position  Relative position on axis (0-1)\r\n   * @return Position label\r\n   */\n  Axis.prototype.getPositionLabel = function (position) {\n    return Math.round(position * 100) + \"%x\";\n  };\n  Object.defineProperty(Axis.prototype, \"chart\", {\n    /**\r\n     * @return Chart\r\n     */\n    get: function () {\n      return this._chart;\n    },\n    /**\r\n     * A Chart this Axis belongs to.\r\n     *\r\n     * @param value  Chart\r\n     */\n    set: function (value) {\n      this._chart = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Creates a data item for a Series range.\r\n   *\r\n   * @param series  Target Series\r\n   * @return Range data item\r\n   */\n  Axis.prototype.createSeriesRange = function (series) {\n    var range = this.axisRanges.create();\n    range.component = this;\n    range.axisFill = this.renderer.axisFills.template.clone();\n    range.axisFill.disabled = false;\n    range.axisFill.fillOpacity = 0;\n    range.grid = this.renderer.grid.template.clone();\n    range.grid.disabled = true;\n    range.tick = this.renderer.ticks.template.clone();\n    range.tick.disabled = true;\n    range.label = this.renderer.labels.template.clone();\n    range.label.disabled = true;\n    range.addDisposer(new Disposer(function () {\n      series.axisRanges.removeValue(range);\n    }));\n    series.axisRanges.push(range);\n    return range;\n  };\n  /**\r\n   * Copies all properties and related data from a different instance of Axis.\r\n   *\r\n   * @param source Source Axis\r\n   */\n  Axis.prototype.copyFrom = function (source) {\n    _super.prototype.copyFrom.call(this, source);\n    if (this.renderer) {\n      this.renderer.copyFrom(source.renderer);\n    } else {\n      if (source.renderer) {\n        this.renderer = source.renderer.clone();\n        this._disposers.push(this.renderer);\n      }\n    }\n    if (source.title) {\n      if (!this.title) {\n        this.title = source.title.clone();\n        this.title.parent = this;\n      } else {\n        this.title.copyFrom(source.title);\n      }\n      this._disposers.push(this.title);\n    }\n  };\n  /**\r\n   * Resets internal iterator.\r\n   */\n  Axis.prototype.resetIterators = function () {\n    this._dataItemsIterator.reset();\n  };\n  /**\r\n   * Processes JSON-based config before it is applied to the object.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param config  Config\r\n   */\n  Axis.prototype.processConfig = function (config) {\n    if (config) {\n      // Set up axis ranges\n      if ($type.hasValue(config.axisRanges) && $type.isArray(config.axisRanges)) {\n        for (var i = 0, len = config.axisRanges.length; i < len; i++) {\n          var range = config.axisRanges[i];\n          // If `series` is set, we know it's a series range\n          if ($type.hasValue(range[\"series\"])) {\n            if ($type.isString(range[\"series\"])) {\n              if (this.map.hasKey(range[\"series\"])) {\n                //range[\"series\"] = this.map.getKey(range[\"series\"]);\n                config.axisRanges[i] = this.createSeriesRange(this.map.getKey(range[\"series\"]));\n                delete range[\"series\"];\n                config.axisRanges[i].config = range;\n              }\n            }\n          }\n        }\n      }\n    }\n    _super.prototype.processConfig.call(this, config);\n  };\n  /**\r\n   * Ordering function used in JSON setup.\r\n   *\r\n   * @param a  Item A\r\n   * @param b  Item B\r\n   * @return Order\r\n   */\n  Axis.prototype.configOrder = function (a, b) {\n    if (a == b) {\n      return 0;\n    }\n    // last\n    else if (a == \"title\") {\n      return 1;\n    } else if (b == \"title\") {\n      return -1;\n    }\n    // first\n    else if (a == \"component\") {\n      return -1;\n    } else if (b == \"component\") {\n      return 1;\n    } else {\n      return _super.prototype.configOrder.call(this, a, b);\n    }\n  };\n  Object.defineProperty(Axis.prototype, \"startLocation\", {\n    /**\r\n     * @return Location (0-1)\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"startLocation\");\n    },\n    /**\r\n     * Axis start location. Works on Date/Category axis, doesn't work on Value axis.\r\n     *\r\n     * * 0 - Full first cell is shown.\r\n     * * 0.5 - Half of first cell is shown.\r\n     * * 1 - None of the first cell is visible. (you probably don't want that)\r\n     *\r\n     * @param value Location (0-1)\r\n     */\n    set: function (value) {\n      this.setPropertyValue(\"startLocation\", value, true);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Axis.prototype, \"endLocation\", {\n    /**\r\n     * @return Location (0-1)\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"endLocation\");\n    },\n    /**\r\n     * Axis end location. Works on Date/Category axis, doesn't work on Value axis.\r\n     *\r\n     * * 0 - None of the last cell is shown. (don't do that)\r\n     * * 0.5 - Half of the last cell is shown.\r\n     * * 1 - Full last cell is shown.\r\n     *\r\n     * @param value Location (0-1)\r\n     */\n    set: function (value) {\n      this.setPropertyValue(\"endLocation\", value, true);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Axis.prototype.setDisabled = function (value) {\n    var changed = _super.prototype.setDisabled.call(this, value);\n    if (this.renderer) {\n      this.renderer.gridContainer.disabled = value;\n    }\n    return changed;\n  };\n  Object.defineProperty(Axis.prototype, \"title\", {\n    /**\r\n     * @return Title label\r\n     */\n    get: function () {\n      return this._title;\n    },\n    /**\r\n     * A reference to a [[Label]] element which serves as a title to the axis.\r\n     *\r\n     * When axis is created it aleready has an element, so you can just modify\r\n     * it.\r\n     *\r\n     * Or you can replace it with your own instance of `Label`.\r\n     *\r\n     * @param  value  Title label\r\n     */\n    set: function (value) {\n      if (this._title && this._title != value) {\n        this._title.dispose();\n      }\n      if (value) {\n        this._title = value;\n        value.parent = this;\n        value.shouldClone = false;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Axis.prototype, \"hideTooltipWhileZooming\", {\n    /**\r\n     * @return Hide tooltip while zooming?\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"hideTooltipWhileZooming\");\n    },\n    /**\r\n     * Indicates if axis' tooltip should be hidden while axis range is animating\r\n     * (zooming)\r\n     *\r\n     * @default true\r\n     * @since 4.7.16\r\n     * @param  value  Hide tooltip while zooming?\r\n     */\n    set: function (value) {\n      this.setPropertyValue(\"hideTooltipWhileZooming\", value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Axis.prototype, \"zoomable\", {\n    /**\r\n     * @return Zoomable?\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"zoomable\");\n    },\n    /**\r\n     * Should the axis be zoomed with scrollbar/cursor?\r\n     *\r\n     * @default true\r\n     * @since 4.9.28\r\n     * @param  value  Zoomable?\r\n     */\n    set: function (value) {\n      this.setPropertyValue(\"zoomable\", value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Axis;\n}(Component);\nexport { Axis };\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\nregistry.registeredClasses[\"Axis\"] = Axis;\nregistry.registeredClasses[\"AxisDataItem\"] = AxisDataItem;\n/**\r\n * Add default responsive rules\r\n */\n/**\r\n * Disable axis tooltips.\r\n */\ndefaultRules.push({\n  relevant: ResponsiveBreakpoints.maybeXS,\n  state: function (target, stateId) {\n    if (target instanceof Axis && target.tooltip) {\n      var state = target.states.create(stateId);\n      state.properties.cursorTooltipEnabled = false;\n      return state;\n    }\n    return null;\n  }\n});","map":{"version":3,"names":["Component","Container","DataItem","AxisBreak","Label","Tooltip","SortedListTemplate","List","ListTemplate","ListDisposer","Disposer","MultiDisposer","registry","InterfaceColorSet","$iter","$math","$utils","$number","$array","$type","defaultRules","ResponsiveBreakpoints","AxisDataItem","_super","__extends","_this","call","className","applyTheme","Object","defineProperty","prototype","get","_grid","component_1","component","template","grid_1","isRange","axisRanges","grid","disabled","clone","renderer","create","_disposers","push","removeValue","shouldClone","axis","set","remove","sprites","dataItem","undefined","addSprite","_tick","component_2","tick_1","tick","ticks","_label","component_3","label_1","label","labels","virtualParent","_axisFill","component_4","axisFill_1","axisFill","isTemplate","axisFills","_text","text","_mask","_contents","contents","isMeasured","mask","createFill","_axisBreak","axisBreak","dataItems","validate","validateDataElement","appendChildren","appendDataItem","hasProperty","prop","copyFrom","source","bullet","minPosition","maxPosition","setVisibility","value","noChangeValues","visible","_bullet","AxisItemLocation","Axis","_gridCount","_series","autoDispose","_axisItemCount","constructor","Error","hideTooltipWhileZooming","minWidth","minHeight","setPropertyValue","toggleZoomOutButton","zoomable","interfaceColors","title","_dataItemsIterator","ListIterator","createNewItems","tooltip","padding","background","pointerLength","fitPointerToBounds","filters","clear","cornerRadius","fill","getFor","stroke","strokeWidth","fillOpacity","readerHidden","events","on","series","each","hide","preventShow","fillRule","index","isNumber","Math","round","__disabled","opacity","createDataItem","invalidateLayout","iterator","invalidateSeries","invalidate","validateDataElements","ghostLabel","updateLabelElement","start","end","updateGridCount","gridCount","axisLength","minGridDistance","clearCache","validateLayout","axisFullLength","updateAxisLine","updateTooltip","updateBaseGridElement","_prevLength","dispatchImmediately","initRenderer","above","parent","bulletsContainer","gridContainer","updateGridContainer","validateAxisRanges","axisRange","validateBreaks","_axisBreaks","processBreak","event","newValue","breakContainer","registerSeries","moveValue","createMask","_renderer","chart","ghostLabel_1","strokeOpacity","interactionsEnabled","positionToAngle","position","pointToPosition","point","positionToCoordinate","getAnyRangePath","getPositionRangePath","anyToPosition","anyToPoint","x","y","angle","startPosition","endPosition","getPropertyValue","hideTooltip","duration","_tooltipPosition","showTooltipAtPosition","local","_tooltip","length","toAxisPosition","tooltipContainer","tooltipLocation","getCellStartPosition","getCellEndPosition","tooltipPosition","fitToRange","tooltipLocation2","startPoint","positionToPoint","endPoint","currentItemStartPoint","currentItemEndPoint","fullWidthTooltip","width","height","globalPoint","spritePointToSvg","line","getTooltipText","delayedPointTo","show","cursorTooltipEnabled","inversed","toGlobalPosition","pointerOrientation","boundingRectangle","fixDoc","setBounds","spriteRectToSvg","roundPosition","location","axisLocation","_axisRanges","processAxisRange","createAxisBreak","a","b","order","adjustedStartValue","processSeriesDataItems","processSeriesDataItem","axisLetter","postProcessSeriesDataItems","postProcessSeriesDataItem","updateAxisBySeries","hideUnusedDataItems","dataItemsIterator","getSeriesDataItem","findNearest","getAngle","key","stackKey","range","getX","getPositionX","getY","getPositionY","dataChangeUpdate","seriesDataChangeUpdate","adjustDifference","min","max","difference","eachContinue","startValue","endValue","adjustedEndValue","breakSize","intersection","isInBreak","find","fixAxisBreaks","axisBreaks","toArray","update","firstAxisBreak","first","previousEndValue_1","getPositionLabel","_chart","createSeriesRange","addDisposer","resetIterators","reset","processConfig","config","hasValue","isArray","i","len","isString","map","hasKey","getKey","configOrder","setDisabled","changed","_title","dispose","registeredClasses","relevant","maybeXS","state","target","stateId","states","properties"],"sources":["../../../../../src/.internal/charts/axes/Axis.ts"],"sourcesContent":["/**\r\n * Base class for all Axis\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Component, IComponentProperties, IComponentDataFields, IComponentAdapters, IComponentEvents } from \"../../core/Component\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { DataItem, IDataItemAdapters } from \"../../core/DataItem\";\r\n\r\nimport { Grid } from \"./Grid\";\r\nimport { AxisTick } from \"./AxisTick\";\r\nimport { AxisLabel } from \"./AxisLabel\";\r\nimport { AxisFill } from \"./AxisFill\";\r\nimport { AxisBreak } from \"./AxisBreak\";\r\nimport { AxisRenderer } from \"./AxisRenderer\";\r\n\r\n// Charts\r\nimport { Chart } from \"../Chart\";\r\n\r\n// Series\r\nimport { XYSeries, XYSeriesDataItem } from \"../series/XYSeries\";\r\n\r\n// Elements\r\nimport { IPoint, IOrientationPoint } from \"../../core/defs/IPoint\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { IRectangle } from \"../../core/defs/IRectangle\";\r\nimport { Tooltip, PointerOrientation } from \"../../core/elements/Tooltip\";\r\nimport { PointedRectangle } from \"../../core/elements/PointedRectangle\";\r\n\r\n// Types\r\nimport { IRange } from \"../../core/defs/IRange\";\r\n\r\n// Utils\r\nimport { Ordering } from \"../../core/utils/Order\";\r\nimport { SortedListTemplate } from \"../../core/utils/SortedList\";\r\nimport { List, ListTemplate, IListEvents, ListDisposer } from \"../../core/utils/List\";\r\nimport { IDisposer, Disposer, MultiDisposer } from \"../../core/utils/Disposer\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $number from \"../../core/utils/Number\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../../core/utils/Responsive\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines a [[DataItem]] for [[Axis]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nexport class AxisDataItem extends DataItem {\r\n\r\n\t/**\r\n\t * Reference to a related [[Grid]] element.\r\n\t */\r\n\tprotected _grid: Grid;\r\n\r\n\t/**\r\n\t * Reference to a related [[AxisTick]] element.\r\n\t */\r\n\tprotected _tick: AxisTick;\r\n\r\n\t/**\r\n\t * Reference to a related [[AxisLabel]] element.\r\n\t */\r\n\tprotected _label: AxisLabel;\r\n\r\n\t/**\r\n\t * Reference to a related [[AxisFill]] element.\r\n\t */\r\n\tprotected _axisFill: AxisFill;\r\n\r\n\t/**\r\n\t * A mask for axis. We're using [[AxisFill]] since the mask, basically, has\r\n\t * the same shape and features.\r\n\t */\r\n\tprotected _mask: AxisFill;\r\n\r\n\t/**\r\n\t * Container which might be used to hold some extra items, like series\r\n\t * segments when data item is used for axis range.\r\n\t */\r\n\tprotected _contents: Container;\r\n\r\n\t/**\r\n\t * A text to be used as label for this data item.\r\n\t */\r\n\tprotected _text: string;\r\n\r\n\t/**\r\n\t * Holds a physical position of the grid line associated with this data item,\r\n\t * so that it can be used when measuring distance between points, and hiding\r\n\t * some of them so they don't overlap.\r\n\t */\r\n\tpublic point: IPoint;\r\n\r\n\t/**\r\n\t * If the data item is within an existing [[AxisBreak]] this property will\r\n\t * hold a reference to that [[AxisBreak]].\r\n\t */\r\n\tpublic _axisBreak: AxisBreak;\r\n\r\n\t/**\r\n\t * Defines a type of [[Component]] this data item is used for.\r\n\t */\r\n\tpublic _component!: Axis;\r\n\r\n\t/**\r\n\t * Used to distinguish from real data points and those data items that are\r\n\t * used for ranges, like `series.axisRanges` or `axis.axisRanges`.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic isRange: boolean;\r\n\r\n\t/**\r\n\t * relative position of data item on axis\r\n\t */\r\n\tpublic position: number;\r\n\r\n\t/**\r\n\t * @ignore\r\n\t */\r\n\tprotected _bullet: Sprite;\r\n\r\n\t/**\r\n\t * Allows hiding axis item (tick, label, grid) if it is closer to axis\r\n\t * beginning than this relative position (0-1).\r\n\t *\r\n\t * For axis labels it overrides `minLabelPosition` if set.\r\n\t *\r\n\t * ```TypeScript\r\n\t * // Hide all ticks and labels closer than 20% to axis beginning.\r\n\t * axis.dataItems.template.minPosition = 0.2;\r\n\t * ```\r\n\t * ```JavaScript\r\n\t * // Hide all ticks and labels closer than 20% to axis beginning.\r\n\t * axis.dataItems.template.minPosition = 0.2;\r\n\t * ```\r\n\t * ```JSON\r\n\t * {\r\n\t *   // ...\r\n\t *   \"xAxes\": [{\r\n\t *     // ...\r\n\t *     // Hide all ticks and labels closer than 20% to axis beginning.\r\n\t *     \"dataItems\": {\r\n\t *       \"minPosition\": 0.2\r\n\t *     }\r\n\t *   }]\r\n\t * }\r\n\t * ```\r\n\t * \r\n\t * @since 4.5.11\r\n\t */\r\n\tpublic minPosition?: number;\r\n\r\n\t/**\r\n\t * Allows hiding axis item (tick, label, grid) if it is closer to axis\r\n\t * end than this relative position (0-1).\r\n\t *\r\n\t * For axis labels it overrides `maxLabelPosition` if set.\r\n\t *\r\n\t * ```TypeScript\r\n\t * // Hide all ticks and labels closer than 20% to axis end.\r\n\t * axis.dataItems.template.maxPosition = 0.8;\r\n\t * ```\r\n\t * ```JavaScript\r\n\t * // Hide all ticks and labels closer than 20% to axis end.\r\n\t * axis.dataItems.template.maxPosition = 0.8;\r\n\t * ```\r\n\t * ```JSON\r\n\t * {\r\n\t *   // ...\r\n\t *   \"xAxes\": [{\r\n\t *     // ...\r\n\t *     // Hide all ticks and labels closer than 20% to axis end.\r\n\t *     \"dataItems\": {\r\n\t *       \"maxPosition\": 0.8\r\n\t *     }\r\n\t *   }]\r\n\t * }\r\n\t * ```\r\n\t * \r\n\t * @since 4.5.11\r\n\t */\r\n\tpublic maxPosition?: number;\r\n\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"AxisDataItem\";\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Actual index of the axis data item.\r\n\t * \r\n\t * @since 4.7.8\r\n\t */\r\n\tpublic itemIndex: number;\r\n\r\n\t/**\r\n\t * A [[Grid]] element associated with this data item.\r\n\t *\r\n\t * If there is no grid element associated with data item, a new one is\r\n\t * created and returned.\r\n\t *\r\n\t * @param grid  Grid element\r\n\t */\r\n\tpublic set grid(grid: Grid) {\r\n\t\tif (this._grid && this._grid != grid) {\r\n\t\t\t$array.remove(this.sprites, this._grid);\r\n\t\t\tthis._grid.dataItem = undefined;\r\n\t\t}\r\n\r\n\t\tif (grid) {\r\n\t\t\tif (grid.dataItem && grid.dataItem != this) {\r\n\t\t\t\t$array.remove(grid.dataItem.sprites, grid);\r\n\t\t\t\tgrid.dataItem.grid = undefined;\r\n\t\t\t}\r\n\t\t\tthis.addSprite(grid);\r\n\t\t}\r\n\t\tthis._grid = grid;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Grid element\r\n\t */\r\n\tpublic get grid(): Grid {\r\n\t\tif (!this._grid) {\r\n\t\t\tlet component = this.component;\r\n\t\t\tif (component) {\r\n\r\n\t\t\t\tlet template: Grid;\r\n\t\t\t\tlet grid: Grid;\r\n\r\n\t\t\t\tif (this.isRange) {\r\n\t\t\t\t\ttemplate = component.axisRanges.template.grid;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tgrid = template.clone();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttemplate = component.renderer.grid.template;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tgrid = component.renderer.grid.create();\r\n\t\t\t\t\t\tthis._disposers.push(new Disposer(() => {\r\n\t\t\t\t\t\t\tcomponent.renderer.grid.removeValue(grid);\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.grid = grid;\r\n\t\t\t\tgrid.shouldClone = false;\r\n\t\t\t\tthis._disposers.push(grid);\r\n\t\t\t\tgrid.axis = this.component;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._grid;\r\n\t}\r\n\r\n\t/**\r\n\t * An [[AxisTick]] element associated with this data item.\r\n\t *\r\n\t * If there is no tick element associated with data item, a new one is\r\n\t * created and returned.\r\n\t *\r\n\t * @param tick  Tick element\r\n\t */\r\n\tpublic set tick(tick: AxisTick) {\r\n\t\tif (this._tick && this._tick != tick) {\r\n\t\t\t$array.remove(this.sprites, this._tick);\r\n\t\t\tthis._tick.dataItem = undefined;\r\n\t\t}\r\n\r\n\t\tif (tick) {\r\n\t\t\tif (tick.dataItem && tick.dataItem != this) {\r\n\t\t\t\t$array.remove(tick.dataItem.sprites, tick);\r\n\t\t\t\ttick.dataItem.tick = undefined;\r\n\t\t\t}\r\n\t\t\tthis.addSprite(tick);\r\n\t\t}\r\n\t\tthis._tick = tick;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Tick element\r\n\t */\r\n\tpublic get tick(): AxisTick {\r\n\t\tif (!this._tick) {\r\n\t\t\tlet component = this.component;\r\n\t\t\tif (component) {\r\n\r\n\t\t\t\tlet template: AxisTick;\r\n\t\t\t\tlet tick: AxisTick;\r\n\r\n\t\t\t\tif (this.isRange) {\r\n\t\t\t\t\ttemplate = component.axisRanges.template.tick;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttick = template.clone();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttemplate = component.renderer.ticks.template;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttick = component.renderer.ticks.create();\r\n\t\t\t\t\t\tthis._disposers.push(new Disposer(() => {\r\n\t\t\t\t\t\t\tcomponent.renderer.ticks.removeValue(tick);\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.tick = tick;\r\n\t\t\t\ttick.axis = this.component;\r\n\t\t\t\ttick.shouldClone = false;\r\n\t\t\t\tthis._disposers.push(tick);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._tick;\r\n\t}\r\n\r\n\t/**\r\n\t * An [[AxisLabel]] element associated with this data item.\r\n\t *\r\n\t * If there is no label element associated with data item, a new one is\r\n\t * created and returned.\r\n\t *\r\n\t * @param label Label element\r\n\t */\r\n\tpublic set label(label: AxisLabel) {\r\n\t\tif (this._label && this._label != label) {\r\n\t\t\t$array.remove(this.sprites, this._label);\r\n\t\t\tthis._label.dataItem = undefined;\r\n\t\t}\r\n\r\n\t\tif (label) {\r\n\t\t\tif (label.dataItem && label.dataItem != this) {\r\n\t\t\t\t$array.remove(label.dataItem.sprites, label);\r\n\t\t\t\tlabel.dataItem.label = undefined;\r\n\t\t\t}\r\n\t\t\tthis.addSprite(label);\r\n\t\t}\r\n\t\tthis._label = label;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Label element\r\n\t */\r\n\tpublic get label(): AxisLabel {\r\n\t\tif (!this._label) {\r\n\t\t\tlet component = this.component;\r\n\t\t\tif (component) {\r\n\r\n\t\t\t\tlet template: AxisLabel;\r\n\t\t\t\tlet label: AxisLabel;\r\n\r\n\t\t\t\tif (this.isRange) {\r\n\t\t\t\t\ttemplate = component.axisRanges.template.label;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlabel = template.clone();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttemplate = component.renderer.labels.template;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlabel = component.renderer.labels.create();\r\n\t\t\t\t\t\tthis._disposers.push(new Disposer(() => {\r\n\t\t\t\t\t\t\tcomponent.renderer.labels.removeValue(label);\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._disposers.push(label);\r\n\t\t\t\tthis.label = label;\r\n\t\t\t\tlabel.shouldClone = false;\r\n\t\t\t\tlabel.axis = this.component;\r\n\t\t\t\tlabel.virtualParent = component;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._label;\r\n\t}\r\n\r\n\t/**\r\n\t * An [[AxisFill]] associated element with this data item.\r\n\t *\r\n\t * If there is no fill element associated with data item, a new one is\r\n\t * created and returned.\r\n\t *\r\n\t * @param label Label element\r\n\t */\r\n\tpublic set axisFill(axisFill: AxisFill) {\r\n\t\tif (this._axisFill && this._axisFill != axisFill) {\r\n\t\t\t$array.remove(this.sprites, this._axisFill);\r\n\t\t\tthis._axisFill.dataItem = undefined;\r\n\t\t}\r\n\r\n\t\tif (axisFill) {\r\n\t\t\tif (axisFill.dataItem && axisFill.dataItem != this) {\r\n\t\t\t\t$array.remove(axisFill.dataItem.sprites, axisFill);\r\n\t\t\t\taxisFill.dataItem.axisFill = undefined;\r\n\t\t\t}\r\n\t\t\taxisFill.axis = this.component;\r\n\t\t\tthis.addSprite(axisFill);\r\n\t\t}\r\n\t\tthis._axisFill = axisFill;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Label element\r\n\t */\r\n\tpublic get axisFill(): AxisFill {\r\n\t\tif (!this._axisFill) {\r\n\t\t\tlet component = this.component;\r\n\t\t\tif (component) {\r\n\r\n\t\t\t\tlet template: AxisFill;\r\n\t\t\t\tlet axisFill: AxisFill;\r\n\r\n\t\t\t\tif (this.isRange) {\r\n\t\t\t\t\ttemplate = component.axisRanges.template.axisFill;\r\n\t\t\t\t\tif (!this.isTemplate && template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\taxisFill = template.clone();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttemplate = component.renderer.axisFills.template;\r\n\t\t\t\t\tif (template.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\taxisFill = component.renderer.axisFills.create();\r\n\t\t\t\t\t\tthis._disposers.push(new Disposer(() => {\r\n\t\t\t\t\t\t\tcomponent.renderer.axisFills.removeValue(axisFill);\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.axisFill = axisFill;\r\n\t\t\t\taxisFill.shouldClone = false;\r\n\t\t\t\tthis._disposers.push(axisFill);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._axisFill;\r\n\t}\r\n\r\n\t/**\r\n\t * Text to be used as data item's label.\r\n\t *\r\n\t * @param text Text label\r\n\t */\r\n\tpublic set text(text: string) {\r\n\t\tthis._text = text;\r\n\t\tif (this._label) { // do not use getter, it will create unwanted instances!\r\n\t\t\tthis._label.text = text;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Text label\r\n\t */\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\t/**\r\n\t * Data item's mask.\r\n\t *\r\n\t * @return Mask\r\n\t */\r\n\tpublic get mask(): AxisFill {\r\n\t\treturn this._mask;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a [[Container]] to place all visual elements, related to data item\r\n\t * in.\r\n\t *\r\n\t * If there is no Container, a new one is created.\r\n\t *\r\n\t * @return Contents container\r\n\t */\r\n\tpublic get contents(): Container {\r\n\t\tif (!this._contents) {\r\n\t\t\tlet contents = new Container();\r\n\t\t\tthis.addSprite(contents);\r\n\t\t\tcontents.isMeasured = false;\r\n\t\t\tthis._contents = contents;\r\n\r\n\t\t\tlet component = this.component;\r\n\t\t\tif (component) {\r\n\t\t\t\tlet mask: AxisFill = component.renderer.createFill(this.component);\r\n\t\t\t\tmask.disabled = false;\r\n\t\t\t\tmask.axis = component;\r\n\t\t\t\tthis.addSprite(mask);\r\n\t\t\t\tthis._mask = mask;\r\n\t\t\t\tcontents.mask = mask;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._contents;\r\n\t}\r\n\r\n\t/**\r\n\t * An [[AxisBreak]] this data item falls within.\r\n\t *\r\n\t * @param axisBreak Axis break\r\n\t */\r\n\tpublic set axisBreak(axisBreak: this[\"_axisBreak\"]) {\r\n\t\tif (this._axisBreak) {\r\n\t\t\tthis._axisBreak.dataItems.removeValue(this);\r\n\t\t}\r\n\t\tif (axisBreak) {\r\n\t\t\taxisBreak.dataItems.push(this);\r\n\t\t}\r\n\t\tthis._axisBreak = axisBreak;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Axis break\r\n\t */\r\n\tpublic get axisBreak(): this[\"_axisBreak\"] {\r\n\t\treturn this._axisBreak;\r\n\t}\r\n\r\n\t/**\r\n\t * Re-draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate() {\r\n\t\tif (this.component) {\r\n\t\t\tthis.component.validateDataElement(this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Appends data item's elements to the parent [[Container]].\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic appendChildren() {\r\n\t\tif (this.component) {\r\n\t\t\tthis.component.appendDataItem(this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if data item has particular property set.\r\n\t *\r\n\t * @param prop  Property name\r\n\t * @return Property set?\r\n\t */\r\n\tprotected hasProperty(prop: string): boolean {\r\n\t\treturn prop == \"component\" ? true : super.hasProperty(prop);\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all parameters from another [[AxisDataItem]].\r\n\t *\r\n\t * @param source Source AxisDataItem\r\n\t */\r\n\tpublic copyFrom(source: this) {\r\n\t\tsuper.copyFrom(source);\r\n\t\tthis.text = source.text;\r\n\t\tif (source.bullet) {\r\n\t\t\tthis.bullet = source.bullet.clone();\r\n\t\t}\r\n\r\n\t\tthis.minPosition = source.minPosition;\r\n\t\tthis.maxPosition = source.maxPosition;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets visibility of the Data Item.\r\n\t *\r\n\t * @param value Data Item\r\n\t */\r\n\tpublic setVisibility(value: boolean, noChangeValues?: boolean): void {\r\n\t\tsuper.setVisibility(value, noChangeValues);\r\n\t\tif (this._contents) {\r\n\t\t\tthis._contents.visible = value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set it to an instance of any [[Sprite]]. It will be displayed as an axis\r\n\t * bullet in the middle of the cell, or specific value.\r\n\t *\r\n\t * If you need position bullet relatively to the cell, use [[AxisBullet]]\r\n\t * instead. It has a `location` property which can be used to indicate\r\n\t * precise relative location within cell/range.\r\n\t *\r\n\t * Also, [[AxisBullet]] is a [[Container]] so you can push any other element\r\n\t * into it.\r\n\t *\r\n\t * NOTE: `location` is relative to the parent axis range's scope, i.e.\r\n\t * between its `date` and `endDate` for [[DateAxis]], or `value`/`endValue`\r\n\t * ([[ValueAxis]]), or `category`/`endCategory` ([[categoryAxis]]).\r\n\t * \r\n\t * ```TypeScript\r\n\t * let range = dateAxis.axisRanges.create();\r\n\t * range.date = new Date(2018, 0, 5);\r\n\t * \r\n\t * let flag = new am4plugins_bullets.FlagBullet();\r\n\t * flag.label.text = \"Hello\";\r\n\t *\r\n\t * range.bullet = flag;\r\n\t * ```\r\n\t * ```JavaScript\r\n\t * var range = dateAxis.axisRanges.create();\r\n\t * range.date = new Date(2018, 0, 5);\r\n\t * \r\n\t * var flag = new am4plugins_bullets.FlagBullet();\r\n\t * flag.label.text = \"Hello\";\r\n\t *\r\n\t * range.bullet = flag;\r\n\t * ```\r\n\t * ```JSON\r\n\t * {\r\n\t *   // ...\r\n\t *   \"xAxes\": [{\r\n\t *     \"type\": \"DateAxis\",\r\n\t *     // ...\r\n\t *     \"axisRanges\": [{\r\n\t *       \"date\": new Date(2018, 0, 5),\r\n\t *       \"bullet: {\r\n\t *         \"type\": \"FlagBullet\",\r\n\t *         \"label\": {\r\n\t *           \"text\": \"Hello\"\r\n\t *         }\r\n\t *       }\r\n\t *     }]\r\n\t *   }]\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @since 4.5.9\r\n\t * @param  value  Bullet\r\n\t */\r\n\tpublic set bullet(value: Sprite) {\r\n\t\tif (this._bullet && this._bullet != value) {\r\n\t\t\t$array.remove(this.sprites, this._bullet);\r\n\t\t\tthis._bullet.dataItem = undefined;\r\n\t\t}\r\n\r\n\t\tthis._bullet = value;\r\n\t\tif (value) {\r\n\t\t\tthis.addSprite(value);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Bullet\r\n\t */\r\n\tpublic get bullet(): Sprite {\r\n\t\treturn this._bullet;\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n/**\r\n * Defines adapters for [[AxisDataItem]]\r\n * Includes both the [[DataItemAdapter]] definitions and properties\r\n * @see {@link DataItemAdapter}\r\n */\r\nexport interface IAxisDataItemAdapters extends IDataItemAdapters {\r\n\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines named positions for data item's location within [[Axis]].\r\n */\r\nexport enum AxisItemLocation {\r\n\tStart = 0,\r\n\tMiddle = 0.5,\r\n\tEnd = 1\r\n}\r\n\r\n/**\r\n * Defines data fields for [[Axis]].\r\n */\r\nexport interface IAxisDataFields extends IComponentDataFields { }\r\n\r\n/**\r\n * Defines properties for [[Axis]].\r\n */\r\nexport interface IAxisProperties extends IComponentProperties {\r\n\r\n\t/**\r\n\t * Axis start location.\r\n\t *\r\n\t * * 0 - None of the first cell is shown. (don't do that)\r\n\t * * 0.5 - Half of the first cell is shown.\r\n\t * * 1 - Full first cell is shown.\r\n\t *\r\n\t * @param value Location (0-1)\r\n\t */\r\n\tstartLocation?: number;\r\n\r\n\r\n\t/**\r\n\t * Axis end location.\r\n\t *\r\n\t * * 0 - None of the last cell is shown. (don't do that)\r\n\t * * 0.5 - Half of the last cell is shown.\r\n\t * * 1 - Full last cell is shown.\r\n\t *\r\n\t * @param value Location (0-1)\r\n\t */\r\n\tendLocation?: number;\r\n\r\n\t/**\r\n\t * Indicates if cusor's tooltip should be shown on this Axis.\r\n\t */\r\n\tcursorTooltipEnabled?: boolean;\r\n\r\n\t/**\r\n\t * Normally, when axis is zoomed in, a zoom out button is shown by a chart,\r\n\t * and vice versa: when axis is zoomed out completely, zoom out button is\r\n\t * hidden.\r\n\t *\r\n\t * Setting this to `false` will disable this behavior. Zooming in our out\r\n\t * this axis will not reveal or hide zoom out button.\r\n\t *\r\n\t * @default true\r\n\t */\r\n\ttoggleZoomOutButton?: boolean;\r\n\r\n\t/**\r\n\t * Indicates if axis' tooltip should be hidden while axis range is animating\r\n\t * (zooming)\r\n\t *\r\n\t * @since 4.7.16\r\n\t * @default true\r\n\t */\r\n\thideTooltipWhileZooming?: boolean;\r\n\r\n\r\n\tzoomable?: boolean;\r\n}\r\n\r\n/**\r\n * Defines events for [[Axis]].\r\n */\r\nexport interface IAxisEvents extends IComponentEvents {\r\n\r\n\t/**\r\n\t * Invoked when available axis lenght changes, e.g. after resizing the whole\r\n\t * chart.\r\n\t */\r\n\tlengthchanged: {}\r\n\r\n}\r\n\r\n/**\r\n * Defines adapters for [[Axis]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IAxisAdapters extends IComponentAdapters, IAxisProperties {\r\n\t/**\r\n\t * Applied to the tooltip text before it is shown.\r\n\t */\r\n\tgetTooltipText: string;\r\n\r\n}\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A base class for all Axis elements.\r\n *\r\n * @see {@link IAxisEvents} for a list of available Events\r\n * @see {@link IAxisAdapters} for a list of available Adapters\r\n */\r\nexport class Axis<T extends AxisRenderer = AxisRenderer> extends Component {\r\n\r\n\t/**\r\n\t * Defines list of data fields.\r\n\t */\r\n\tpublic _dataFields: IAxisDataFields;\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IAxisProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IAxisAdapters;\r\n\r\n\t/**\r\n\t * Defines the type of the [[DataItem]] used in the class.\r\n\t */\r\n\tpublic _dataItem: AxisDataItem;\r\n\r\n\t/**\r\n\t * A list of Axis Ranges.\r\n\t */\r\n\tprotected _axisRanges: ListTemplate<this[\"_dataItem\"]>;\r\n\r\n\t/**\r\n\t * Defines the type of the axis breaks.\r\n\t */\r\n\tpublic _axisBreak: AxisBreak;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IAxisEvents;\r\n\r\n\t/**\r\n\t * A [[Label]] instance that is used for Axis title label.\r\n\t */\r\n\tprotected _title: Label;\r\n\r\n\t/**\r\n\t * \"X\", \"Y\", etc.\r\n\t *\r\n\t * This is needed so that Axis knows which of the values from series' data\r\n\t * items it should use.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic axisLetter: string;\r\n\r\n\t/**\r\n\t * A reference to chart the axis is for.\r\n\t */\r\n\tprotected _chart: Chart;\r\n\r\n\t/**\r\n\t * A type for renderer used for this Axis.\r\n\t */\r\n\tpublic _renderer: T;\r\n\r\n\t/**\r\n\t * Number of Grid elements on the axis.\r\n\t */\r\n\tprotected _gridCount: number = 10;\r\n\r\n\t/**\r\n\t * A list of [[XYSeries]] that are using this Axis.\r\n\t */\r\n\tprotected _series: List<XYSeries> = new List<XYSeries>();\r\n\r\n\t/**\r\n\t * Holds the length of the Axis, so that we can check if it changed after\r\n\t * other changes and we need to update layouts.\r\n\t */\r\n\tprotected _prevLength: number;\r\n\r\n\t/**\r\n\t * A list of Axis Breaks associated with this Axis.\r\n\t */\r\n\tprotected _axisBreaks: SortedListTemplate<this[\"_axisBreak\"]>;\r\n\r\n\t/**\r\n\t * A reference to the Iterator for Axis' data items.\r\n\t */\r\n\tprotected _dataItemsIterator: $iter.ListIterator<this[\"_dataItem\"]>;\r\n\r\n\t/**\r\n\t * A name of the data field this Axis looks for its data in, e.g. \"category\".\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic axisFieldName: string;\r\n\r\n\t// we save these values so that cursur could use them if axis line is a fill\r\n\r\n\t/**\r\n\t * [currentItemStartPoint description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic currentItemStartPoint: IPoint;\r\n\r\n\t/**\r\n\t * [currentItemEndPoint description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic currentItemEndPoint: IPoint;\r\n\r\n\tprotected _tooltipPosition: number;\r\n\r\n\t/**\r\n\t * @ignore\r\n\t */\r\n\tpublic relativePositionSprite?: Sprite;\r\n\r\n\t/**\r\n\t * Holds reference to a function that accepts a DataItem and its index as\r\n\t * parameters.\r\n\t *\r\n\t * It can either return a fill opacity for a fill, or manipulate data item\r\n\t * directly, to create various highlighting scenarios.\r\n\t *\r\n\t * For example, you can set it up to highlight only weekends on a\r\n\t * [[DateAxis]].\r\n\t */\r\n\tpublic fillRule(dataItem: this[\"_dataItem\"], index?: number): void {\r\n\t\tif (!$type.isNumber(index)) {\r\n\t\t\tindex = dataItem.index;\r\n\t\t}\r\n\t\tif (index / 2 == Math.round(index / 2)) {\r\n\t\t\tdataItem.axisFill.__disabled = true;\r\n\t\t\tdataItem.axisFill.opacity = 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdataItem.axisFill.opacity = 1;\r\n\t\t\tdataItem.axisFill.__disabled = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Full length of the axis, in pixels.\r\n\t *\r\n\t * @readonly\r\n\t */\r\n\tpublic axisFullLength: number;\r\n\r\n\t/**\r\n\t * Ghost label is used to prevent chart shrinking/expanding when zooming or\r\n\t * when data is invalidated. You can set custom text on it so that it would\r\n\t * be bigger/smaller,\r\n\t */\r\n\tpublic ghostLabel: AxisLabel;\r\n\r\n\t/**\r\n\t * Specifies if axis should be automatically disposed when removing from\r\n\t * chart's axis list.\r\n\t *\r\n\t * @default true\r\n\t */\r\n\tpublic autoDispose: boolean = true;\r\n\r\n\t/**\r\n\t * @ignore\r\n\t */\r\n\tprotected _axisItemCount: number = 0;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tif (this.constructor === Axis) {\r\n\t\t\tthrow new Error(\"'Axis' cannot be instantiated directly. Please use a specific axis type.\");\r\n\t\t}\r\n\r\n\t\tthis.hideTooltipWhileZooming = true;\r\n\t\tthis.minWidth = 0.0001;\r\n\t\tthis.minHeight = 0.0001;\r\n\t\tthis.className = \"Axis\";\r\n\t\tthis.shouldClone = false;\r\n\t\tthis.setPropertyValue(\"cursorTooltipEnabled\", true);\r\n\t\tthis.toggleZoomOutButton = true;\r\n\t\tthis.zoomable = true;\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\t// Create title\r\n\t\tthis.title = new Label();\r\n\t\tthis.title.shouldClone = false;\r\n\t\tthis._disposers.push(this.title);\r\n\t\tthis.setPropertyValue(\"startLocation\", 0);\r\n\t\tthis.setPropertyValue(\"endLocation\", 1);\r\n\r\n\t\t// Data item iterator\r\n\t\tthis._dataItemsIterator = new $iter.ListIterator<this[\"_dataItem\"]>(this.dataItems, () => this.dataItems.create());\r\n\t\tthis._dataItemsIterator.createNewItems = true;\r\n\r\n\t\t// Create tooltip\r\n\t\tlet tooltip: Tooltip = new Tooltip();\r\n\t\tthis._disposers.push(tooltip);\r\n\t\ttooltip.label.padding(5, 10, 5, 10);\r\n\t\ttooltip.background.pointerLength = 5;\r\n\t\ttooltip.fitPointerToBounds = true;\r\n\t\ttooltip.background.filters.clear();\r\n\r\n\t\t// Set virtual parentfor the tooltip so that it can properly inheirt\r\n\t\t// formatters from the axis.\r\n\t\ttooltip.virtualParent = this;\r\n\r\n\t\t// Create background element for the tooltip\r\n\t\tlet background: PointedRectangle = <PointedRectangle>tooltip.background;\r\n\t\tbackground.cornerRadius = 0;\r\n\t\tbackground.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n\t\tbackground.stroke = background.fill;\r\n\t\tbackground.strokeWidth = 1;\r\n\t\tbackground.fillOpacity = 1;\r\n\t\ttooltip.label.fill = interfaceColors.getFor(\"alternativeText\");\r\n\r\n\t\tthis.tooltip = tooltip;\r\n\r\n\t\t// Accessibility\r\n\t\tthis.readerHidden = true;\r\n\r\n\t\tthis.events.on(\"rangechangestarted\", () => {\r\n\r\n\t\t\tthis.series.each((series) => {\r\n\t\t\t\tif (series.hideTooltipWhileZooming) {\r\n\t\t\t\t\tseries.tooltip.hide();\r\n\t\t\t\t\tseries.tooltip.preventShow = true;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif (this.hideTooltipWhileZooming) {\r\n\t\t\t\tthis.tooltip.hide();\r\n\t\t\t\tthis.tooltip.preventShow = true;\r\n\t\t\t}\r\n\t\t}, undefined, false);\r\n\r\n\t\tthis.events.on(\"rangechangeended\", () => {\r\n\t\t\tthis.series.each((series) => {\r\n\t\t\t\tif (series.hideTooltipWhileZooming) {\r\n\t\t\t\t\tseries.tooltip.hide();\r\n\t\t\t\t\tseries.tooltip.preventShow = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif (this.hideTooltipWhileZooming) {\r\n\t\t\t\tthis.tooltip.hide();\r\n\t\t\t\tthis.tooltip.preventShow = false;\r\n\t\t\t}\r\n\t\t}, undefined, false);\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a new/empty DataItem of the type appropriate for this object.\r\n\t *\r\n\t * @see {@link DataItem}\r\n\t * @return Data Item\r\n\t */\r\n\tprotected createDataItem(): this[\"_dataItem\"] {\r\n\t\treturn new AxisDataItem();\r\n\t}\r\n\r\n\t/**\r\n\t * Invalidates layout.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic invalidateLayout(): void {\r\n\t\tsuper.invalidateLayout();\r\n\t\t// this puts series after axis in invalidation order also makes series update it's data items in case widht/height of a series is not 100%\r\n\t\t$iter.each(this.series.iterator(), (series) => {\r\n\t\t\tseries.invalidateLayout();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Invalidates series of this axis.\r\n\t */\r\n\tpublic invalidateSeries(): void {\r\n\t\t// this puts series after axis in invalidation order also makes series update it's data items in case widht/height of a series is not 100%\r\n\t\t$iter.each(this.series.iterator(), (series) => {\r\n\t\t\tseries.invalidate();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Override to cancel super call for data element validation.\r\n\t * @ignore\r\n\t */\r\n\tpublic validateDataElements() {\r\n\t\tthis._axisItemCount = 0;\r\n\t\tif (this.ghostLabel) {\r\n\t\t\tthis.renderer.updateLabelElement(this.ghostLabel, this.start, this.end);\r\n\t\t\tthis.ghostLabel.validate();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Recalculates the number of grid items on the axis.\r\n\t */\r\n\tprotected updateGridCount() {\r\n\t\tif (this.renderer) {\r\n\t\t\tlet gridCount = this.axisLength / this.renderer.minGridDistance;\r\n\t\t\tif (gridCount != this._gridCount) {\r\n\t\t\t\tthis._gridCount = gridCount;\r\n\t\t\t\tthis.clearCache();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Redraws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validateLayout(): void {\r\n\r\n\t\tthis.axisFullLength = this.axisLength / (this.end - this.start);\r\n\r\n\t\tsuper.validateLayout();\r\n\t\tthis.updateGridCount();\r\n\t\tlet renderer = this.renderer;\r\n\t\tif (renderer) {\r\n\t\t\trenderer.updateAxisLine();\r\n\t\t\trenderer.updateTooltip();\r\n\t\t\trenderer.updateBaseGridElement();\r\n\t\t}\r\n\r\n\t\tif (this._prevLength != this.axisLength) {\r\n\t\t\tthis.dispatchImmediately(\"lengthchanged\");\r\n\t\t\tthis._prevLength = this.axisLength;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initializes Axis' renderer.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic initRenderer(): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adds a data item to the Axis.\r\n\t *\r\n\t * @param dataItem Data item\r\n\t */\r\n\tpublic appendDataItem(dataItem: this[\"_dataItem\"]) {\r\n\t\tlet renderer: AxisRenderer = this.renderer;\r\n\r\n\r\n\t\tlet tick = dataItem.tick;\r\n\t\tif (tick) {\r\n\t\t\tif (tick.above) {\r\n\t\t\t\ttick.parent = renderer.bulletsContainer;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttick.parent = renderer.gridContainer;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (dataItem.label) {\r\n\t\t\tdataItem.label.parent = renderer;\r\n\t\t}\r\n\r\n\t\tlet axisFill = dataItem.axisFill;\r\n\t\tif (axisFill) {\r\n\t\t\tif (axisFill.above) {\r\n\t\t\t\taxisFill.parent = renderer.bulletsContainer;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\taxisFill.parent = renderer.gridContainer;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet grid = dataItem.grid;\r\n\t\tif (grid) {\r\n\t\t\tif (grid.above) {\r\n\t\t\t\tgrid.parent = renderer.bulletsContainer;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tgrid.parent = renderer.gridContainer;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (dataItem.bullet) {\r\n\t\t\tdataItem.bullet.parent = renderer.bulletsContainer;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Redraws Axis' related items.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate(): void {\r\n\t\tsuper.validate();\r\n\t\tthis.validateLayout();\r\n\r\n\t\tthis.renderer.updateGridContainer();\r\n\t}\r\n\r\n\t/**\r\n\t * Redars Axis ranges.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validateAxisRanges(): void {\r\n\t\t$iter.each(this.axisRanges.iterator(), (axisRange) => {\r\n\t\t\tthis.appendDataItem(axisRange);\r\n\t\t\tthis.validateDataElement(axisRange);\r\n\t\t\tif (axisRange.grid) {\r\n\t\t\t\taxisRange.grid.validate();\r\n\t\t\t}\r\n\t\t\tif (axisRange.tick) {\r\n\t\t\t\taxisRange.tick.validate();\r\n\t\t\t}\r\n\t\t\tif (axisRange.axisFill) {\r\n\t\t\t\taxisRange.axisFill.validate();\r\n\t\t\t}\r\n\t\t\tif (axisRange.label) {\r\n\t\t\t\taxisRange.label.validate();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Invalidates all axis breaks, so they are redrawn.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validateBreaks(): void {\r\n\t\tif (this._axisBreaks) {\r\n\t\t\t$iter.each(this._axisBreaks.iterator(), (axisBreak) => {\r\n\t\t\t\taxisBreak.invalidate();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Associates an Axis break with this Axis, after it is inserted into\r\n\t * `axisBreaks`.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param event Event\r\n\t */\r\n\tpublic processBreak(event: IListEvents<this[\"_axisBreak\"]>[\"inserted\"]) {\r\n\t\tlet axisBreak: this[\"_axisBreak\"] = event.newValue;\r\n\t\taxisBreak.parent = this.renderer.breakContainer;\r\n\t\taxisBreak.axis = this;\r\n\t}\r\n\r\n\t/**\r\n\t * Registers a [[XYSeries]] element with this Axis.\r\n\t *\r\n\t * Returns a [[Disposer]] for all events, added to Series for watching\r\n\t * changes in Axis, and vice versa.\r\n\t * @ignore\r\n\t * @param series  Series\r\n\t * @return Event disposer\r\n\t */\r\n\tpublic registerSeries(series: XYSeries): IDisposer {\r\n\t\tthis.series.moveValue(series);\r\n\r\n\t\treturn new MultiDisposer([\r\n\t\t\tnew Disposer(() => {\r\n\t\t\t\tthis.series.removeValue(series);\r\n\t\t\t}),\r\n\r\n\t\t\tthis.events.on(\"lengthchanged\", series.invalidate, series, false),\r\n\t\t\tthis.events.on(\"lengthchanged\", series.createMask, series, false),\r\n\t\t\tthis.events.on(\"startchanged\", series.invalidate, series, false),\r\n\t\t\tthis.events.on(\"endchanged\", series.invalidate, series, false),\r\n\t\t\t//axis.events.on(\"validated\", chart.handleCursorPositionChange, chart, false)\t\t\t\r\n\r\n\t\t\t// TODO should these be disposed of ?\r\n\t\t\t//series.events.on(\"datavalidated\", this.processSeriesDataItems, this),\r\n\t\t\t//series.events.on(\"visibilitychanged\", this.processSeriesDataItems, this),\r\n\t\t\t//series.events.on(\"hidden\", this.processSeriesDataItems, this)\r\n\t\t]);\r\n\t}\r\n\r\n\t/**\r\n\t * An [[AxisRenderer]] to be used to render this Axis.\r\n\t *\r\n\t * Please note that most of the settings, related to Axis' appearance are set\r\n\t * via its renderer. Not directly on the Axis.\r\n\t *\r\n\t * E.g.:\r\n\t *\r\n\t * ```TypeScript\r\n\t * axis.renderer.inside = true;\r\n\t * axis.renderer.minLabelPosition = 0.1;\r\n\t * axis.renderer.maxLabelPosition = 0.9;\r\n\t * ```\r\n\t * ```JavaScript\r\n\t * axis.renderer.inside = true;\r\n\t * axis.renderer.minLabelPosition = 0.1;\r\n\t * axis.renderer.maxLabelPosition = 0.9;\r\n\t * ```\r\n\t *\r\n\t * @see {@link https://www.amcharts.com/docs/v4/concepts/axes/} for more info\r\n\t * @param renderer  Renderer\r\n\t */\r\n\tpublic set renderer(renderer: this[\"_renderer\"]) {\r\n\t\tif (renderer != this._renderer) {\r\n\t\t\tthis._renderer = renderer;\r\n\t\t\trenderer.chart = this.chart;\r\n\t\t\trenderer.axis = this;\r\n\t\t\trenderer.parent = this;\r\n\t\t\tthis.title.parent = this; // we add title to axis and set layout in renderer to avoid one extra container, as otherwise axis container would be used for holding renderer only\r\n\t\t\tthis.initRenderer();\r\n\r\n\t\t\tthis._disposers.push(renderer.gridContainer.events.on(\"maxsizechanged\", this.invalidate, this, false));\r\n\r\n\t\t\tlet ghostLabel = this.renderer.labels.create();\r\n\t\t\tthis._disposers.push(ghostLabel);\r\n\t\t\tghostLabel.dataItem = this.dataItems.template.clone(); // just for the adapters not to fail\r\n\t\t\tghostLabel.text = \"L\";\r\n\t\t\tghostLabel.parent = this.renderer;\r\n\t\t\tghostLabel.shouldClone = false;\r\n\t\t\tghostLabel.fillOpacity = 0;\r\n\t\t\tghostLabel.opacity = 0;\r\n\t\t\tghostLabel.strokeOpacity = 0;\r\n\t\t\tghostLabel.interactionsEnabled = false;\r\n\t\t\tghostLabel.validate();\r\n\r\n\t\t\tthis.ghostLabel = ghostLabel;\r\n\r\n\t\t\tthis.events.on(\"beforedatavalidated\", () => {\r\n\t\t\t\tghostLabel.text = \"L\";\r\n\t\t\t}, undefined, false);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Renderer\r\n\t */\r\n\tpublic get renderer(): this[\"_renderer\"] {\r\n\t\treturn this._renderer;\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a relative position to angle. (for circular axes)\r\n\t *\r\n\t * @param position Position (0-1)\r\n\t * @return Angle\r\n\t */\r\n\tpublic positionToAngle(position: number): number {\r\n\t\treturn this.renderer.positionToAngle(position);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts pixel coordinates to a relative position. (0-1)\r\n\t *\r\n\t * @param point  Coorinates (px)\r\n\t * @return Position (0-1)\r\n\t */\r\n\tpublic pointToPosition(point: IPoint): number {\r\n\t\treturn this.renderer.pointToPosition(point);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts relative position to coordinate.\r\n\t *\r\n\t * @since 4.7.15\r\n\t * @param position (0-1)\r\n\t * @return coordinate (px)\r\n\t */\r\n\tpublic positionToCoordinate(position: number): number {\r\n\t\treturn this.renderer.positionToCoordinate(position);\r\n\t}\r\n\r\n\t/**\r\n\t * [getAnyRangePath description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param start  [description]\r\n\t * @param end    [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getAnyRangePath(start: any, end: any): string {\r\n\t\treturn this.renderer.getPositionRangePath(start, end);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts any positional parameter to a relative position on axis.\r\n\t *\r\n\t * @todo Description (review)\r\n\t * @param value  Pisition\r\n\t * @return Position (0-1)\r\n\t */\r\n\tpublic anyToPosition(value: any): number {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Converts any positional parameter to a relative position on axis.\r\n\t *\r\n\t * @todo Description (review)\r\n\t * @param value  Pisition\r\n\t * @return Orientation point\r\n\t */\r\n\tpublic anyToPoint(value: any): IOrientationPoint {\r\n\t\treturn { x: 0, y: 0, angle: 0 };\r\n\t}\r\n\r\n\t/**\r\n\t * [getPositionRangePath description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param startPosition [description]\r\n\t * @param endPosition   [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getPositionRangePath(startPosition: number, endPosition: number): string {\r\n\t\tif (this.renderer) {\r\n\t\t\treturn this.renderer.getPositionRangePath(startPosition, endPosition);\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\t/**\r\n\t * Actual axis length in pixels.\r\n\t *\r\n\t * @return Axis length (px)\r\n\t */\r\n\tpublic get axisLength(): number {\r\n\t\tif (this.renderer) {\r\n\t\t\treturn this.renderer.axisLength;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates if axis should display a tooltip for chart's cursor.\r\n\t *\r\n\t * @param value Display tooltip?\r\n\t */\r\n\tpublic set cursorTooltipEnabled(value: boolean) {\r\n\t\tif (this.setPropertyValue(\"cursorTooltipEnabled\", value)) {\r\n\t\t\tif (value && this.renderer) {\r\n\t\t\t\tthis.renderer.updateTooltip();\r\n\t\t\t}\r\n\t\t\telse if (this.tooltip) {\r\n\t\t\t\tthis.tooltip.hide(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Normally, when axis is zoomed in, a zoom out button is shown by a chart,\r\n\t * and vice versa: when axis is zoomed out completely, zoom out button is\r\n\t * hidden.\r\n\t *\r\n\t * Setting this to `false` will disable this behavior. Zooming in our out\r\n\t * this axis will not reveal or hide zoom out button.\r\n\t *\r\n\t * @default true\r\n\t * @since 4.6.2\r\n\t * @param  value  Toggle zoom out button?\r\n\t */\r\n\tpublic set toggleZoomOutButton(value: boolean) {\r\n\t\tthis.setPropertyValue(\"toggleZoomOutButton\", value);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Toggle zoom out button?\r\n\t */\r\n\tpublic get toggleZoomOutButton(): boolean {\r\n\t\treturn this.getPropertyValue(\"toggleZoomOutButton\");\r\n\t}\r\n\r\n\t/**\r\n\t * @return Display tooltip?\r\n\t */\r\n\tpublic get cursorTooltipEnabled(): boolean {\r\n\t\treturn this.getPropertyValue(\"cursorTooltipEnabled\");\r\n\t}\r\n\r\n\t/**\r\n\t * Hides element's [[Tooltip]].\r\n\t *\r\n\t * @see {@link Tooltip}\r\n\t */\r\n\tpublic hideTooltip(duration?: number): void {\r\n\t\tsuper.hideTooltip(duration);\r\n\t\tthis._tooltipPosition = undefined;\r\n\t}\r\n\r\n\t/**\r\n\t * Shows Axis tooltip at specific relative position within Axis. (0-1)\r\n\t *\r\n\t * @param position Position (0-1)\r\n\t * @param local or global position\r\n\t */\r\n\tpublic showTooltipAtPosition(position: number, local?: boolean) {\r\n\t\tlet tooltip: Tooltip = this._tooltip;\r\n\r\n\t\tif (!tooltip || this.dataItems.length <= 0) {\r\n\t\t\tthis._tooltipPosition = undefined;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (!local) {\r\n\t\t\t\tposition = this.toAxisPosition(position);\r\n\t\t\t}\r\n\r\n\t\t\tif (!$type.isNumber(position) || position < this.start || position > this.end) {\r\n\t\t\t\ttooltip.hide(0);\r\n\t\t\t\tthis._tooltipPosition = undefined;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet renderer = this.renderer;\r\n\r\n\t\t\t//@todo: think of how to solve this better\r\n\t\t\tif (!tooltip.parent) {\r\n\t\t\t\ttooltip.parent = this.tooltipContainer;\r\n\t\t\t}\r\n\r\n\t\t\tlet tooltipLocation = renderer.tooltipLocation;\r\n\r\n\t\t\tlet startPosition: number = this.getCellStartPosition(position);\r\n\t\t\tlet endPosition: number = this.getCellEndPosition(position);\r\n\r\n\t\t\tif (this.tooltipPosition == \"fixed\") {\r\n\t\t\t\tposition = startPosition + (endPosition - startPosition) * tooltipLocation;\r\n\t\t\t}\r\n\r\n\t\t\tposition = $math.fitToRange(position, this.start, this.end);\r\n\r\n\t\t\tif (this._tooltipPosition != position) {\r\n\t\t\t\tthis._tooltipPosition = position;\r\n\r\n\t\t\t\tlet tooltipLocation2 = renderer.tooltipLocation2;\r\n\r\n\t\t\t\tlet startPoint: IPoint = renderer.positionToPoint(startPosition, tooltipLocation2);\r\n\t\t\t\tlet endPoint: IPoint = renderer.positionToPoint(endPosition, tooltipLocation2);\r\n\r\n\t\t\t\t// save values so cursor could use them\r\n\t\t\t\tthis.currentItemStartPoint = startPoint;\r\n\t\t\t\tthis.currentItemEndPoint = endPoint;\r\n\r\n\t\t\t\tif (renderer.fullWidthTooltip) {\r\n\t\t\t\t\ttooltip.width = endPoint.x - startPoint.x;\r\n\t\t\t\t\ttooltip.height = endPoint.y - startPoint.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet point: IPoint = renderer.positionToPoint(position, tooltipLocation2);\r\n\t\t\t\tlet globalPoint: IPoint = $utils.spritePointToSvg(point, this.renderer.line);\r\n\t\t\t\ttooltip.text = this.getTooltipText(position);\r\n\r\n\t\t\t\tif (tooltip.text) {\r\n\t\t\t\t\ttooltip.delayedPointTo(globalPoint);\r\n\t\t\t\t\ttooltip.show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.cursorTooltipEnabled || this.tooltip.disabled) {\r\n\t\t\t\ttooltip.hide(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Converts relative position (0-1) to Axis position with zoom level and\r\n\t * inversed taken into account.\r\n\t *\r\n\t * @param position Global position (0-1)\r\n\t * @return Position within Axis (0-1)\r\n\t */\r\n\tpublic toAxisPosition(position: number): number {\r\n\r\n\t\tposition = this.renderer.toAxisPosition(position);\r\n\r\n\t\tif (position == undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tposition = position * (this.end - this.start);\r\n\t\tif (this.renderer.inversed) {\r\n\t\t\tposition = this.end - position;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tposition = this.start + position;\r\n\t\t}\r\n\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/**\r\n\t * Converts position on the axis with zoom level and\r\n\t * inversed taken into account to global position.\r\n\t *\r\n\t * @param position Axis position (0-1)\r\n\t * @return Global position (0-1)\r\n\t */\r\n\tpublic toGlobalPosition(position: number): number {\r\n\t\tif (this.renderer.inversed) {\r\n\t\t\tposition = this.end - position;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tposition = position - this.start;\r\n\t\t}\r\n\r\n\t\treturn position / (this.end - this.start);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns text to be used for cursor's Axis tooltip.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param position  Position coordinate (px)\r\n\t * @return Label text\r\n\t */\r\n\tpublic getTooltipText(position: number): string {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/**\r\n\t * Updates Axis' tooltip's position and possibly size, and pointer (stem)\r\n\t * place.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param pointerOrientation  Pointer (stem) orientation\r\n\t * @param boundingRectangle   A rectangle for tooltip to fit within\r\n\t */\r\n\tpublic updateTooltip(pointerOrientation: PointerOrientation, boundingRectangle: IRectangle): void {\r\n\t\tlet tooltip: Tooltip = this._tooltip;\r\n\t\tif (tooltip) {\r\n\t\t\ttooltip.fixDoc = false;\r\n\t\t\ttooltip.pointerOrientation = pointerOrientation;\r\n\t\t\ttooltip.setBounds($utils.spriteRectToSvg(boundingRectangle, this.renderer.line));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * [roundPosition description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param position  Relative position\r\n\t * @param location  Location on axis\r\n\t * @return Rounded position\r\n\t */\r\n\tpublic roundPosition(position: number, location: AxisItemLocation, axisLocation?: number): number {\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/**\r\n\t * [getCellStartPosition description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param position [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getCellStartPosition(position: number): number {\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/**\r\n\t * [getCellEndPosition description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param position [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getCellEndPosition(position: number): number {\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/**\r\n\t * A list of axis ranges for this Axis.\r\n\t *\r\n\t * @return Axis ranges\r\n\t */\r\n\tpublic get axisRanges(): ListTemplate<this[\"_dataItem\"]> {\r\n\t\tif (!this._axisRanges) {\r\n\t\t\tlet dataItem: AxisDataItem = this.createDataItem();\r\n\t\t\tdataItem.isRange = true;\r\n\t\t\tdataItem.axisFill = this.renderer.axisFills.template.clone();\r\n\t\t\tdataItem.grid = this.renderer.grid.template.clone();\r\n\t\t\tdataItem.tick = this.renderer.ticks.template.clone();\r\n\t\t\tdataItem.label = this.renderer.labels.template.clone();\r\n\r\n\t\t\tdataItem.isTemplate = true;\r\n\t\t\tdataItem.component = this;\r\n\t\t\tdataItem.axisFill.disabled = false;\r\n\t\t\tdataItem.tick.disabled = false;\r\n\t\t\tdataItem.grid.disabled = false;\r\n\t\t\tdataItem.label.disabled = false;\r\n\r\n\t\t\tthis._axisRanges = new ListTemplate<this[\"_dataItem\"]>(dataItem);\r\n\t\t\tthis._axisRanges.events.on(\"inserted\", this.processAxisRange, this, false);\r\n\t\t\tthis._disposers.push(new ListDisposer(this._axisRanges));\r\n\t\t\tthis._disposers.push(this._axisRanges.template);\r\n\t\t}\r\n\t\treturn this._axisRanges;\r\n\t}\r\n\r\n\t/**\r\n\t * Decorates an axis range after it has been added to the axis range list.\r\n\t *\r\n\t * @param event Event\r\n\t */\r\n\tprotected processAxisRange(event: IListEvents<this[\"_dataItem\"]>[\"inserted\"]) {\r\n\t\tlet axisRange: AxisDataItem = event.newValue;\r\n\t\taxisRange.component = this;\r\n\t\taxisRange.isRange = true;\r\n\t}\r\n\r\n\t/**\r\n\t * A list of axis breaks on this Axis.\r\n\t *\r\n\t * @return Axis breaks.\r\n\t */\r\n\tpublic get axisBreaks(): SortedListTemplate<this[\"_axisBreak\"]> {\r\n\t\tif (!this._axisBreaks) {\r\n\t\t\tthis._axisBreaks = new SortedListTemplate<this[\"_axisBreak\"]>(this.createAxisBreak(), (a, b) => {\r\n\t\t\t\treturn $number.order(a.adjustedStartValue, b.adjustedStartValue);\r\n\t\t\t});\r\n\r\n\t\t\tthis._axisBreaks.events.on(\"inserted\", this.processBreak, this, false);\r\n\t\t\tthis._disposers.push(new ListDisposer(this._axisBreaks));\r\n\t\t\tthis._disposers.push(this._axisBreaks.template);\r\n\t\t}\r\n\t\treturn this._axisBreaks;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a new axis break.\r\n\t *\r\n\t * @return Axis break\r\n\t */\r\n\tprotected createAxisBreak(): this[\"_axisBreak\"] {\r\n\t\treturn new AxisBreak();\r\n\t}\r\n\r\n\t/**\r\n\t * A list of Series currently associated with this Axis.\r\n\t *\r\n\t * @return Series\r\n\t */\r\n\tpublic get series(): List<XYSeries> {\r\n\t\tif (!this._series) {\r\n\t\t\tthis._series = new List<XYSeries>();\r\n\t\t}\r\n\t\treturn this._series;\r\n\t}\r\n\r\n\t/**\r\n\t * Processes Series' data items.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic processSeriesDataItems(): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Processes Series' single data item.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param dataItem Data item\r\n\t */\r\n\tpublic processSeriesDataItem(dataItem: XYSeriesDataItem, axisLetter?: string): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Post-processes Serie's data items.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic postProcessSeriesDataItems(series?: XYSeries): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Post-processes Serie's single data item.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param dataItem Data item\r\n\t */\r\n\tpublic postProcessSeriesDataItem(dataItem: XYSeriesDataItem): void {\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\t/**\r\n\t * Updates Axis based on all Series that might influence it.\r\n\t *\r\n\t * Called by Series after Series data is validated.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic updateAxisBySeries(): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Hides unused data items.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic hideUnusedDataItems(): void {\r\n\t\t// hide all unused\r\n\t\tlet dataItemsIterator: $iter.ListIterator<this[\"_dataItem\"]> = this._dataItemsIterator;\r\n\r\n\t\tdataItemsIterator.createNewItems = false;\r\n\r\n\t\t$iter.each(dataItemsIterator.iterator(), (dataItem) => {\r\n\t\t\tthis.validateDataElement(dataItem); // solves shrinking\r\n\t\t\tdataItem.__disabled = true;\r\n\t\t});\r\n\r\n\t\tdataItemsIterator.clear();\r\n\t\tdataItemsIterator.createNewItems = true;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a Series' data item that corresponds to specific position on Axis.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param series    Series\r\n\t * @param position  Position (0-1)\r\n\t * @param findNearest  Should axis try to find nearest tooltip if there is no data item at exact position\r\n\t * @return Data item\r\n\t */\r\n\tpublic getSeriesDataItem(series: XYSeries, position: number, findNearest?: boolean): XYSeriesDataItem {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an angle that corresponds to specific position on axis.\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description (review)\r\n\t * @param dataItem  Data item\r\n\t * @param key       ???\r\n\t * @param location  Location\r\n\t * @param stackKey  ???\r\n\t * @return Angle\r\n\t */\r\n\tpublic getAngle(dataItem: XYSeriesDataItem, key: string, location?: number, stackKey?: string, range?: IRange): number {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/**\r\n\t * [getX description]\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description (review)\r\n\t * @param dataItem [description]\r\n\t * @param key      [description]\r\n\t * @param location [description]\r\n\t * @param stackKey [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getX(dataItem: XYSeriesDataItem, key: string, location?: number, stackKey?: string, range?: IRange): number {\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * [getX description]\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description (review)\r\n\t * @param dataItem [description]\r\n\t * @param key      [description]\r\n\t * @param location [description]\r\n\t * @param stackKey [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getPositionX(dataItem: XYSeriesDataItem, key: string, location?: number, stackKey?: string, range?: IRange): number {\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * [getY description]\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description (review)\r\n\t * @param dataItem [description]\r\n\t * @param key      [description]\r\n\t * @param location [description]\r\n\t * @param stackKey [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getY(dataItem: XYSeriesDataItem, key: string, location?: number, stackKey?: string, range?: IRange): number {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/**\r\n\t * [getY description]\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description (review)\r\n\t * @param dataItem [description]\r\n\t * @param key      [description]\r\n\t * @param location [description]\r\n\t * @param stackKey [description]\r\n\t * @return [description]\r\n\t */\r\n\tpublic getPositionY(dataItem: XYSeriesDataItem, key: string, location?: number, stackKey?: string, range?: IRange): number {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/**\r\n\t * Coordinates of the actual axis start.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return Base point coordinates\r\n\t */\r\n\tpublic get basePoint(): IPoint {\r\n\t\treturn { x: 0, y: 0 };\r\n\t}\r\n\r\n\t/**\r\n\t * [dataChangeUpdate description]\r\n\t *\r\n\t * This is a placeholder to override for extending classes.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t */\r\n\tpublic dataChangeUpdate(): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * [dataChangeUpdate description]\r\n\t *\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t */\r\n\tpublic seriesDataChangeUpdate(series: XYSeries): void {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Removes axis breaks that fall between `min` and `max` (???)\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description (review)\r\n\t * @param min  Start value\r\n\t * @param max  End value\r\n\t * @return Spread o\r\n\t */\r\n\tprotected adjustDifference(min: number, max: number): number {\r\n\t\tlet difference: number = max - min;\r\n\t\tif ($type.isNumber(difference)) {\r\n\t\t\tif (this._axisBreaks) {\r\n\t\t\t\t$iter.eachContinue(this._axisBreaks.iterator(), (axisBreak) => {\r\n\t\t\t\t\tlet startValue: number = axisBreak.adjustedStartValue;\r\n\t\t\t\t\tlet endValue: number = axisBreak.adjustedEndValue;\r\n\t\t\t\t\tif ($type.isNumber(startValue) && $type.isNumber(endValue)) {\r\n\t\t\t\t\t\t// breaks are sorted, we don't need go further anymore\r\n\t\t\t\t\t\tif (startValue > max) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (endValue >= min) {\r\n\t\t\t\t\t\t\tif ($type.isNumber(startValue) && $type.isNumber(endValue)) {\r\n\t\t\t\t\t\t\t\tlet breakSize: number = axisBreak.breakSize;\r\n\r\n\t\t\t\t\t\t\t\tlet intersection: IRange = $math.intersection({ start: startValue, end: endValue }, { start: min, end: max });\r\n\r\n\t\t\t\t\t\t\t\tif (intersection) {\r\n\t\t\t\t\t\t\t\t\tdifference -= (intersection.end - intersection.start) * (1 - breakSize);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn difference;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if specific value falls within a break.\r\n\t *\r\n\t * Returns [[AxisBreak]] the value falls into.\r\n\t *\r\n\t * @param value  Value to check\r\n\t * @return Axis break\r\n\t */\r\n\tprotected isInBreak(value: number): this[\"_axisBreak\"] {\r\n\t\tif (this._axisBreaks) {\r\n\t\t\treturn $iter.find(this._axisBreaks.iterator(), (axisBreak) =>\r\n\t\t\t\tvalue >= axisBreak.adjustedStartValue &&\r\n\t\t\t\tvalue <= axisBreak.adjustedEndValue);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * [fixAxisBreaks description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t */\r\n\tprotected fixAxisBreaks(): void {\r\n\t\tif (this._axisBreaks) {\r\n\t\t\tlet axisBreaks: SortedListTemplate<this[\"_axisBreak\"]> = this._axisBreaks;\r\n\t\t\tif (axisBreaks.length > 0) {\r\n\t\t\t\t// first make sure that startValue is <= end value\r\n\t\t\t\t// This needs to make a copy of axisBreaks because it mutates the list while traversing\r\n\t\t\t\t// TODO very inefficient\r\n\t\t\t\t$array.each($iter.toArray(axisBreaks.iterator()), (axisBreak) => {\r\n\t\t\t\t\tlet startValue: number = $math.min(axisBreak.startValue, axisBreak.endValue);\r\n\t\t\t\t\tlet endValue: number = $math.max(axisBreak.startValue, axisBreak.endValue);\r\n\r\n\t\t\t\t\taxisBreak.adjustedStartValue = startValue;\r\n\t\t\t\t\taxisBreak.adjustedEndValue = endValue;\r\n\r\n\t\t\t\t\tthis._axisBreaks.update(axisBreak);\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\tlet firstAxisBreak: this[\"_axisBreak\"] = axisBreaks.first;\r\n\t\t\t\tlet previousEndValue: number = Math.min(firstAxisBreak.startValue, firstAxisBreak.endValue);\r\n\r\n\t\t\t\t// process breaks\r\n\t\t\t\t// TODO does this need to call axisBreaks.update ?\r\n\t\t\t\t$iter.each(axisBreaks.iterator(), (axisBreak) => {\r\n\t\t\t\t\tlet startValue: number = axisBreak.adjustedStartValue;\r\n\t\t\t\t\tlet endValue: number = axisBreak.adjustedEndValue;\r\n\r\n\t\t\t\t\t// breaks can't overlap\r\n\t\t\t\t\t// if break starts before previous break ends\r\n\t\t\t\t\tif (startValue < previousEndValue) {\r\n\t\t\t\t\t\tstartValue = previousEndValue;\r\n\r\n\t\t\t\t\t\tif (endValue < previousEndValue) {\r\n\t\t\t\t\t\t\tendValue = previousEndValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\taxisBreak.adjustedStartValue = startValue;\r\n\t\t\t\t\taxisBreak.adjustedEndValue = endValue;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * We need start/end indexes of axes to be 0 - `dataItems.length`.\r\n\t *\r\n\t * Yes, also for category axis, this helps to avoid jumping of categories\r\n\t * while scrolling and does not do a lot of extra work as we use\r\n\t * protected `_startIndex` and `_endIndex` when working with items.\r\n\t *\r\n\t * @hidden\r\n\t */\r\n\r\n\t/**\r\n\t * [startIndex description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param value [description]\r\n\t */\r\n\tpublic set startIndex(value: number) {\r\n\t}\r\n\r\n\t/**\r\n\t * @ignore Exclude from docs\r\n\t * @return [description]\r\n\t */\r\n\tpublic get startIndex(): number {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * [endIndex description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @param value [description]\r\n\t */\r\n\tpublic set endIndex(value: number) {\r\n\t}\r\n\r\n\t/**\r\n\t * @ignore Exclude from docs\r\n\t * @return [description]\r\n\t */\r\n\tpublic get endIndex(): number {\r\n\t\treturn this.dataItems.length;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Returns a formatted label based on position.\r\n\t *\r\n\t * Individual axis types should override this method to generate a label\r\n\t * that is relevant to axis type.\r\n\t *\r\n\t * Please note that `position` represents position within axis which may be\r\n\t * zoomed and not correspond to Cursor's `position`.\r\n\t *\r\n\t * To convert Cursor's `position` to Axis' `position` use `toAxisPosition()` method.\r\n\t *\r\n\t * @see {@link https://www.amcharts.com/docs/v4/tutorials/tracking-cursors-position-via-api/#Tracking_Cursor_s_position} For more information about cursor tracking.\r\n\t * @param position  Relative position on axis (0-1)\r\n\t * @return Position label\r\n\t */\r\n\tpublic getPositionLabel(position: number): string {\r\n\t\treturn Math.round(position * 100) + \"%x\";\r\n\t}\r\n\r\n\t/**\r\n\t * A Chart this Axis belongs to.\r\n\t *\r\n\t * @param value  Chart\r\n\t */\r\n\tpublic set chart(value: Chart) {\r\n\t\tthis._chart = value;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Chart\r\n\t */\r\n\tpublic get chart(): Chart {\r\n\t\treturn this._chart;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a data item for a Series range.\r\n\t *\r\n\t * @param series  Target Series\r\n\t * @return Range data item\r\n\t */\r\n\tpublic createSeriesRange(series: XYSeries): this[\"_dataItem\"] {\r\n\t\tlet range = this.axisRanges.create();\r\n\t\trange.component = this;\r\n\t\trange.axisFill = this.renderer.axisFills.template.clone();\r\n\t\trange.axisFill.disabled = false;\r\n\t\trange.axisFill.fillOpacity = 0;\r\n\r\n\t\trange.grid = this.renderer.grid.template.clone();\r\n\t\trange.grid.disabled = true;\r\n\r\n\t\trange.tick = this.renderer.ticks.template.clone();\r\n\t\trange.tick.disabled = true;\r\n\r\n\t\trange.label = this.renderer.labels.template.clone();\r\n\t\trange.label.disabled = true;\r\n\r\n\t\trange.addDisposer(new Disposer(() => {\r\n\t\t\tseries.axisRanges.removeValue(range);\r\n\t\t}))\r\n\r\n\t\tseries.axisRanges.push(range);\r\n\t\treturn range;\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all properties and related data from a different instance of Axis.\r\n\t *\r\n\t * @param source Source Axis\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tsuper.copyFrom(source);\r\n\t\tif (this.renderer) {\r\n\t\t\tthis.renderer.copyFrom(source.renderer);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (source.renderer) {\r\n\t\t\t\tthis.renderer = source.renderer.clone();\r\n\t\t\t\tthis._disposers.push(this.renderer);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (source.title) {\r\n\t\t\tif (!this.title) {\r\n\t\t\t\tthis.title = source.title.clone();\r\n\t\t\t\tthis.title.parent = this;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.title.copyFrom(source.title);\r\n\t\t\t}\r\n\t\t\tthis._disposers.push(this.title);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Resets internal iterator.\r\n\t */\r\n\tprotected resetIterators(): void {\r\n\t\tthis._dataItemsIterator.reset();\r\n\t}\r\n\r\n\t/**\r\n\t * Processes JSON-based config before it is applied to the object.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param config  Config\r\n\t */\r\n\tpublic processConfig(config?: { [index: string]: any }): void {\r\n\r\n\t\tif (config) {\r\n\r\n\t\t\t// Set up axis ranges\r\n\t\t\tif ($type.hasValue(config.axisRanges) && $type.isArray(config.axisRanges)) {\r\n\t\t\t\tfor (let i = 0, len = config.axisRanges.length; i < len; i++) {\r\n\t\t\t\t\tlet range = config.axisRanges[i];\r\n\r\n\t\t\t\t\t// If `series` is set, we know it's a series range\r\n\t\t\t\t\tif ($type.hasValue(range[\"series\"])) {\r\n\t\t\t\t\t\tif ($type.isString(range[\"series\"])) {\r\n\t\t\t\t\t\t\tif (this.map.hasKey(range[\"series\"])) {\r\n\t\t\t\t\t\t\t\t//range[\"series\"] = this.map.getKey(range[\"series\"]);\r\n\t\t\t\t\t\t\t\tconfig.axisRanges[i] = this.createSeriesRange(this.map.getKey(range[\"series\"]));\r\n\t\t\t\t\t\t\t\tdelete (range[\"series\"]);\r\n\t\t\t\t\t\t\t\tconfig.axisRanges[i].config = range;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsuper.processConfig(config);\r\n\t}\r\n\r\n\t/**\r\n\t * Ordering function used in JSON setup.\r\n\t *\r\n\t * @param a  Item A\r\n\t * @param b  Item B\r\n\t * @return Order\r\n\t */\r\n\tprotected configOrder(a: string, b: string): Ordering {\r\n\t\tif (a == b) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// last\r\n\t\telse if (a == \"title\") {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\telse if (b == \"title\") {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\t// first\r\n\t\telse if (a == \"component\") {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\telse if (b == \"component\") {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn super.configOrder(a, b);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Axis start location. Works on Date/Category axis, doesn't work on Value axis.\r\n\t *\r\n\t * * 0 - Full first cell is shown.\r\n\t * * 0.5 - Half of first cell is shown.\r\n\t * * 1 - None of the first cell is visible. (you probably don't want that)\r\n\t *\r\n\t * @param value Location (0-1)\r\n\t */\r\n\tpublic set startLocation(value: number) {\r\n\t\tthis.setPropertyValue(\"startLocation\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Location (0-1)\r\n\t */\r\n\tpublic get startLocation(): number {\r\n\t\treturn this.getPropertyValue(\"startLocation\");\r\n\t}\r\n\r\n\t/**\r\n\t * Axis end location. Works on Date/Category axis, doesn't work on Value axis.\r\n\t *\r\n\t * * 0 - None of the last cell is shown. (don't do that)\r\n\t * * 0.5 - Half of the last cell is shown.\r\n\t * * 1 - Full last cell is shown.\r\n\t *\r\n\t * @param value Location (0-1)\r\n\t */\r\n\tpublic set endLocation(value: number) {\r\n\t\tthis.setPropertyValue(\"endLocation\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Location (0-1)\r\n\t */\r\n\tpublic get endLocation(): number {\r\n\t\treturn this.getPropertyValue(\"endLocation\");\r\n\t}\r\n\r\n\r\n\tprotected setDisabled(value: boolean) {\r\n\t\tlet changed = super.setDisabled(value);\r\n\t\tif (this.renderer) {\r\n\t\t\tthis.renderer.gridContainer.disabled = value;\r\n\t\t}\r\n\t\treturn changed;\r\n\t}\r\n\r\n\t/**\r\n\t * A reference to a [[Label]] element which serves as a title to the axis.\r\n\t *\r\n\t * When axis is created it aleready has an element, so you can just modify\r\n\t * it.\r\n\t *\r\n\t * Or you can replace it with your own instance of `Label`.\r\n\t * \r\n\t * @param  value  Title label\r\n\t */\r\n\tpublic set title(value: Label) {\r\n\t\tif (this._title && this._title != value) {\r\n\t\t\tthis._title.dispose();\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tthis._title = value;\r\n\t\t\tvalue.parent = this;\r\n\t\t\tvalue.shouldClone = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Title label\r\n\t */\r\n\tpublic get title(): Label {\r\n\t\treturn this._title;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Indicates if axis' tooltip should be hidden while axis range is animating\r\n\t * (zooming)\r\n\t * \r\n\t * @default true\r\n\t * @since 4.7.16\r\n\t * @param  value  Hide tooltip while zooming?\r\n\t */\r\n\tpublic set hideTooltipWhileZooming(value: boolean) {\r\n\t\tthis.setPropertyValue(\"hideTooltipWhileZooming\", value);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Hide tooltip while zooming?\r\n\t */\r\n\tpublic get hideTooltipWhileZooming(): boolean {\r\n\t\treturn this.getPropertyValue(\"hideTooltipWhileZooming\");\r\n\t}\r\n\r\n\t/**\r\n\t * Should the axis be zoomed with scrollbar/cursor?\r\n\t *\r\n\t * @default true\r\n\t * @since 4.9.28\r\n\t * @param  value  Zoomable?\r\n\t */\r\n\tpublic set zoomable(value: boolean) {\r\n\t\tthis.setPropertyValue(\"zoomable\", value);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Zoomable?\r\n\t */\r\n\tpublic get zoomable(): boolean {\r\n\t\treturn this.getPropertyValue(\"zoomable\");\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Axis\"] = Axis;\r\nregistry.registeredClasses[\"AxisDataItem\"] = AxisDataItem;\r\n\r\n/**\r\n * Add default responsive rules\r\n */\r\n\r\n/**\r\n * Disable axis tooltips.\r\n */\r\ndefaultRules.push({\r\n\trelevant: ResponsiveBreakpoints.maybeXS,\r\n\tstate: function(target, stateId) {\r\n\t\tif (target instanceof Axis && target.tooltip) {\r\n\t\t\tlet state = target.states.create(stateId);\r\n\t\t\tstate.properties.cursorTooltipEnabled = false;\r\n\t\t\treturn state;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}