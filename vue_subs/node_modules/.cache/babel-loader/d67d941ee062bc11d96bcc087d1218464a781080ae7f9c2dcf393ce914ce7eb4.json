{"ast":null,"code":"import { abs, asin, cos, epsilon, pi, sin, sqrt } from \"./math.js\";\nexport default function (a, b, c, d, e, f, g, h) {\n  if (arguments.length < 8) h = 0;\n  function forward(lambda, phi) {\n    if (!phi) return [a * lambda / pi, 0];\n    var phi2 = phi * phi,\n      xB = a + phi2 * (b + phi2 * (c + phi2 * d)),\n      yB = phi * (e - 1 + phi2 * (f - h + phi2 * g)),\n      m = (xB * xB + yB * yB) / (2 * yB),\n      alpha = lambda * asin(xB / m) / pi;\n    return [m * sin(alpha), phi * (1 + phi2 * h) + m * (1 - cos(alpha))];\n  }\n  forward.invert = function (x, y) {\n    var lambda = pi * x / a,\n      phi = y,\n      deltaLambda,\n      deltaPhi,\n      i = 50;\n    do {\n      var phi2 = phi * phi,\n        xB = a + phi2 * (b + phi2 * (c + phi2 * d)),\n        yB = phi * (e - 1 + phi2 * (f - h + phi2 * g)),\n        p = xB * xB + yB * yB,\n        q = 2 * yB,\n        m = p / q,\n        m2 = m * m,\n        dAlphadLambda = asin(xB / m) / pi,\n        alpha = lambda * dAlphadLambda,\n        xB2 = xB * xB,\n        dxBdPhi = (2 * b + phi2 * (4 * c + phi2 * 6 * d)) * phi,\n        dyBdPhi = e + phi2 * (3 * f + phi2 * 5 * g),\n        dpdPhi = 2 * (xB * dxBdPhi + yB * (dyBdPhi - 1)),\n        dqdPhi = 2 * (dyBdPhi - 1),\n        dmdPhi = (dpdPhi * q - p * dqdPhi) / (q * q),\n        cosAlpha = cos(alpha),\n        sinAlpha = sin(alpha),\n        mcosAlpha = m * cosAlpha,\n        msinAlpha = m * sinAlpha,\n        dAlphadPhi = lambda / pi * (1 / sqrt(1 - xB2 / m2)) * (dxBdPhi * m - xB * dmdPhi) / m2,\n        fx = msinAlpha - x,\n        fy = phi * (1 + phi2 * h) + m - mcosAlpha - y,\n        deltaxDeltaPhi = dmdPhi * sinAlpha + mcosAlpha * dAlphadPhi,\n        deltaxDeltaLambda = mcosAlpha * dAlphadLambda,\n        deltayDeltaPhi = 1 + dmdPhi - (dmdPhi * cosAlpha - msinAlpha * dAlphadPhi),\n        deltayDeltaLambda = msinAlpha * dAlphadLambda,\n        denominator = deltaxDeltaPhi * deltayDeltaLambda - deltayDeltaPhi * deltaxDeltaLambda;\n      if (!denominator) break;\n      lambda -= deltaLambda = (fy * deltaxDeltaPhi - fx * deltayDeltaPhi) / denominator;\n      phi -= deltaPhi = (fx * deltayDeltaLambda - fy * deltaxDeltaLambda) / denominator;\n    } while ((abs(deltaLambda) > epsilon || abs(deltaPhi) > epsilon) && --i > 0);\n    return [lambda, phi];\n  };\n  return forward;\n}","map":{"version":3,"names":["abs","asin","cos","epsilon","pi","sin","sqrt","a","b","c","d","e","f","g","h","arguments","length","forward","lambda","phi","phi2","xB","yB","m","alpha","invert","x","y","deltaLambda","deltaPhi","i","p","q","m2","dAlphadLambda","xB2","dxBdPhi","dyBdPhi","dpdPhi","dqdPhi","dmdPhi","cosAlpha","sinAlpha","mcosAlpha","msinAlpha","dAlphadPhi","fx","fy","deltaxDeltaPhi","deltaxDeltaLambda","deltayDeltaPhi","deltayDeltaLambda","denominator"],"sources":["/home/josh/Documents/projects/subs/vue_subs/node_modules/d3-geo-projection/src/ginzburgPolyconic.js"],"sourcesContent":["import {abs, asin, cos, epsilon, pi, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b, c, d, e, f, g, h) {\n  if (arguments.length < 8) h = 0;\n\n  function forward(lambda, phi) {\n    if (!phi) return [a * lambda / pi, 0];\n    var phi2 = phi * phi,\n        xB = a + phi2 * (b + phi2 * (c + phi2 * d)),\n        yB = phi * (e - 1 + phi2 * (f - h + phi2 * g)),\n        m = (xB * xB + yB * yB) / (2 * yB),\n        alpha = lambda * asin(xB / m) / pi;\n    return [m * sin(alpha), phi * (1 + phi2 * h) + m * (1 - cos(alpha))];\n  }\n\n  forward.invert = function(x, y) {\n    var lambda = pi * x / a,\n        phi = y,\n        deltaLambda, deltaPhi, i = 50;\n    do {\n      var phi2 = phi * phi,\n          xB = a + phi2 * (b + phi2 * (c + phi2 * d)),\n          yB = phi * (e - 1 + phi2 * (f - h + phi2 * g)),\n          p = xB * xB + yB * yB,\n          q = 2 * yB,\n          m = p / q,\n          m2 = m * m,\n          dAlphadLambda = asin(xB / m) / pi,\n          alpha = lambda * dAlphadLambda,\n          xB2 = xB * xB,\n          dxBdPhi = (2 * b + phi2 * (4 * c + phi2 * 6 * d)) * phi,\n          dyBdPhi = e + phi2 * (3 * f + phi2 * 5 * g),\n          dpdPhi = 2 * (xB * dxBdPhi + yB * (dyBdPhi - 1)),\n          dqdPhi = 2 * (dyBdPhi - 1),\n          dmdPhi = (dpdPhi * q - p * dqdPhi) / (q * q),\n          cosAlpha = cos(alpha),\n          sinAlpha = sin(alpha),\n          mcosAlpha = m * cosAlpha,\n          msinAlpha = m * sinAlpha,\n          dAlphadPhi = ((lambda / pi) * (1 / sqrt(1 - xB2 / m2)) * (dxBdPhi * m - xB * dmdPhi)) / m2,\n          fx = msinAlpha - x,\n          fy = phi * (1 + phi2 * h) + m - mcosAlpha - y,\n          deltaxDeltaPhi = dmdPhi * sinAlpha + mcosAlpha * dAlphadPhi,\n          deltaxDeltaLambda = mcosAlpha * dAlphadLambda,\n          deltayDeltaPhi = 1 + dmdPhi - (dmdPhi * cosAlpha - msinAlpha * dAlphadPhi),\n          deltayDeltaLambda = msinAlpha * dAlphadLambda,\n          denominator = deltaxDeltaPhi * deltayDeltaLambda - deltayDeltaPhi * deltaxDeltaLambda;\n      if (!denominator) break;\n      lambda -= deltaLambda = (fy * deltaxDeltaPhi - fx * deltayDeltaPhi) / denominator;\n      phi -= deltaPhi = (fx * deltayDeltaLambda - fy * deltaxDeltaLambda) / denominator;\n    } while ((abs(deltaLambda) > epsilon || abs(deltaPhi) > epsilon) && --i > 0);\n    return [lambda, phi];\n  };\n\n  return forward;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}