{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport Layout from \"@/layout/main.vue\";\nimport pageheader from \"@/components/page-header.vue\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport flatPickr from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.css\";\nimport { useAuthStore } from '@/stores/auth';\n// import bootstrapBundle from \"bootstrap/dist/js/bootstrap.bundle\";\n// import modules from \"@/state/modules\";\n\nexport default {\n  name: \"SUBSCRIPTIONS\",\n  components: {\n    Layout,\n    pageheader,\n    flatPickr\n  },\n  setup() {\n    const authStore = useAuthStore();\n    return {\n      authStore\n    };\n  },\n  data() {\n    return {\n      modalShow: false,\n      modalShow1: false,\n      modalShow2: false,\n      modalShow3: false,\n      modalShow4: false,\n      subscribers: [],\n      subscriptions: [],\n      subscriber: {\n        id: \"\",\n        first_name: \"\",\n        last_name: \"\",\n        middle_name: \"\",\n        ext_name: \"\",\n        marital_status: \"\",\n        gender: \"\",\n        contact_no: \"\",\n        address: \"\",\n        birth_date: \"\",\n        note: \"\",\n        is_good: \"\",\n        added_by: \"\"\n      },\n      operation: false,\n      operationSub: false,\n      operationBill: false,\n      operationPay: false,\n      operationTicket: false,\n      genderChoices: [],\n      maritalStatusChoices: [],\n      regions: [],\n      provinces: [],\n      municipalities: [],\n      barangays: [],\n      plans: [],\n      modems: [],\n      selectedRegion: null,\n      selectedProvince: null,\n      selectedMunicipality: null,\n      selectedBarangay: null,\n      subscription: {\n        id: \"\",\n        subscriber: \"\",\n        employee: \"\",\n        alias: \"\",\n        note: \"\",\n        referred_by: \"\",\n        region: \"\",\n        province: \"\",\n        municipality: \"\",\n        barangay: \"\",\n        purok: \"\",\n        latitude: 0.00,\n        longitude: 0.00,\n        landmark: \"\",\n        plan: \"\",\n        pon_no: \"\",\n        nap_no: \"\",\n        modem_serial: \"\",\n        modem: \"\",\n        sub_status: \"\",\n        sub_type: \"\",\n        date_activated: \"\",\n        date_terminated: \"\",\n        date_suspended: \"\",\n        modem_username: \"\",\n        modem_password: \"\",\n        created_on: \"\",\n        updated_by: \"\"\n      },\n      searchQuery: \"\",\n      // Search input\n      selectedRow: null,\n      // ID of the selected row\n      selectedRowSubs: null,\n      selectedRowBill: null,\n      bills: [],\n      bill: {\n        id: \"\",\n        billed_by: \"\",\n        subscription: \"\",\n        amount_due: \"\",\n        billing_date: \"\",\n        is_paid: \"\",\n        is_partial: \"\",\n        bill_type: \"\",\n        notice: \"\",\n        remarks: \"\",\n        billing_no: \"\"\n      },\n      payments: [],\n      payment: {\n        id: \"\",\n        subscription: \"\",\n        bill_no: \"\",\n        amount_paid: \"\",\n        payment_date: \"\",\n        is_paid: false,\n        is_partial: false,\n        is_cancelled: false,\n        remarks: \"\",\n        or_no: \"\",\n        or_ref_no: \"\",\n        payment_type: \"\",\n        cheque_no: \"\",\n        reference_no: \"\",\n        reference_picture: \"\"\n      },\n      tickets: [],\n      ticket: {\n        id: \"\",\n        prepared_by: \"\",\n        subscription: \"\",\n        subject: \"\",\n        description: \"\",\n        issue: \"\",\n        ticket_date: \"\",\n        ticket_no: \"\",\n        priority: \"\",\n        status: \"\",\n        remarks: \"\",\n        created_on: \"\"\n      }\n    };\n  },\n  created() {\n    this.getSubscribers();\n    this.getRegions();\n    this.getProvincesAll();\n    this.getMunicipalitiesAll();\n    this.getBarangaysAll();\n    this.getPlans();\n    this.getModems();\n    this.getIssues();\n    this.subscriber = {};\n  },\n  methods: {\n    async updatePlan() {\n      if (this.operation == false) {\n        await axios.post(\"/api/v1/subscribers/\", {\n          first_name: this.subscriber.first_name,\n          last_name: this.subscriber.last_name,\n          middle_name: this.subscriber.middle_name,\n          ext_name: this.subscriber.ext_name,\n          marital_status: this.subscriber.marital_status,\n          gender: this.subscriber.gender,\n          contact_no: this.subscriber.contact_no,\n          address: this.subscriber.address,\n          birth_date: this.subscriber.birth_date,\n          note: this.subscriber.note,\n          is_good: this.subscriber.is_good,\n          added_by: this.authStore.user.id\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow = !this.modalShow;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getSubscribers();\n        });\n      } else {\n        await axios.patch(`/api/v1/subscribers/${this.subscriber.id}/`, {\n          first_name: this.subscriber.first_name,\n          last_name: this.subscriber.last_name,\n          middle_name: this.subscriber.middle_name,\n          ext_name: this.subscriber.ext_name,\n          marital_status: this.subscriber.marital_status,\n          gender: this.subscriber.gender,\n          contact_no: this.subscriber.contact_no,\n          address: this.subscriber.address,\n          birth_date: this.subscriber.birth_date,\n          note: this.subscriber.note,\n          is_good: this.subscriber.is_good,\n          added_by: this.authStore.user.id\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow = !this.modalShow;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getSubscribers();\n        });\n      }\n    },\n    async updateSubscription() {\n      if (this.operationSub == false) {\n        await axios.post(\"/api/v1/subscriptions/\", {\n          subscriber: this.subscriber.id,\n          employee: this.authStore.user.id,\n          alias: this.subscription.alias,\n          note: this.subscription.note,\n          referred_by: this.subscription.referred_by,\n          region: this.subscription.region,\n          province: this.subscription.province,\n          municipality: this.subscription.municipality,\n          barangay: this.subscription.barangay,\n          purok: this.subscription.purok,\n          latitude: this.subscription.latitude,\n          longitude: this.subscription.longitude,\n          landmark: this.subscription.landmark,\n          plan: this.subscription.plan,\n          pon_no: this.subscription.pon_no,\n          nap_no: this.subscription.nap_no,\n          modem_serial: this.subscription.modem_serial,\n          modem: this.subscription.modem,\n          sub_status: this.subscription.sub_status,\n          sub_type: this.subscription.sub_type,\n          date_activated: this.subscription.date_activated,\n          date_tetminated: this.subscription.date_terminated,\n          date_suspended: this.subscription.date_suspended,\n          modem_username: this.subscription.modem_username,\n          modem_password: this.subscription.modem_password,\n          created_on: this.getDate()\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow1 = !this.modalShow1;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getSubscriptions(this.subscriber.id);\n        });\n      } else {\n        await axios.patch(`/api/v1/subscriptions/${this.subscription.id}/`, {\n          subscriber: this.subscriber.id,\n          employee: this.authStore.user.id,\n          alias: this.subscription.alias,\n          note: this.subscription.note,\n          referred_by: this.subscription.referred_by,\n          region: this.subscription.region,\n          province: this.subscription.province,\n          municipality: this.subscription.municipality,\n          barangay: this.subscription.barangay,\n          purok: this.subscription.purok,\n          latitude: this.subscription.latitude,\n          longitude: this.subscription.longitude,\n          landmark: this.subscription.landmark,\n          plan: this.subscription.plan,\n          pon_no: this.subscription.pon_no,\n          nap_no: this.subscription.nap_no,\n          modem_serial: this.subscription.modem_serial,\n          modem: this.subscription.modem,\n          sub_status: this.subscription.sub_status,\n          sub_type: this.subscription.sub_type,\n          date_activated: this.subscription.date_activated,\n          date_tetminated: this.subscription.date_terminated,\n          date_suspended: this.subscription.date_suspended,\n          modem_username: this.subscription.modem_username,\n          modem_password: this.subscription.modem_password\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow1 = !this.modalShow1;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getSubscriptions(this.subscriber.id);\n        });\n      }\n    },\n    updateBill() {\n      if (this.operationBill == false) {\n        axios.post(\"/api/v1/billings/\", {\n          billed_by: this.authStore.user.id,\n          subscription: this.subscription.id,\n          amount_due: this.bill.amount_due,\n          bill_type: this.bill.bill_type,\n          notice: this.bill.notice,\n          remarks: this.bill.remarks\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow2 = !this.modalShow2;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getBills(this.subscription.id);\n        });\n      } else {\n        axios.patch(`/api/v1/billings/${this.bill.id}/`, {\n          billed_by: this.authStore.user.id,\n          subscription: this.subscription.id,\n          amount_due: this.bill.amount_due,\n          bill_type: this.bill.bill_type,\n          notice: this.bill.notice,\n          remarks: this.bill.remarks\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow2 = !this.modalShow2;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getBills(this.subscription.id);\n        });\n      }\n    },\n    async updatePayment() {\n      if (this.operationPay == false) {\n        await axios.post(\"/api/v1/payments/\", {\n          received_by: this.authStore.user.id,\n          subscription: this.subscription.id,\n          bill_no: this.bill.id,\n          amount_paid: this.payment.amount_paid,\n          payment_date: this.payment.payment_date,\n          is_paid: this.payment.is_paid,\n          is_partial: this.payment.is_partial,\n          is_cancelled: this.payment.is_cancelled,\n          remarks: this.payment.remarks,\n          or_ref_no: this.payment.or_ref_no,\n          payment_type: this.payment.payment_type,\n          cheque_no: this.payment.cheque_no,\n          reference_no: this.payment.reference_no\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow3 = !this.modalShow3;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getPayments(this.bill.id);\n        });\n      } else {\n        await axios.patch(`/api/v1/payments/${this.payment.id}/`, {\n          received_by: this.authStore.user.id,\n          subscription: this.subscription.id,\n          bill_no: this.bill.id,\n          amount_paid: this.payment.amount_paid,\n          payment_date: this.payment.payment_date,\n          is_paid: this.payment.is_paid,\n          is_partial: this.payment.is_partial,\n          is_cancelled: this.payment.is_cancelled,\n          remarks: this.payment.remarks,\n          or_ref_no: this.payment.or_ref_no,\n          payment_type: this.payment.payment_type,\n          cheque_no: this.payment.cheque_no,\n          reference_no: this.payment.reference_no\n        }).then(response => {\n          console.log(response.data);\n          this.modalShow3 = !this.modalShow3;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getPayments(this.bill.id);\n        });\n      }\n    },\n    async updatePayment1() {\n      this.payment.is_paid = false;\n      this.payment.is_partial = false;\n      this.payment.is_cancelled = false;\n      if (this.payment.amount_paid >= this.bill.amount_due) {\n        this.payment.is_paid = true;\n      } else {\n        this.payment.is_partial = true;\n      }\n      const formData = new FormData();\n\n      // Add all fields to FormData\n      formData.append(\"received_by\", this.authStore.user.id);\n      formData.append(\"subscription\", this.subscription.id);\n      formData.append(\"bill_no\", this.bill.id);\n      formData.append(\"amount_paid\", this.payment.amount_paid);\n      formData.append(\"payment_date\", this.payment.payment_date);\n      formData.append(\"is_paid\", this.payment.is_paid);\n      formData.append(\"is_partial\", this.payment.is_partial);\n      formData.append(\"is_cancelled\", this.payment.is_cancelled);\n      formData.append(\"remarks\", this.payment.remarks);\n      formData.append(\"or_ref_no\", this.payment.or_ref_no);\n      formData.append(\"payment_type\", this.payment.payment_type);\n      formData.append(\"cheque_no\", this.payment.cheque_no);\n      formData.append(\"reference_no\", this.payment.reference_no);\n\n      // Add the file (if selected)\n      if (this.payment.reference_picture) {\n        formData.append(\"reference_picture\", this.payment.reference_picture);\n      }\n\n      // Use POST or PATCH based on the operation\n      const url = this.operationPay ? `/api/v1/payments/${this.payment.id}/` : \"/api/v1/payments/\";\n      const method = this.operationPay ? \"patch\" : \"post\";\n      try {\n        const response = await axios({\n          method,\n          url,\n          data: formData,\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        console.log(response.data);\n        this.modalShow3 = !this.modalShow3;\n        Swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"Your work has been saved\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        this.getPayments(this.bill.id);\n      } catch (error) {\n        console.error(\"Error during update:\", error);\n        Swal.fire({\n          position: \"top-end\",\n          icon: \"error\",\n          title: \"Failed to save your work\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n    },\n    async updateTicket() {\n      console.log(this.ticket.issue);\n      if (this.operationTicket == false) {\n        await axios.post(\"/api/v1/tickets/\", {\n          prepared_by: this.authStore.user.id,\n          subscription: this.subscription.id,\n          subject: this.ticket.subject,\n          description: this.ticket.description,\n          ticket_date: this.ticket.ticket_date,\n          priority: this.ticket.priority,\n          status: this.ticket.status,\n          remarks: this.ticket.remarks,\n          created_on: new Date()\n        }).then(() => {\n          this.modalShow4 = !this.modalShow4;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getTickets(this.subscription.id);\n        });\n      } else {\n        await axios.patch(`/api/v1/tickets/${this.ticket.id}/`, {\n          prepared_by: this.authStore.user.id,\n          subscription: this.subscription.id,\n          subject: this.ticket.subject,\n          description: this.ticket.description,\n          ticket_date: this.ticket.ticket_date,\n          priority: this.ticket.priority,\n          status: this.ticket.status,\n          remarks: this.ticket.remarks\n        }).then(() => {\n          this.modalShow4 = !this.modalShow4;\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"Your work has been saved\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getTickets(this.subscription.id);\n        });\n      }\n    },\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      if (file) {\n        this.payment.reference_picture = file;\n      } else {\n        this.payment.reference_picture = null;\n      }\n    },\n    async fetchChoices() {\n      try {\n        const response = await axios.get('/api/subscriber/choices/');\n        this.genderChoices = response.data.gender;\n        this.maritalStatusChoices = response.data.marital_status;\n      } catch (error) {\n        console.error('Error fetching choices:', error);\n      }\n    },\n    async getSubscribers() {\n      try {\n        await axios.get(\"/api/v1/subscribers/\").then(response => {\n          this.subscribers = response.data;\n        });\n      } catch (error) {\n        console.error('Error fetching subscribers:', error);\n      }\n    },\n    async getSubscribersSearch() {\n      try {\n        const params = {};\n        if (this.searchQuery) {\n          params.search = this.searchQuery; // Add search query to parameters\n        }\n        console.log(params);\n        const response = await axios.get(\"/api/v1/subscribers/\", {\n          params\n        });\n        this.subscribers = response.data;\n      } catch (error) {\n        console.error(\"Error fetching subscribers:\", error);\n      }\n    },\n    getDate() {\n      let d = new Date();\n      return d;\n    },\n    // Apply search\n    applySearch() {\n      this.getSubscribersSearch(); // Fetch data with current search query\n    },\n    // Reset search and fetch all data\n    resetSearch() {\n      this.searchQuery = \"\"; // Clear the search input\n      this.getSubscribersSearch(); // Fetch all data\n    },\n    getSubscriber(subs_id) {\n      this.modalShow = !this.modalShow;\n      this.operation = true;\n      axios.get(`/api/v1/subscribers/${subs_id}/`).then(response => {\n        this.subscriber = response.data;\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    async getSubscriber1(subs_id) {\n      await axios.get(`/api/v1/subscribers/${subs_id}/`).then(response => {\n        this.subscriber = response.data;\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    getSubscriberSubs(subs_id) {\n      axios.get(`/api/v1/subscribers/${subs_id}/`).then(response => {\n        this.subscriber = response.data;\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    async deleteSubscriber(subs_id) {\n      try {\n        await axios.delete(`/api/v1/subscribers/${subs_id}/`).then(() => {\n          this.subscribers = this.subscribers.filter(subs => subs.id !== subs_id);\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async deleteSubscription(id) {\n      try {\n        await axios.delete(`/api/v1/subscriptions/${id}/`).then(() => {\n          this.subscriptions = this.subscriptions.filter(subs => subs.id !== id);\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    showAddModal() {\n      this.subscriber = {};\n      this.modalShow = !this.modalShow;\n      this.operation = false;\n    },\n    showAddModalOpen() {\n      // this.getSubscriberSubs(id_no);\n      this.subscription = {};\n      this.modalShow1 = true;\n      this.operationSub = false;\n    },\n    showAddModalClose() {\n      // this.subscriber = {};\n      this.subscription = {};\n      this.modalShow1 = false;\n    },\n    cancelDelete(subs_id) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger ml-2\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        confirmButtonText: \"Yes, delete it!\",\n        cancelButtonText: \"No, cancel!\",\n        showCancelButton: true\n      }).then(result => {\n        if (result.value) {\n          this.deleteSubscriber(subs_id);\n          swalWithBootstrapButtons.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n        } else if (/* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Delete operation was cancelled.\", \"error\");\n        }\n      });\n    },\n    cancelDeleteSubs(id) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger ml-2\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        confirmButtonText: \"Yes, delete it!\",\n        cancelButtonText: \"No, cancel!\",\n        showCancelButton: true\n      }).then(result => {\n        if (result.value) {\n          this.deleteSubscription(id);\n          swalWithBootstrapButtons.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n        } else if (/* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Delete operation was cancelled.\", \"error\");\n        }\n      });\n    },\n    // formattedDateTime(date_time_field) {\n    //     if (!date_time_field) return '';\n\n    //     // Ensure correct parsing of ISO date with timezone\n    //     const date = new Date(Date.parse(date_time_field));\n\n    //     // Check if date is valid\n    //     if (isNaN(date.getTime())) {\n    //         console.error('Invalid date:', date_time_field);\n    //         return 'Invalid date';\n    //     }\n\n    //     // Format date and time\n    //     const formattedDate = date.toISOString().split('T')[0]; // YYYY-MM-DD\n    //     const hours = date.getHours();\n    //     const minutes = date.getMinutes();\n    //     const period = hours >= 12 ? 'PM' : 'AM';\n\n    //     // Convert 24-hour time to 12-hour time\n    //     const formattedHours = hours % 12 || 12;\n\n    //     // Pad minutes with leading zeros\n    //     const formattedMinutes = minutes.toString().padStart(2, '0');\n\n    //     // Combine formatted parts\n    //     return `${formattedDate}:${formattedHours}:${formattedMinutes}${period}`;\n    // },\n    formattedDateTime(date_time_field) {\n      if (!date_time_field) return '';\n\n      // Parse the date-time string\n      const date = new Date(Date.parse(date_time_field));\n\n      // Check if the parsed date is valid\n      if (isNaN(date.getTime())) {\n        console.error('Invalid date:', date_time_field);\n        return 'Invalid date';\n      }\n\n      // Extract parts of the date\n      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      const month = months[date.getMonth()];\n      const day = String(date.getDate()).padStart(2, '0');\n      const year = date.getFullYear();\n\n      // Extract and format time\n      const hours = date.getHours();\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      const period = hours >= 12 ? 'PM' : 'AM';\n      const formattedHours = hours % 12 || 12; // Convert 24-hour to 12-hour format\n\n      // Combine formatted parts\n      return `${month}-${day}-${year} @ ${formattedHours}:${minutes} ${period}`;\n    },\n    formattedBirthDate(date_time_field) {\n      if (!date_time_field) return '';\n\n      // Parse the date-time string\n      const date = new Date(Date.parse(date_time_field));\n\n      // Check if the parsed date is valid\n      if (isNaN(date.getTime())) {\n        console.error('Invalid date:', date_time_field);\n        return 'Invalid date';\n      }\n\n      // Extract parts of the date\n      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      const month = months[date.getMonth()];\n      const day = String(date.getDate()).padStart(2, '0');\n      const year = date.getFullYear();\n\n      // Combine formatted parts\n      return `${month}-${day}-${year}`;\n    },\n    async getRegions() {\n      try {\n        const response = await axios.get('/api/v1/regions/');\n        this.regions = response.data;\n      } catch (error) {\n        console.error('Error fetching regions:', error);\n      }\n    },\n    async getProvincesAll() {\n      try {\n        const response = await axios.get('/api/v1/provinces/');\n        this.provinces = response.data;\n      } catch (error) {\n        console.error('Error fetching probinces:', error);\n      }\n    },\n    async getMunicipalitiesAll() {\n      try {\n        const response = await axios.get('/api/v1/municipalities/');\n        this.municipalities = response.data;\n      } catch (error) {\n        console.error('Error fetching municipalities:', error);\n      }\n    },\n    async getBarangaysAll() {\n      try {\n        const response = await axios.get('/api/v1/barangays/');\n        this.barangays = response.data;\n      } catch (error) {\n        console.error('Error fetching barangays:', error);\n      }\n    },\n    async getProvinces() {\n      if (!this.subscription.region) return;\n      try {\n        const response = await axios.get(`/api/v1/provinces/?region_id=${this.subscription.region}`);\n        this.provinces = response.data;\n        this.municipalities = [];\n        this.barangays = [];\n        this.selectedProvince = null;\n        this.selectedMunicipality = null;\n        this.selectedBarangay = null;\n      } catch (error) {\n        console.error('Error fetching provinces:', error);\n      }\n    },\n    async getMunicipalities() {\n      if (!this.subscription.province) return;\n      try {\n        const response = await axios.get(`/api/v1/municipalities/?province_id=${this.subscription.province}`);\n        this.municipalities = response.data;\n        this.barangays = [];\n        this.selectedMunicipality = null;\n        this.selectedBarangay = null;\n      } catch (error) {\n        console.error('Error fetching municipalities:', error);\n      }\n    },\n    async getBarangays() {\n      if (!this.subscription.municipality) return;\n      try {\n        const response = await axios.get(`/api/v1/barangays/?municipality_id=${this.subscription.municipality}`);\n        this.barangays = response.data;\n      } catch (error) {\n        console.error('Error fetching barangays:', error);\n      }\n    },\n    async getPlans() {\n      try {\n        const response = await axios.get(\"/api/v1/plans/\");\n        this.plans = response.data;\n      } catch (error) {\n        console.error('Error fetching barangays:', error);\n      }\n    },\n    async getModems() {\n      try {\n        const response = await axios.get(\"/api/v1/modems/\");\n        this.modems = response.data;\n      } catch (error) {\n        console.error('Error fetching barangays:', error);\n      }\n    },\n    selectRow(rowId) {\n      this.selectedRow = rowId; // Set the selected row's ID\n      this.getSubscriber1(rowId);\n      this.getSubscriptions(rowId);\n      this.goToStartTab();\n    },\n    selectRowSubs(rowId) {\n      this.selectedRowSubs = rowId; // Set the selected row's ID\n      this.subscription = {};\n      // this.getSubscriber1(rowId);\n      // this.getSubscriptions(rowId);\n    },\n    selectRowBills(rowId) {\n      this.selectedRowBill = rowId; // Set the selected row's ID\n      this.bill = {};\n      // this.getSubscriber1(rowId);\n      // this.getSubscriptions(rowId);\n    },\n    // Fetch data with optional search query\n    async getSubscriptions(id) {\n      try {\n        const response = await axios.get(`/api/v1/subscriptions/?id=${id}`);\n        this.subscriptions = response.data;\n      } catch (error) {\n        console.error(\"Error fetching subscriptions:\", error);\n      }\n    },\n    async getSubscription(id) {\n      try {\n        const response = await axios.get(`/api/v1/subscriptions/${id}/`);\n        this.subscription = response.data;\n        this.modalShow1 = !this.modalShow1;\n        this.operationSub = true;\n      } catch (error) {\n        console.error(\"Error fetching subscription:\", error);\n      }\n    },\n    async goToNextTab(id) {\n      // Select the second tab\n\n      const secondTab = document.querySelector('#analytics-tab-2');\n      // Trigger a click event on the tab button to activate it\n      if (secondTab) {\n        secondTab.click();\n        try {\n          const response = await axios.get(`/api/v1/subscriptions/${id}/`);\n          this.subscription = response.data;\n          this.getBills(id);\n          this.getTickets(id);\n        } catch (error) {\n          console.error(\"Error fetching billing:\", error);\n        }\n      }\n    },\n    goToStartTab() {\n      const startTab = document.querySelector('#analytics-tab-1');\n      if (startTab) {\n        startTab.click();\n      }\n    },\n    async goToNextTabPay(id) {\n      // Select the second tab\n\n      const thirdTab = document.querySelector('#analytics-tab-3');\n      // Trigger a click event on the tab button to activate it\n      if (thirdTab) {\n        thirdTab.click();\n        try {\n          const response = await axios.get(`/api/v1/billings/${id}/`);\n          this.bill = response.data;\n          this.getPayments(id);\n        } catch (error) {\n          console.error(\"Error fetching payments:\", error);\n        }\n      }\n    },\n    // billing\n    showAddModalBillOpen() {\n      this.bill = {};\n      this.bill.billing_date = new Date();\n      if (this.subscription) {\n        this.bill.amount_due = this.subscription.plan_amount;\n      }\n      this.modalShow2 = !this.modalShow2;\n      this.operationBill = false;\n    },\n    showAddModalBillClose() {\n      this.modalShow2 = !this.modalShow2;\n      this.operationBill = false;\n      this.bill = {};\n    },\n    async getBill(id) {\n      try {\n        this.modalShow2 = !this.modalShow2;\n        this.operationBill = true;\n        await axios.get(`/api/v1/billings/${id}/`).then(response => {\n          this.bill = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async getBill1(id) {\n      try {\n        await axios.get(`/api/v1/billings/${id}/`).then(response => {\n          this.bill = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async getBills(id) {\n      try {\n        await axios.get(`/api/v1/billings/?id=${id}`).then(response => {\n          this.bills = response.data;\n          console.log(this.bills);\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async deleteBill(id) {\n      try {\n        await axios.delete(`/api/v1/billings/${id}/`).then(() => {\n          this.bills = this.bills.filter(bill => bill.id !== id);\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    cancelDeleteBill(id) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger ml-2\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        confirmButtonText: \"Yes, delete it!\",\n        cancelButtonText: \"No, cancel!\",\n        showCancelButton: true\n      }).then(result => {\n        if (result.value) {\n          this.deleteBill(id);\n          swalWithBootstrapButtons.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n        } else if (/* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Delete operation was cancelled.\", \"error\");\n        }\n      });\n    },\n    // payment\n    showAddModalPaymentOpen() {\n      this.payment = {};\n      if (this.bill) {\n        this.payment.amount_paid = this.bill.amount_due;\n      }\n      this.modalShow3 = !this.modalShow3;\n      this.operationPay = false;\n    },\n    showAddModalPaymentClose() {\n      this.modalShow3 = !this.modalShow3;\n      this.operationBill = false;\n      this.payment = {};\n    },\n    async getPayment(id) {\n      try {\n        this.modalShow3 = !this.modalShow3;\n        this.operationPay = true;\n        await axios.get(`/api/v1/payments/${id}/`).then(response => {\n          this.payment = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async getPayment1(id) {\n      try {\n        await axios.get(`/api/v1/payments/${id}/`).then(response => {\n          this.payment = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async getPayments(id) {\n      try {\n        await axios.get(`/api/v1/payments/?id=${id}`).then(response => {\n          this.payments = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async deletePayment(id) {\n      try {\n        await axios.delete(`/api/v1/payments/${id}/`).then(() => {\n          this.payments = this.payments.filter(pay => pay.id !== id);\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    cancelDeletePayment(id) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger ml-2\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        confirmButtonText: \"Yes, delete it!\",\n        cancelButtonText: \"No, cancel!\",\n        showCancelButton: true\n      }).then(result => {\n        if (result.value) {\n          this.deletePayment(id);\n          swalWithBootstrapButtons.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n        } else if (/* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Delete operation was cancelled.\", \"error\");\n        }\n      });\n    },\n    // ticket\n    showAddModalTicketOpen() {\n      this.ticket = {};\n      this.ticket.ticket_date = new Date();\n      this.modalShow4 = !this.modalShow4;\n      this.operationTicket = false;\n    },\n    showAddModalTicketClose() {\n      this.modalShow4 = !this.modalShow4;\n      this.operationTicket = false;\n      this.ticket = {};\n    },\n    async getIssues() {\n      try {\n        await axios.get(\"/api/v1/issues/\").then(response => {\n          this.issues = response.data;\n        });\n      } catch (error) {\n        console.error(\"Error fetching issues:\", error);\n      }\n    },\n    async getTicket(id) {\n      try {\n        this.modalShow4 = !this.modalShow4;\n        this.operationTicket = true;\n        await axios.get(`/api/v1/tickets/${id}/`).then(response => {\n          this.ticket = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async getTicket1(id) {\n      try {\n        await axios.get(`/api/v1/tickets/${id}/`).then(response => {\n          this.ticket = response.data;\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async getTickets(id) {\n      try {\n        await axios.get(`/api/v1/tickets/?id=${id}`).then(response => {\n          this.tickets = response.data;\n          console.log(this.tickets);\n        }).catch(error => {\n          console.log(JSON.stringify(error));\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    async deleteTicket(id) {\n      try {\n        await axios.delete(`/api/v1/tickets/${id}/`).then(() => {\n          this.tickets = this.tickets.filter(ticket => ticket.id !== id);\n        });\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    },\n    cancelDeleteTicket(id) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger ml-2\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        confirmButtonText: \"Yes, delete it!\",\n        cancelButtonText: \"No, cancel!\",\n        showCancelButton: true\n      }).then(result => {\n        if (result.value) {\n          this.deleteTicket(id);\n          swalWithBootstrapButtons.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n        } else if (/* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Delete operation was cancelled.\", \"error\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["Layout","pageheader","axios","Swal","flatPickr","useAuthStore","name","components","setup","authStore","data","modalShow","modalShow1","modalShow2","modalShow3","modalShow4","subscribers","subscriptions","subscriber","id","first_name","last_name","middle_name","ext_name","marital_status","gender","contact_no","address","birth_date","note","is_good","added_by","operation","operationSub","operationBill","operationPay","operationTicket","genderChoices","maritalStatusChoices","regions","provinces","municipalities","barangays","plans","modems","selectedRegion","selectedProvince","selectedMunicipality","selectedBarangay","subscription","employee","alias","referred_by","region","province","municipality","barangay","purok","latitude","longitude","landmark","plan","pon_no","nap_no","modem_serial","modem","sub_status","sub_type","date_activated","date_terminated","date_suspended","modem_username","modem_password","created_on","updated_by","searchQuery","selectedRow","selectedRowSubs","selectedRowBill","bills","bill","billed_by","amount_due","billing_date","is_paid","is_partial","bill_type","notice","remarks","billing_no","payments","payment","bill_no","amount_paid","payment_date","is_cancelled","or_no","or_ref_no","payment_type","cheque_no","reference_no","reference_picture","tickets","ticket","prepared_by","subject","description","issue","ticket_date","ticket_no","priority","status","created","getSubscribers","getRegions","getProvincesAll","getMunicipalitiesAll","getBarangaysAll","getPlans","getModems","getIssues","methods","updatePlan","post","user","then","response","console","log","fire","position","icon","title","showConfirmButton","timer","patch","updateSubscription","date_tetminated","getDate","getSubscriptions","updateBill","getBills","updatePayment","received_by","getPayments","updatePayment1","formData","FormData","append","url","method","headers","error","updateTicket","Date","getTickets","handleFileUpload","event","file","target","files","fetchChoices","get","getSubscribersSearch","params","search","d","applySearch","resetSearch","getSubscriber","subs_id","catch","JSON","stringify","getSubscriber1","getSubscriberSubs","deleteSubscriber","delete","filter","subs","deleteSubscription","showAddModal","showAddModalOpen","showAddModalClose","cancelDelete","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","text","confirmButtonText","cancelButtonText","showCancelButton","result","value","dismiss","DismissReason","cancel","cancelDeleteSubs","formattedDateTime","date_time_field","date","parse","isNaN","getTime","months","month","getMonth","day","String","padStart","year","getFullYear","hours","getHours","minutes","getMinutes","period","formattedHours","formattedBirthDate","getProvinces","getMunicipalities","getBarangays","selectRow","rowId","goToStartTab","selectRowSubs","selectRowBills","getSubscription","goToNextTab","secondTab","document","querySelector","click","startTab","goToNextTabPay","thirdTab","showAddModalBillOpen","plan_amount","showAddModalBillClose","getBill","getBill1","deleteBill","cancelDeleteBill","showAddModalPaymentOpen","showAddModalPaymentClose","getPayment","getPayment1","deletePayment","pay","cancelDeletePayment","showAddModalTicketOpen","showAddModalTicketClose","issues","getTicket","getTicket1","deleteTicket","cancelDeleteTicket"],"sources":["/home/josh/Documents/projects/subs/vue_subs/src/views/adashboard/subscribers.vue"],"sourcesContent":["<script>\nimport Layout from \"@/layout/main.vue\"\nimport pageheader from \"@/components/page-header.vue\"\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport flatPickr from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.css\";\nimport { useAuthStore } from '@/stores/auth';\n// import bootstrapBundle from \"bootstrap/dist/js/bootstrap.bundle\";\n// import modules from \"@/state/modules\";\n\n\nexport default {\n    name: \"SUBSCRIPTIONS\",\n    components: {\n        Layout, pageheader, flatPickr\n    },\n    setup() {\n        const authStore = useAuthStore();\n        return {\n            authStore,\n        };\n    },\n    data() {\n        return {\n            modalShow: false,\n            modalShow1: false,\n            modalShow2: false,\n            modalShow3: false,\n            modalShow4: false,\n            subscribers: [],\n            subscriptions: [],\n            subscriber: {\n                id:\"\",\n                first_name: \"\",\n                last_name: \"\",\n                middle_name: \"\",\n                ext_name: \"\",\n                marital_status: \"\",\n                gender: \"\",\n                contact_no:\"\",\n                address: \"\",\n                birth_date:\"\",\n                note: \"\",\n                is_good: \"\",\n                added_by: \"\",\n            },\n            operation: false,\n            operationSub: false,\n            operationBill: false,\n            operationPay: false,\n            operationTicket: false,\n            genderChoices: [],\n            maritalStatusChoices: [],\n\n            regions: [],\n            provinces: [],\n            municipalities: [],\n            barangays: [],\n            plans: [],\n            modems: [],\n            selectedRegion: null,\n            selectedProvince: null,\n            selectedMunicipality: null,\n            selectedBarangay: null,\n            subscription:{\n                id:\"\",\n                subscriber:\"\",\n                employee:\"\",\n                alias: \"\",\n                note: \"\",\n                referred_by: \"\",\n                region:\"\",\n                province:\"\",\n                municipality:\"\",\n                barangay:\"\",\n                purok: \"\",\n                latitude: 0.00,\n                longitude: 0.00,\n                landmark: \"\",\n                plan: \"\",\n                pon_no: \"\",\n                nap_no: \"\",\n                modem_serial: \"\",\n                modem: \"\",\n                sub_status: \"\",\n                sub_type:\"\",\n                date_activated:\"\",\n                date_terminated: \"\",\n                date_suspended: \"\",\n                modem_username: \"\",\n                modem_password: \"\",\n                created_on: \"\",\n                updated_by: \"\",\n            },\n            searchQuery: \"\", // Search input\n            selectedRow: null, // ID of the selected row\n            selectedRowSubs: null,\n            selectedRowBill: null,\n            bills: [],\n            bill: {\n                id:\"\",\n                billed_by:\"\",\n                subscription:\"\",\n                amount_due:\"\",\n                billing_date: \"\",\n                is_paid:\"\",\n                is_partial:\"\",\n                bill_type:\"\",\n                notice:\"\",\n                remarks:\"\",\n                billing_no: \"\",\n            },\n            payments: [],\n            payment: {\n                id: \"\",\n                subscription: \"\",\n                bill_no: \"\",\n                amount_paid: \"\",\n                payment_date: \"\",\n                is_paid: false,\n                is_partial: false,\n                is_cancelled: false,\n                remarks: \"\",\n                or_no: \"\",\n                or_ref_no: \"\",\n                payment_type: \"\",\n                cheque_no: \"\",\n                reference_no: \"\",\n                reference_picture: \"\",\n            },\n            tickets: [],\n            ticket: {\n                id: \"\",\n                prepared_by: \"\",\n                subscription: \"\",\n                subject: \"\",\n                description: \"\",\n                issue: \"\",\n                ticket_date: \"\",\n                ticket_no: \"\",\n                priority: \"\",\n                status: \"\",\n                remarks: \"\",\n                created_on: \"\",\n            },\n        }\n    },\n    created() {\n        this.getSubscribers();\n        this.getRegions();\n        this.getProvincesAll()\n        this.getMunicipalitiesAll();\n        this.getBarangaysAll();\n        this.getPlans();\n        this.getModems();\n        this.getIssues();\n        this.subscriber={};\n    },\n    methods: {\n        async updatePlan() {\n            if (this.operation==false) {\n                await axios.post(\"/api/v1/subscribers/\", { \n                    first_name: this.subscriber.first_name,\n                    last_name: this.subscriber.last_name,\n                    middle_name: this.subscriber.middle_name,\n                    ext_name: this.subscriber.ext_name,\n                    marital_status: this.subscriber.marital_status,\n                    gender: this.subscriber.gender,\n                    contact_no: this.subscriber.contact_no,\n                    address: this.subscriber.address,\n                    birth_date: this.subscriber.birth_date,\n                    note: this.subscriber.note,\n                    is_good: this.subscriber.is_good,\n                    added_by: this.authStore.user.id\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow = !this.modalShow;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getSubscribers();\n                });\n            } else {\n                await axios.patch(`/api/v1/subscribers/${this.subscriber.id}/`, { \n                    first_name: this.subscriber.first_name,\n                    last_name: this.subscriber.last_name,\n                    middle_name: this.subscriber.middle_name,\n                    ext_name: this.subscriber.ext_name,\n                    marital_status: this.subscriber.marital_status,\n                    gender: this.subscriber.gender,\n                    contact_no: this.subscriber.contact_no,\n                    address: this.subscriber.address,\n                    birth_date: this.subscriber.birth_date,\n                    note: this.subscriber.note,\n                    is_good: this.subscriber.is_good,\n                    added_by: this.authStore.user.id\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow = !this.modalShow;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getSubscribers();\n                });\n            }\n        },\n        async updateSubscription() {\n            if (this.operationSub==false){\n                await axios.post(\"/api/v1/subscriptions/\", { \n                    subscriber: this.subscriber.id,\n                    employee: this.authStore.user.id,\n                    alias: this.subscription.alias,\n                    note: this.subscription.note,\n                    referred_by: this.subscription.referred_by,\n                    region: this.subscription.region,\n                    province: this.subscription.province,\n                    municipality: this.subscription.municipality,\n                    barangay: this.subscription.barangay,\n                    purok: this.subscription.purok,\n                    latitude: this.subscription.latitude,\n                    longitude: this.subscription.longitude,\n                    landmark: this.subscription.landmark,\n                    plan: this.subscription.plan,\n                    pon_no: this.subscription.pon_no,\n                    nap_no: this.subscription.nap_no,\n                    modem_serial: this.subscription.modem_serial,\n                    modem: this.subscription.modem,\n                    sub_status: this.subscription.sub_status,\n                    sub_type: this.subscription.sub_type,\n                    date_activated: this.subscription.date_activated,\n                    date_tetminated: this.subscription.date_terminated,\n                    date_suspended: this.subscription.date_suspended,\n                    modem_username: this.subscription.modem_username,\n                    modem_password: this.subscription.modem_password,\n                    created_on: this.getDate()\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow1 = !this.modalShow1;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getSubscriptions(this.subscriber.id);\n                });\n            }else {\n                await axios.patch(`/api/v1/subscriptions/${this.subscription.id}/`, { \n                    subscriber: this.subscriber.id,\n                    employee: this.authStore.user.id,\n                    alias: this.subscription.alias,\n                    note: this.subscription.note,\n                    referred_by: this.subscription.referred_by,\n                    region: this.subscription.region,\n                    province: this.subscription.province,\n                    municipality: this.subscription.municipality,\n                    barangay: this.subscription.barangay,\n                    purok: this.subscription.purok,\n                    latitude: this.subscription.latitude,\n                    longitude: this.subscription.longitude,\n                    landmark: this.subscription.landmark,\n                    plan: this.subscription.plan,\n                    pon_no: this.subscription.pon_no,\n                    nap_no: this.subscription.nap_no,\n                    modem_serial: this.subscription.modem_serial,\n                    modem: this.subscription.modem,\n                    sub_status: this.subscription.sub_status,\n                    sub_type: this.subscription.sub_type,\n                    date_activated: this.subscription.date_activated,\n                    date_tetminated: this.subscription.date_terminated,\n                    date_suspended: this.subscription.date_suspended,\n                    modem_username: this.subscription.modem_username,\n                    modem_password: this.subscription.modem_password,\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow1 = !this.modalShow1;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getSubscriptions(this.subscriber.id);\n                });\n            }\n        },\n        updateBill() {\n            if (this.operationBill==false) {\n                axios.post(\"/api/v1/billings/\", { \n                    billed_by: this.authStore.user.id,\n                    subscription: this.subscription.id,\n                    amount_due:this.bill.amount_due,\n                    bill_type:this.bill.bill_type,\n                    notice: this.bill.notice,\n                    remarks: this.bill.remarks\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow2 = !this.modalShow2;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getBills(this.subscription.id);\n                });\n            } else {\n                axios.patch(`/api/v1/billings/${this.bill.id}/`, { \n                    billed_by: this.authStore.user.id,\n                    subscription: this.subscription.id,\n                    amount_due:this.bill.amount_due,\n                    bill_type:this.bill.bill_type,\n                    notice: this.bill.notice,\n                    remarks: this.bill.remarks\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow2 = !this.modalShow2;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getBills(this.subscription.id);\n                });\n            }\n        },\n        async updatePayment() {\n            if (this.operationPay==false) {\n                await axios.post(\"/api/v1/payments/\", { \n                    received_by: this.authStore.user.id,\n                    subscription: this.subscription.id,\n                    bill_no: this.bill.id,\n                    amount_paid: this.payment.amount_paid,\n                    payment_date: this.payment.payment_date,\n                    is_paid: this.payment.is_paid,\n                    is_partial: this.payment.is_partial,\n                    is_cancelled: this.payment.is_cancelled,\n                    remarks: this.payment.remarks,\n                    or_ref_no: this.payment.or_ref_no,\n                    payment_type: this.payment.payment_type,\n                    cheque_no: this.payment.cheque_no,\n                    reference_no: this.payment.reference_no\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow3 = !this.modalShow3;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getPayments(this.bill.id);\n                });\n            } else {\n                await axios.patch(`/api/v1/payments/${this.payment.id}/`, { \n                    received_by: this.authStore.user.id,\n                    subscription: this.subscription.id,\n                    bill_no: this.bill.id,\n                    amount_paid: this.payment.amount_paid,\n                    payment_date: this.payment.payment_date,\n                    is_paid: this.payment.is_paid,\n                    is_partial: this.payment.is_partial,\n                    is_cancelled: this.payment.is_cancelled,\n                    remarks: this.payment.remarks,\n                    or_ref_no: this.payment.or_ref_no,\n                    payment_type: this.payment.payment_type,\n                    cheque_no: this.payment.cheque_no,\n                    reference_no: this.payment.reference_no\n                }).then((response) => {\n                    console.log(response.data);\n                    this.modalShow3 = !this.modalShow3;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getPayments(this.bill.id);\n                });\n            }\n        },\n        async updatePayment1() {\n            this.payment.is_paid = false;\n            this.payment.is_partial = false;\n            this.payment.is_cancelled = false;\n            if (this.payment.amount_paid >= this.bill.amount_due) {\n                this.payment.is_paid = true \n            } else {\n                this.payment.is_partial = true;\n            }\n\n            const formData = new FormData();\n\n            // Add all fields to FormData\n            formData.append(\"received_by\", this.authStore.user.id);\n            formData.append(\"subscription\", this.subscription.id);\n            formData.append(\"bill_no\", this.bill.id);\n            formData.append(\"amount_paid\", this.payment.amount_paid);\n            formData.append(\"payment_date\", this.payment.payment_date);\n            formData.append(\"is_paid\", this.payment.is_paid);\n            formData.append(\"is_partial\", this.payment.is_partial);\n            formData.append(\"is_cancelled\", this.payment.is_cancelled);\n            formData.append(\"remarks\", this.payment.remarks);\n            formData.append(\"or_ref_no\", this.payment.or_ref_no);\n            formData.append(\"payment_type\", this.payment.payment_type);\n            formData.append(\"cheque_no\", this.payment.cheque_no);\n            formData.append(\"reference_no\", this.payment.reference_no);\n\n            // Add the file (if selected)\n            if (this.payment.reference_picture) {\n                formData.append(\"reference_picture\", this.payment.reference_picture);\n            }\n\n            // Use POST or PATCH based on the operation\n            const url = this.operationPay\n                ? `/api/v1/payments/${this.payment.id}/`\n                : \"/api/v1/payments/\";\n\n            const method = this.operationPay ? \"patch\" : \"post\";\n\n            try {\n                const response = await axios({\n                    method,\n                    url,\n                    data: formData,\n                    headers: {\n                        \"Content-Type\": \"multipart/form-data\",\n                    },\n                });\n\n                console.log(response.data);\n                this.modalShow3 = !this.modalShow3;\n                Swal.fire({\n                    position: \"top-end\",\n                    icon: \"success\",\n                    title: \"Your work has been saved\",\n                    showConfirmButton: false,\n                    timer: 1500,\n                });\n                this.getPayments(this.bill.id);\n            } catch (error) {\n                console.error(\"Error during update:\", error);\n                Swal.fire({\n                    position: \"top-end\",\n                    icon: \"error\",\n                    title: \"Failed to save your work\",\n                    showConfirmButton: false,\n                    timer: 1500,\n                });\n            }\n        },\n        async updateTicket() {\n            console.log(this.ticket.issue);\n            if (this.operationTicket==false) {\n                await axios.post(\"/api/v1/tickets/\", { \n                    prepared_by: this.authStore.user.id,\n                    subscription: this.subscription.id,\n                    subject: this.ticket.subject,\n                    description: this.ticket.description,\n                    ticket_date: this.ticket.ticket_date,\n                    priority: this.ticket.priority,\n                    status: this.ticket.status,\n                    remarks: this.ticket.remarks,\n                    created_on: new Date()\n                }).then(() => {\n                    this.modalShow4 = !this.modalShow4;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getTickets(this.subscription.id);\n                });\n            } else {\n                await axios.patch(`/api/v1/tickets/${this.ticket.id}/`, { \n                    prepared_by: this.authStore.user.id,\n                    subscription: this.subscription.id,\n                    subject: this.ticket.subject,\n                    description: this.ticket.description,\n                    ticket_date: this.ticket.ticket_date,\n                    priority: this.ticket.priority,\n                    status: this.ticket.status,\n                    remarks: this.ticket.remarks\n                }).then(() => {\n                    this.modalShow4 = !this.modalShow4;\n                    Swal.fire({\n                        position: \"top-end\",\n                        icon: \"success\",\n                        title: \"Your work has been saved\",\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                    this.getTickets(this.subscription.id);\n                });\n            }\n        },\n        handleFileUpload(event) {\n            const file = event.target.files[0];\n            if (file) {\n                this.payment.reference_picture = file;\n            } else {\n                this.payment.reference_picture = null;\n            }\n        },\n\n        async fetchChoices() {\n            try {\n                const response = await axios.get('/api/subscriber/choices/');\n                this.genderChoices = response.data.gender;\n                this.maritalStatusChoices = response.data.marital_status;\n            } catch (error) {\n                console.error('Error fetching choices:', error);\n            }\n        },\n        async getSubscribers() {\n            try {\n                await axios.get(\"/api/v1/subscribers/\").then((response)=> {\n                    this.subscribers = response.data;\n                });\n            } catch (error) {\n                console.error('Error fetching subscribers:', error);\n            }\n        },\n        async getSubscribersSearch() {\n            try {\n                const params = {};\n                if (this.searchQuery) {\n                    params.search = this.searchQuery; // Add search query to parameters\n                }\n                console.log(params);\n                const response = await axios.get(\"/api/v1/subscribers/\", { params });\n                this.subscribers = response.data;\n            } catch (error) {\n                console.error(\"Error fetching subscribers:\", error);\n            }\n        },\n        getDate() {\n            let d = new Date();\n            return d;\n        },\n        // Apply search\n        applySearch() {\n            this.getSubscribersSearch(); // Fetch data with current search query\n        },\n            // Reset search and fetch all data\n        resetSearch() {\n            this.searchQuery = \"\"; // Clear the search input\n            this.getSubscribersSearch(); // Fetch all data\n        },\n        getSubscriber(subs_id) {\n            this.modalShow = !this.modalShow;\n            this.operation = true;\n            axios.get(`/api/v1/subscribers/${subs_id}/`).then((response) => {\n                    this.subscriber = response.data;\n                }).catch(error => {\n                    console.log(JSON.stringify(error));\n            });\n        },\n        async getSubscriber1(subs_id) {\n            await axios.get(`/api/v1/subscribers/${subs_id}/`).then((response) => {\n                    this.subscriber = response.data;\n                }).catch(error => {\n                    console.log(JSON.stringify(error));\n            });\n        },\n        getSubscriberSubs(subs_id) {\n            axios.get(`/api/v1/subscribers/${subs_id}/`).then((response) => {\n                    this.subscriber = response.data;\n                }).catch(error => {\n                    console.log(JSON.stringify(error));\n            });\n        },\n        async deleteSubscriber(subs_id) {\n            try {\n                await axios.delete(`/api/v1/subscribers/${subs_id}/`).then(() => {\n                    this.subscribers = this.subscribers.filter((subs) => subs.id !== subs_id);\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async deleteSubscription(id) {\n            try {\n                await axios.delete(`/api/v1/subscriptions/${id}/`).then(() => {\n                    this.subscriptions = this.subscriptions.filter((subs) => subs.id !== id);\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        showAddModal() {\n            this.subscriber = {};\n            this.modalShow = !this.modalShow;\n            this.operation = false;\n        },\n        showAddModalOpen() {\n            // this.getSubscriberSubs(id_no);\n            this.subscription = {};\n            this.modalShow1 = true;\n            this.operationSub = false;\n        },\n        showAddModalClose() {\n            // this.subscriber = {};\n            this.subscription = {};\n            this.modalShow1 = false;\n        },\n        cancelDelete(subs_id) {\n            const swalWithBootstrapButtons = Swal.mixin({\n                customClass: {\n                    confirmButton: \"btn btn-success\",\n                    cancelButton: \"btn btn-danger ml-2\",\n                },\n                buttonsStyling: false,\n            });\n\n            swalWithBootstrapButtons\n                .fire({\n                    title: \"Are you sure?\",\n                    text: \"You won't be able to revert this!\",\n                    icon: \"warning\",\n                    confirmButtonText: \"Yes, delete it!\",\n                    cancelButtonText: \"No, cancel!\",\n                    showCancelButton: true,\n                })\n                .then((result) => {\n                    if (result.value) {\n                        this.deleteSubscriber(subs_id);\n                        swalWithBootstrapButtons.fire(\n                            \"Deleted!\",\n                            \"Your file has been deleted.\",\n                            \"success\"\n                        );\n                    } else if (\n                        /* Read more about handling dismissals below */\n                        result.dismiss === Swal.DismissReason.cancel\n                    ) {\n                        swalWithBootstrapButtons.fire(\n                            \"Cancelled\",\n                            \"Delete operation was cancelled.\",\n                            \"error\"\n                        );\n                    }\n                });\n        },\n        cancelDeleteSubs(id) {\n            const swalWithBootstrapButtons = Swal.mixin({\n                customClass: {\n                    confirmButton: \"btn btn-success\",\n                    cancelButton: \"btn btn-danger ml-2\",\n                },\n                buttonsStyling: false,\n            });\n\n            swalWithBootstrapButtons\n                .fire({\n                    title: \"Are you sure?\",\n                    text: \"You won't be able to revert this!\",\n                    icon: \"warning\",\n                    confirmButtonText: \"Yes, delete it!\",\n                    cancelButtonText: \"No, cancel!\",\n                    showCancelButton: true,\n                })\n                .then((result) => {\n                    if (result.value) {\n                        this.deleteSubscription(id);\n                        swalWithBootstrapButtons.fire(\n                            \"Deleted!\",\n                            \"Your file has been deleted.\",\n                            \"success\"\n                        );\n                    } else if (\n                        /* Read more about handling dismissals below */\n                        result.dismiss === Swal.DismissReason.cancel\n                    ) {\n                        swalWithBootstrapButtons.fire(\n                            \"Cancelled\",\n                            \"Delete operation was cancelled.\",\n                            \"error\"\n                        );\n                    }\n                });\n        },\n        // formattedDateTime(date_time_field) {\n        //     if (!date_time_field) return '';\n\n        //     // Ensure correct parsing of ISO date with timezone\n        //     const date = new Date(Date.parse(date_time_field));\n\n        //     // Check if date is valid\n        //     if (isNaN(date.getTime())) {\n        //         console.error('Invalid date:', date_time_field);\n        //         return 'Invalid date';\n        //     }\n\n        //     // Format date and time\n        //     const formattedDate = date.toISOString().split('T')[0]; // YYYY-MM-DD\n        //     const hours = date.getHours();\n        //     const minutes = date.getMinutes();\n        //     const period = hours >= 12 ? 'PM' : 'AM';\n\n        //     // Convert 24-hour time to 12-hour time\n        //     const formattedHours = hours % 12 || 12;\n\n        //     // Pad minutes with leading zeros\n        //     const formattedMinutes = minutes.toString().padStart(2, '0');\n\n        //     // Combine formatted parts\n        //     return `${formattedDate}:${formattedHours}:${formattedMinutes}${period}`;\n        // },\n        formattedDateTime(date_time_field) {\n            if (!date_time_field) return '';\n\n            // Parse the date-time string\n            const date = new Date(Date.parse(date_time_field));\n\n            // Check if the parsed date is valid\n            if (isNaN(date.getTime())) {\n                console.error('Invalid date:', date_time_field);\n                return 'Invalid date';\n            }\n\n            // Extract parts of the date\n            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n            const month = months[date.getMonth()];\n            const day = String(date.getDate()).padStart(2, '0');\n            const year = date.getFullYear();\n\n            // Extract and format time\n            const hours = date.getHours();\n            const minutes = String(date.getMinutes()).padStart(2, '0');\n            const period = hours >= 12 ? 'PM' : 'AM';\n            const formattedHours = hours % 12 || 12; // Convert 24-hour to 12-hour format\n\n            // Combine formatted parts\n            return `${month}-${day}-${year} @ ${formattedHours}:${minutes} ${period}`;\n        },\n        formattedBirthDate(date_time_field) {\n            if (!date_time_field) return '';\n\n            // Parse the date-time string\n            const date = new Date(Date.parse(date_time_field));\n\n            // Check if the parsed date is valid\n            if (isNaN(date.getTime())) {\n                console.error('Invalid date:', date_time_field);\n                return 'Invalid date';\n            }\n\n            // Extract parts of the date\n            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n            const month = months[date.getMonth()];\n            const day = String(date.getDate()).padStart(2, '0');\n            const year = date.getFullYear();\n\n            // Combine formatted parts\n            return `${month}-${day}-${year}`;\n        },\n        async getRegions() {\n            try {\n                const response = await axios.get('/api/v1/regions/');\n                this.regions = response.data;\n            } catch (error) {\n                console.error('Error fetching regions:', error);\n            }\n        },\n        async getProvincesAll() {\n            try {\n                const response = await axios.get('/api/v1/provinces/');\n                this.provinces = response.data;\n            } catch (error) {\n                console.error('Error fetching probinces:', error);\n            }\n        },\n        async getMunicipalitiesAll() {\n            try {\n                const response = await axios.get('/api/v1/municipalities/');\n                this.municipalities = response.data;\n            } catch (error) {\n                console.error('Error fetching municipalities:', error);\n            }\n        },\n        async getBarangaysAll() {\n            try {\n                const response = await axios.get('/api/v1/barangays/');\n                this.barangays = response.data;\n            } catch (error) {\n                console.error('Error fetching barangays:', error);\n            }\n        },\n        async getProvinces() {\n            if (!this.subscription.region) return;\n            try {\n                const response = await axios.get(`/api/v1/provinces/?region_id=${this.subscription.region}`);\n                this.provinces = response.data;\n                this.municipalities = [];\n                this.barangays = [];\n                this.selectedProvince = null;\n                this.selectedMunicipality = null;\n                this.selectedBarangay = null;\n            } catch (error) {\n                console.error('Error fetching provinces:', error);\n            }\n        },\n        async getMunicipalities() {\n            if (!this.subscription.province) return;\n            try {\n                const response = await axios.get(`/api/v1/municipalities/?province_id=${this.subscription.province}`);\n                this.municipalities = response.data;\n                this.barangays = [];\n                this.selectedMunicipality = null;\n                this.selectedBarangay = null;\n            } catch (error) {\n                console.error('Error fetching municipalities:', error);\n            }\n        },\n        async getBarangays() {\n            if (!this.subscription.municipality) return;\n            try {\n                const response = await axios.get(`/api/v1/barangays/?municipality_id=${this.subscription.municipality}`);\n                this.barangays = response.data;\n            } catch (error) {\n                console.error('Error fetching barangays:', error);\n            }\n        },\n        async getPlans() {\n            try {\n                const response = await axios.get(\"/api/v1/plans/\");\n                this.plans = response.data;\n            } catch (error) {\n                console.error('Error fetching barangays:', error);\n            }\n        },\n        async getModems() {\n            try {\n                const response = await axios.get(\"/api/v1/modems/\");\n                this.modems = response.data;\n            } catch (error) {\n                console.error('Error fetching barangays:', error);\n            }\n        },\n        selectRow(rowId) {\n            this.selectedRow = rowId; // Set the selected row's ID\n            this.getSubscriber1(rowId);\n            this.getSubscriptions(rowId);\n            this.goToStartTab();\n        },\n        selectRowSubs(rowId) {\n            this.selectedRowSubs = rowId; // Set the selected row's ID\n            this.subscription={};\n            // this.getSubscriber1(rowId);\n            // this.getSubscriptions(rowId);\n        },\n        selectRowBills(rowId) {\n            this.selectedRowBill = rowId; // Set the selected row's ID\n            this.bill={};\n            // this.getSubscriber1(rowId);\n            // this.getSubscriptions(rowId);\n        },\n\n        // Fetch data with optional search query\n        async getSubscriptions(id) {\n            try {\n                const response = await axios.get(`/api/v1/subscriptions/?id=${id}`);\n                this.subscriptions = response.data;\n            } catch (error) {\n                console.error(\"Error fetching subscriptions:\", error);\n            }\n        },\n        async getSubscription(id){\n            try {\n                const response = await axios.get(`/api/v1/subscriptions/${id}/`);\n                this.subscription = response.data;\n                this.modalShow1 = !this.modalShow1;\n                this.operationSub = true;\n            } catch (error) {\n                console.error(\"Error fetching subscription:\", error);\n            }\n        },\n        async goToNextTab(id) {\n            // Select the second tab\n            \n            const secondTab = document.querySelector('#analytics-tab-2');\n            // Trigger a click event on the tab button to activate it\n            if (secondTab) {\n                secondTab.click();\n                try {\n                    const response = await axios.get(`/api/v1/subscriptions/${id}/`);\n                    this.subscription = response.data;\n                    this.getBills(id);\n                    this.getTickets(id);\n                } catch (error) {\n                    console.error(\"Error fetching billing:\", error);\n                }\n            }\n        },\n        goToStartTab(){\n            const startTab = document.querySelector('#analytics-tab-1');\n            if (startTab){\n                startTab.click();\n            }\n        },\n        async goToNextTabPay(id) {\n            // Select the second tab\n            \n            const thirdTab = document.querySelector('#analytics-tab-3');\n            // Trigger a click event on the tab button to activate it\n            if (thirdTab) {\n                thirdTab.click();\n                try {\n                    const response = await axios.get(`/api/v1/billings/${id}/`);\n                    this.bill = response.data;\n                    this.getPayments(id);\n                } catch (error) {\n                    console.error(\"Error fetching payments:\", error);\n                }\n            }\n        },\n        \n        // billing\n        showAddModalBillOpen() {\n            this.bill={};\n            this.bill.billing_date = new Date();\n            if (this.subscription) {\n                this.bill.amount_due = this.subscription.plan_amount;\n            }\n            this.modalShow2=!this.modalShow2;\n            this.operationBill = false;\n        },\n        showAddModalBillClose() {\n            this.modalShow2=!this.modalShow2;\n            this.operationBill=false;\n            this.bill = {};\n        },\n        async getBill(id) {\n            try {\n                this.modalShow2=!this.modalShow2;\n                this.operationBill=true;\n                await axios.get(`/api/v1/billings/${id}/`).then((response) => {\n                        this.bill = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async getBill1(id) {\n            try {\n                await axios.get(`/api/v1/billings/${id}/`).then((response) => {\n                        this.bill = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async getBills(id) {\n            try {\n                await axios.get(`/api/v1/billings/?id=${id}`).then((response) => {\n                        this.bills = response.data;\n                        console.log(this.bills);\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async deleteBill(id) {\n            try {\n                await axios.delete(`/api/v1/billings/${id}/`).then(() => {\n                    this.bills = this.bills.filter((bill) => bill.id !== id);\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        cancelDeleteBill(id) {\n            const swalWithBootstrapButtons = Swal.mixin({\n                customClass: {\n                    confirmButton: \"btn btn-success\",\n                    cancelButton: \"btn btn-danger ml-2\",\n                },\n                buttonsStyling: false,\n            });\n\n            swalWithBootstrapButtons\n                .fire({\n                    title: \"Are you sure?\",\n                    text: \"You won't be able to revert this!\",\n                    icon: \"warning\",\n                    confirmButtonText: \"Yes, delete it!\",\n                    cancelButtonText: \"No, cancel!\",\n                    showCancelButton: true,\n                })\n                .then((result) => {\n                    if (result.value) {\n                        this.deleteBill(id);\n                        swalWithBootstrapButtons.fire(\n                            \"Deleted!\",\n                            \"Your file has been deleted.\",\n                            \"success\"\n                        );\n                    } else if (\n                        /* Read more about handling dismissals below */\n                        result.dismiss === Swal.DismissReason.cancel\n                    ) {\n                        swalWithBootstrapButtons.fire(\n                            \"Cancelled\",\n                            \"Delete operation was cancelled.\",\n                            \"error\"\n                        );\n                    }\n                });\n        },\n\n        // payment\n        showAddModalPaymentOpen() {\n            this.payment={};\n            if (this.bill){\n                this.payment.amount_paid = this.bill.amount_due;\n            }\n            this.modalShow3=!this.modalShow3;\n            this.operationPay = false;\n        },\n        showAddModalPaymentClose() {\n            this.modalShow3=!this.modalShow3;\n            this.operationBill=false;\n            this.payment = {};\n        },\n        async getPayment(id) {\n            try {\n                this.modalShow3=!this.modalShow3;\n                this.operationPay=true;\n                await axios.get(`/api/v1/payments/${id}/`).then((response) => {\n                        this.payment = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async getPayment1(id) {\n            try {\n                await axios.get(`/api/v1/payments/${id}/`).then((response) => {\n                        this.payment = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async getPayments(id) {\n            try {\n                await axios.get(`/api/v1/payments/?id=${id}`).then((response) => {\n                        this.payments = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async deletePayment(id) {\n            try {\n                await axios.delete(`/api/v1/payments/${id}/`).then(() => {\n                    this.payments = this.payments.filter((pay) => pay.id !== id);\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        cancelDeletePayment(id) {\n            const swalWithBootstrapButtons = Swal.mixin({\n                customClass: {\n                    confirmButton: \"btn btn-success\",\n                    cancelButton: \"btn btn-danger ml-2\",\n                },\n                buttonsStyling: false,\n            });\n\n            swalWithBootstrapButtons\n                .fire({\n                    title: \"Are you sure?\",\n                    text: \"You won't be able to revert this!\",\n                    icon: \"warning\",\n                    confirmButtonText: \"Yes, delete it!\",\n                    cancelButtonText: \"No, cancel!\",\n                    showCancelButton: true,\n                })\n                .then((result) => {\n                    if (result.value) {\n                        this.deletePayment(id);\n                        swalWithBootstrapButtons.fire(\n                            \"Deleted!\",\n                            \"Your file has been deleted.\",\n                            \"success\"\n                        );\n                    } else if (\n                        /* Read more about handling dismissals below */\n                        result.dismiss === Swal.DismissReason.cancel\n                    ) {\n                        swalWithBootstrapButtons.fire(\n                            \"Cancelled\",\n                            \"Delete operation was cancelled.\",\n                            \"error\"\n                        );\n                    }\n                });\n        },\n\n        // ticket\n        showAddModalTicketOpen() {\n            this.ticket={};\n            this.ticket.ticket_date = new Date();\n            this.modalShow4=!this.modalShow4;\n            this.operationTicket = false;\n        },\n        showAddModalTicketClose() {\n            this.modalShow4=!this.modalShow4;\n            this.operationTicket=false;\n            this.ticket = {};\n        },\n        async getIssues() {\n            try {\n                await axios.get(\"/api/v1/issues/\").then((response) => { this.issues = response.data });\n            } catch (error) {\n                console.error(\"Error fetching issues:\", error);\n            }\n        },\n        async getTicket(id) {\n            try {\n                this.modalShow4=!this.modalShow4;\n                this.operationTicket=true;\n                await axios.get(`/api/v1/tickets/${id}/`).then((response) => {\n                        this.ticket = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async getTicket1(id) {\n            try {\n                await axios.get(`/api/v1/tickets/${id}/`).then((response) => {\n                        this.ticket = response.data;\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async getTickets(id) {\n            try {\n                await axios.get(`/api/v1/tickets/?id=${id}`).then((response) => {\n                        this.tickets = response.data;\n                        console.log(this.tickets);\n                    }).catch(error => {\n                        console.log(JSON.stringify(error));\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        async deleteTicket(id) {\n            try {\n                await axios.delete(`/api/v1/tickets/${id}/`).then(() => {\n                    this.tickets = this.tickets.filter((ticket) => ticket.id !== id);\n                });\n            } catch(error) {\n                console.log(JSON.stringify(error));\n            }\n        },\n        cancelDeleteTicket(id) {\n            const swalWithBootstrapButtons = Swal.mixin({\n                customClass: {\n                    confirmButton: \"btn btn-success\",\n                    cancelButton: \"btn btn-danger ml-2\",\n                },\n                buttonsStyling: false,\n            });\n\n            swalWithBootstrapButtons\n                .fire({\n                    title: \"Are you sure?\",\n                    text: \"You won't be able to revert this!\",\n                    icon: \"warning\",\n                    confirmButtonText: \"Yes, delete it!\",\n                    cancelButtonText: \"No, cancel!\",\n                    showCancelButton: true,\n                })\n                .then((result) => {\n                    if (result.value) {\n                        this.deleteTicket(id);\n                        swalWithBootstrapButtons.fire(\n                            \"Deleted!\",\n                            \"Your file has been deleted.\",\n                            \"success\"\n                        );\n                    } else if (\n                        /* Read more about handling dismissals below */\n                        result.dismiss === Swal.DismissReason.cancel\n                    ) {\n                        swalWithBootstrapButtons.fire(\n                            \"Cancelled\",\n                            \"Delete operation was cancelled.\",\n                            \"error\"\n                        );\n                    }\n                });\n        },\n\n\n    }\n}\n</script>\n\n<template>\n    <Layout>\n        <pageheader title=\"Subscribers list\" pageTitle=\"Subscribers\" />\n            <BRow>\n                <BCol class=\"col-sm-12\">\n                    <BCard no-body class=\"table-card\">\n                        <BCardBody>\n                            <div class=\"d-flex justify-content-between align-items-center p-sm-4 pb-sm-2\">\n                                <!-- Search Input with Magnifying Glass -->\n                                <div class=\"input-group search-bar\">\n                                    <span class=\"input-group-text\">\n                                        <i class=\"ti ti-search\"></i> <!-- Magnifying Glass Icon -->\n                                    </span>\n                                    <input\n                                        v-model=\"searchQuery\"\n                                        type=\"text\"\n                                        placeholder=\"Search Subscribers...\"\n                                        class=\"form-control form-control-sm\"\n                                        @keydown.enter=\"applySearch\"\n                                    />\n                                </div>\n                                <!-- Add Subscriber Button -->\n                                <BButton variant=\"primary\" class=\"btn btn-sm\" @click=\"showAddModal\">Add Subscriber</BButton>\n                            </div>\n                            <!-- Fixed height and scrollable table -->\n                            <div class=\"table-responsive fixed-height\">\n                            <table class=\"table table-hover table-sm tbl-product\" id=\"pc-dt-simple\">\n                                <thead>\n                                <tr>\n                                    <th class=\"text-end\">#</th>\n                                    <th>Name</th>\n                                    <th>Marital/Gender</th>\n                                    <th>Contact</th>\n                                    <th>Address</th>\n                                    <th>birth_date</th>\n                                    <th>Good?</th>\n                                    <th class=\"text-end\">Added/Updated</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                <tr v-for=\"(subscriber, index) in subscribers\" \n                                    :key=\"subscriber.id\" \n                                    :class=\"{ 'table-active': selectedRow === subscriber.id }\"\n                                    @click=\"selectRow(subscriber.id)\">\n\n                                    <td class=\"text-end\">{{ index + 1 }}</td>\n                                    <td>\n                                    <BRow class=\"d-flex\">\n                                        <BCol>\n                                        <h6 class=\"mb-1\">\n                                            {{ subscriber.last_name }}, {{ subscriber.first_name }}\n                                            {{ subscriber.middle_name }} {{ subscriber.ext_name }}\n                                        </h6>\n                                        <p class=\"text-muted f-12 mb-0\">\n                                            {{ subscriber.id_no }} - {{ subscriber.added_by }}\n                                        </p>\n                                        </BCol>\n                                    </BRow>\n                                    </td>\n                                    <td>{{ subscriber.marital_status }}/{{ subscriber.gender }}</td>\n                                    <td>{{ subscriber.contact_no }}</td>\n                                    <td>{{ subscriber.address }}</td>\n                                    <td>{{ formattedBirthDate(subscriber.birth_date) }}</td>\n                                    <td class=\"text-start\">\n                                    <i\n                                        v-if=\"subscriber.is_good\"\n                                        class=\"ph-duotone ph-check-circle text-success f-24\"\n                                        data-bs-toggle=\"tooltip\"\n                                        data-bs-title=\"success\"\n                                    ></i>\n                                    <i\n                                        v-else\n                                        class=\"ph-duotone ph-x-circle text-danger f-24\"\n                                        data-bs-toggle=\"tooltip\"\n                                        data-bs-title=\"danger\"\n                                    ></i>\n                                    </td>\n                                    <td class=\"text-center\">\n                                    {{ formattedDateTime(subscriber.added_on) }}\n                                    <div class=\"prod-action-links\">\n                                        <ul class=\"list-inline me-auto mb-0\">\n                                        <li\n                                            class=\"list-inline-item align-bottom\"\n                                            data-bs-toggle=\"tooltip\"\n                                            title=\"Subscriptions\"\n                                        >\n                                            <a\n                                            href=\"#\"\n                                            @click=\"showAddModalOpen(subscriber.id)\"\n                                            class=\"avtar avtar-xs btn-link-secondary btn-pc-default\"\n                                            >\n                                            <i class=\"ti ti-eye f-18\"></i>\n                                            </a>\n                                        </li>\n                                        <li\n                                            class=\"list-inline-item align-bottom\"\n                                            data-bs-toggle=\"tooltip\"\n                                            title=\"Edit\"\n                                        >\n                                            <a\n                                            href=\"#\"\n                                            @click=\"getSubscriber(subscriber.id)\"\n                                            class=\"avtar avtar-xs btn-link-success btn-pc-default\"\n                                            >\n                                            <i class=\"ti ti-edit-circle f-18\"></i>\n                                            </a>\n                                        </li>\n                                        <li\n                                            class=\"list-inline-item align-bottom\"\n                                            data-bs-toggle=\"tooltip\"\n                                            title=\"Delete\"\n                                        >\n                                            <a\n                                            href=\"#\"\n                                            @click=\"cancelDelete(subscriber.id)\"\n                                            class=\"avtar avtar-xs btn-link-danger btn-pc-default\"\n                                            >\n                                            <i class=\"ti ti-trash f-18\"></i>\n                                            </a>\n                                        </li>\n                                        </ul>\n                                    </div>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            </div>\n                        </BCardBody>\n                </BCard>\n            </BCol>\n        </BRow>\n\n\n        <!---Subscriber modal -->\n        <BRow>\n            <BCol sm=\"12\">\n                <BCardBody class=\"pc-component\">\n                    <div>\n                        \n                        <BModal v-model=\"modalShow\" title=\"Subscriber\" hide-footer class=\"v-modal-custom\" size=\"md\">\n                            <div class=\"modal-body  p-0\">\n                                <BRow class=\" mb-1\">\n                                    <label for=\"first_name\" class=\"col-sm-2 col-form-label form-control-sm\">First</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscriber.first_name\" type=\"text\" class=\"form-control form-control-sm\" id=\"first_name\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"last_name\" class=\"col-sm-2 col-form-label form-control-sm\">Last</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscriber.last_name\" type=\"text\" class=\"form-control form-control-sm\" id=\"last_name\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"middle_name\" class=\"col-sm-2 col-form-label form-control-sm\">Middle</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscriber.middle_name\" type=\"text\" class=\"form-control form-control-sm\" id=\"middle_name\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"ext_name\">Ext.</label>\n                                    <BCol class=\"col-sm-3\">\n                                        <select v-model=\"subscriber.ext_name\" class=\"form-select form-select-sm\" id=\"ext_name\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"jr\">JR</option>\n                                            <option value=\"sr\">SR</option>\n                                        </select>\n                                    </BCol>\n\n                                    <label for=\"down\" class=\"col-sm-2 col-form-label form-control-sm\">Birth date</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <flat-pickr v-model=\"subscriber.birth_date\" :first-day-of-week=\"1\" lang=\"en\" confirm\n                                        class=\"form-control form-control-sm\"></flat-pickr>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"marital_status\">Status</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <select v-model=\"subscriber.marital_status\" class=\"form-select form-select-sm\" id=\"marital_status\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"single\" selected>Single</option>\n                                            <option value=\"married\">Married</option>\n                                            <option value=\"widow\">Widow</option>\n                                            <option value=\"annulled\">Annulled</option>\n                                            <option value=\"separated\">Separated</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"gender\">Gender</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <select v-model=\"subscriber.gender\" class=\"form-select form-select-sm\" id=\"gender\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"M\" selected >Male</option>\n                                            <option value=\"F\">Female</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"contact_no\" class=\"col-sm-2 col-form-label form-control-sm\">Contact #</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscriber.contact_no\" type=\"text\" class=\"form-control form-control-sm\" id=\"contact_no\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"address\" class=\"col-sm-2 col-form-label form-control-sm\">Address</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"subscriber.address\" class=\"form-control form-control-sm\" id=\"address\" rows=\"3\"></textarea>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"note\" class=\"col-sm-2 col-form-label form-control-sm\">Note</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"subscriber.note\" class=\"form-control form-control-sm\" id=\"note\" rows=\"3\"></textarea>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\"mb-1\">\n                                    <label for=\"good\" class=\"col-sm-2 col-form-label form-control-sm\">Good?</label>\n                                    <BCol class=\"col-sm-2\">\n                                        <div class=\"input-group mb-6\">\n                                            <div class=\"form-group form-check\">\n                                                <input v-model=\"subscriber.is_good\" type=\"checkbox\" class=\"form-check-input form-check-sm\" id=\"good\">\n                                            </div>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                            </div>\n                            <div class=\"modal-footer pb-0\">\n                                <button type=\"button\" class=\"btn btn-secondary btn-sm\" data-bs-dismiss=\"modal\" @click=\"modalShow = !modalShow\">Close</button>\n                                <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"updatePlan\">Save changes</button>\n                            </div>\n                        </BModal>\n                    </div>\n\n                </BCardBody>\n            </BCol>\n        </BRow>\n\n        <!---Subscription modal -->\n        <BRow>\n            <BCol sm=\"12\">\n                <BCardBody class=\"pc-component\">\n                    <div>\n                        <BModal v-model=\"modalShow1\" title=\"Subscription Plan\" hide-footer class=\"v-modal-custom\" size=\"md\">\n                            <div class=\"modal-body  p-0\">\n                                <BRow class=\" mb-10\">\n                                    <BCol class=\"mb-1\">\n                                        <div class=\"col-sm-10 text-center\">\n                                            <h5 class=\"mb-1\">{{ subscriber.last_name }}, {{ subscriber.first_name }}</h5>\n                                            <span text-muted f-12 mb-0>{{ subscriber.id_no }}</span>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                                <hr />\n                                <BRow class=\" mb-1\">\n                                    <label for=\"alias\" class=\"col-sm-2 col-form-label form-control-sm\">Account</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscription.alias\" type=\"text\" class=\"form-control form-select-sm\" id=\"alias\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"plan\" class=\"col-sm-2 col-form-label form-control-sm\">Plan</label>\n                                    <BCol class=\"col-sm-3\">\n                                        <select id=\"region\" v-model=\"subscription.plan\" class=\"form-select form-select-sm\">\n                                            <option v-for=\"plan in plans\" :key=\"plan.id\" :value=\"plan.id\">{{ plan.plan_name }}</option>\n                                        </select>\n                                    </BCol>\n                                    <label for=\"sub_type\" class=\"col-sm-2 col-form-label form-control-sm\">Type</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <select id=\"sub_type\" v-model=\"subscription.sub_type\" class=\"form-select form-select-sm\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"government\">Government</option>\n                                            <option value=\"vendo\">Vendo</option>\\\n                                            <option value=\"residential\">Residential</option>\n                                            <option value=\"business\">Business</option>\n                                            <option value=\"vip\">VIP</option>\n                                            <option value=\"test\">Testing</option>\n                                            <option value=\"employee\">Employee</option>\n                                            <option value=\"stations\">Station</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"modem\" class=\"col-sm-2 col-form-label form-control-sm\">Modem</label>\n                                    <BCol class=\"col-sm-3\">\n                                        <select id=\"modem\" v-model=\"subscription.modem\" class=\"form-select form-select-sm\">\n                                            <option v-for=\"modem in modems\" :key=\"modem.id\" :value=\"modem.id\">{{ modem.modem_brand }}</option>\n                                        </select>\n                                    </BCol>\n                                    <label for=\"serial_no\" class=\"col-sm-2 col-form-label form-control-sm\">Serial #</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <input v-model=\"subscription.modem_serial\" type=\"text\" class=\"form-control form-control-sm\" id=\"serial_no\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"pon_no\" class=\"col-sm-2 col-form-label form-control-sm\">PON #</label>\n                                    <BCol class=\"col-sm-3\">\n                                        <input v-model=\"subscription.pon_no\" type=\"text\" class=\"form-control form-control-sm\" id=\"pon_no\">\n                                    </BCol>\n                                    <label for=\"nap_no\" class=\"col-sm-2 col-form-label form-control-sm\">NAP #</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <input v-model=\"subscription.nap_no\" type=\"text\" class=\"form-control form-control-sm\" id=\"nap_no\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"region\" class=\"col-sm-2 col-form-label form-control-sm\">Region</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <select id=\"region\" v-model=\"subscription.region\" @change=\"getProvinces\" class=\"form-select form-select-sm\">\n                                            <option v-for=\"region in regions\" :key=\"region.id\" :value=\"region.id\">{{ region.name }}</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <div v-if=\"provinces.length | subscription?.province\">\n                                    <BRow class=\" mb-1\">\n                                        <label for=\"province\" class=\"col-sm-2 col-form-label form-control-sm\">Province</label>\n                                        <BCol class=\"col-sm-10\">\n                                            <select id=\"province\" v-model=\"subscription.province\" @change=\"getMunicipalities\" class=\"form-select form-select-sm\">\n                                                <option v-for=\"province in provinces\" :key=\"province.id\" :value=\"province.id\">{{ province.name }}</option>\n                                            </select>\n                                        </BCol>\n                                    </BRow>\n                                </div>\n                                <div v-if=\"municipalities.length\">\n                                    <BRow class=\" mb-1\">\n                                        <label for=\"municipality\" class=\"col-sm-2 col-form-label form-control-sm\">Municipality</label>\n                                        <BCol class=\"col-sm-10\">\n                                            <select id=\"municipality\" v-model=\"subscription.municipality\" @change=\"getBarangays\" class=\"form-select form-select-sm\">\n                                                <option v-for=\"municipality in municipalities\" :key=\"municipality.id\" :value=\"municipality.id\">{{ municipality.name }}</option>\n                                            </select>\n                                        </BCol>\n                                    </BRow>\n                                </div>\n                                <div v-if=\"barangays.length\">\n                                    <BRow class=\" mb-1\">\n                                        <label for=\"barangay\" class=\"col-sm-2 col-form-label form-control-sm\">Barangay</label>\n                                        <BCol class=\"col-sm-10\">\n                                            <select id=\"barangay\" v-model=\"subscription.barangay\" class=\"form-select form-select-sm\">\n                                                <option v-for=\"barangay in barangays\" :key=\"barangay.id\" :value=\"barangay.id\">{{ barangay.name }}</option>\n                                            </select>\n                                        </BCol>\n                                    </BRow>\n                                </div>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"purok\" class=\"col-sm-2 col-form-label form-control-sm\">Purok</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscription.purok\" type=\"text\" class=\"form-control form-control-sm\" id=\"purok\" />\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"latitude\">Latitude</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <input v-model=\"subscription.latitude\" type=\"text\" class=\"form-control form-control-sm\" id=\"latitude\">\n                                    </BCol>\n\n                                    <label for=\"longitude\" class=\"col-sm-2 col-form-label form-control-sm\">Longitude</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <input v-model=\"subscription.longitude\" class=\"form-control form-control-sm\" id=\"longitude\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"landmark\" class=\"col-sm-2 col-form-label form-control-sm\">Landmark</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"subscription.landmark\" type=\"text\" class=\"form-control form-control-sm\" id=\"landmark\" rows=\"2\"></textarea>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" md-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"sub_status\">Status</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <select v-model=\"subscription.sub_status\" class=\"form-select form-select-sm\" id=\"sub_status\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"active\">Active</option>\n                                            <option value=\"suspended\">Suspended</option>\n                                            <option value=\"terminated\">Terminated</option>\n                                            <option value=\"pending\">Pending</option>\n                                            <option value=\"warning\">Warning</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <br />\n                                <div v-if=\"subscription.sub_status=='active'\" class=\"mb-1\"> \n                                    <BRow class=\" md-1\">\n                                        <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"date_activated\">Activated on?</label>\n                                        <BCol class=\"col-sm-10\">\n                                            <flat-pickr v-model=\"subscription.date_activated\" :first-day-of-week=\"1\" lang=\"en\" confirm class=\"form-control form-control-sm\"></flat-pickr>\n                                        </BCol>\n                                    </BRow>\n                                </div>\n                                <div v-if=\"subscription.sub_status=='suspended'\" class=\"mb-1\">\n                                    <BRow class=\" md-1\">\n                                        <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"date_suspended\">Suspended on?</label>\n                                        <BCol class=\"col-sm-10\">\n                                            <flat-pickr v-model=\"subscription.date_suspended\" :first-day-of-week=\"1\" lang=\"en\" confirm\n                                        class=\"form-control form-control-sm\"></flat-pickr>\n                                        </BCol>\n                                    </BRow>\n                                </div>\n                                <div v-if=\"subscription.sub_status=='terminated'\" class=\"mb-1\">\n                                    <BRow class=\" md-1\">\n                                        <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"date_terminated\">Terminated on?</label>\n                                        <BCol class=\"col-sm-10\">\n                                            <flat-pickr v-model=\"subscription.date_terminated\" :first-day-of-week=\"1\" lang=\"en\" confirm\n                                        class=\"form-control form-control-sm\"></flat-pickr>\n                                        </BCol>\n                                    </BRow>\n                                </div>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"modem_username\" class=\"col-sm-2 col-form-label form-control-sm\">User</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <input v-model=\"subscription.modem_username\" type=\"text\" class=\"form-control form-control-sm\" id=\"modem_username\">\n                                    </BCol>\n                                    <label for=\"modem_password\" class=\"col-sm-2 col-form-label form-control-sm\">Password</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <input v-model=\"subscription.modem_password\" type=\"text\" class=\"form-control form-control-sm\" id=\"modem_password\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"reffered_by\" class=\"col-sm-2 col-form-label form-control-sm\">Ref. by</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"subscription.referred_by\" class=\"form-control form-control-sm\" id=\"reffered_by\" />\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"note\" class=\"col-sm-2 col-form-label form-control-sm\">Note</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"subscription.note\" class=\"form-control form-control-sm\" id=\"note\" rows=\"2\"></textarea>\n                                    </BCol>\n                                </BRow>\n                            </div>\n                            <div class=\"modal-footer pb-0\">\n                                <button type=\"button\" class=\"btn btn-sm btn-secondary\" data-bs-dismiss=\"modal\" @click=\"showAddModalClose\">Close</button>\n                                <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"updateSubscription\">Save changes</button>\n                            </div>\n                        </BModal>\n                    </div>\n\n                </BCardBody>\n            </BCol>\n        </BRow>\n        <!-- Subscription modal-->\n\n        <!-- Billing modal -->\n        <BRow>\n            <BCol sm=\"12\">\n                <BCardBody class=\"pc-component\">\n                    <div>\n                        <BModal v-model=\"modalShow2\" title=\"Billing\" hide-footer class=\"v-modal-custom\" size=\"md\">\n                            <div class=\"modal-body  p-0\">\n                                <BRow class=\" mb-10\">\n                                    <BCol class=\"mb-1\">\n                                        <div class=\"col-sm-10 text-center\">\n                                            <h5 class=\"mb-1\">{{ subscriber.last_name }}, {{ subscriber.first_name }}</h5>\n                                            <span text-muted f-12 mb-0>{{ subscription.no }}</span>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                                <hr />\n                                <BRow class=\" mb-1\">\n                                    <label for=\"alias\" class=\"col-sm-2 col-form-label form-control-sm\">Billed by </label>\n                                    <BCol class=\"col-sm-10\">\n                                        <h6>{{ authStore.user.last_name }}, {{ authStore.user.first_name }}</h6>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"date_suspended\">Date</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <flat-pickr v-model=\"bill.billing_date\" :first-day-of-week=\"1\" lang=\"en\" confirm\n                                    class=\"form-control form-control-sm\"></flat-pickr>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"amount\" class=\"col-sm-2 col-form-label form-control-sm\">Due</label>\n                                    <BCol class=\"col-sm-6\">\n                                        <div class=\"input-group input-group-sm mb-1\">\n                                            <span class=\"input-group-text\">Php</span>\n                                            <input v-model=\"bill.amount_due\" type=\"text\" class=\"form-control form-control-sm text-end\" aria-label=\"Amount (to the nearest peso)\" id=\"amount\">\n                                            <span class=\"input-group-text\">.00</span>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"type\">Type</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <select v-model=\"bill.bill_type\" class=\"form-select form-select-sm\" id=\"type\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"type1\">Type 1</option>\n                                            <option value=\"type2\">Type 2</option>\n                                            <option value=\"Type3\">Type 3</option>\n                                        </select>\n                                    </BCol>\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"notice\">Notice</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <select v-model=\"bill.notice\" class=\"form-select form-select-sm\" id=\"notice\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"disconnection\">Disconnection</option>\n                                            <option value=\"updated\">Updated</option>\n                                            <option value=\"disconnected\">Disconnected</option>\n                                            <option value=\"warning\">Warning</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"remarks\" class=\"col-sm-2 col-form-label form-control-sm\">Remarks</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"bill.remarks\" class=\"form-control form-control-sm\" id=\"remarks\" rows=\"3\"></textarea>\n                                    </BCol>\n                                </BRow>\n                            </div>\n                            <div class=\"modal-footer pb-0\">\n                                <button type=\"button\" class=\"btn btn-sm btn-secondary\" data-bs-dismiss=\"modal\" @click=\"showAddModalBillClose\">Close</button>\n                                <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"updateBill\">Save changes</button>\n                            </div>\n                        </BModal>\n                    </div>\n\n                </BCardBody>\n            </BCol>\n        </BRow>\n\n         <!-- Payment modal -->\n         <BRow>\n            <BCol sm=\"12\">\n                <BCardBody class=\"pc-component\">\n                    <div>\n                        <BModal v-model=\"modalShow3\" title=\"Payment\" hide-footer class=\"v-modal-custom\" size=\"md\">\n                            <div class=\"modal-body  p-0\">\n                                <BRow class=\" mb-10\">\n                                    <BCol class=\"mb-1\">\n                                        <div class=\"col-sm-10 text-center\">\n                                            <h5 class=\"mb-1\">{{ subscriber.last_name }}, {{ subscriber.first_name }}</h5>\n                                            <span text-muted f-12 mb-0>{{ subscription.no }} - {{ subscription.alias }} | {{ bill.billing_no }}</span>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                                <hr />\n                                <BRow class=\" mb-1\">\n                                    <label for=\"alias\" class=\"col-sm-2 col-form-label form-control-sm\">Cashier</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <h5>{{ authStore.user.last_name }}, {{ authStore.user.first_name }}</h5>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"date_payment\">Date</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <flat-pickr v-model=\"payment.payment_date\" :first-day-of-week=\"1\" lang=\"en\" confirm\n                                    class=\"form-control form-control-sm\"></flat-pickr>\n                                    </BCol>\n                                </BRow>\n                                <br />\n                                <BRow class=\" mb-1\">\n                                    <label for=\"or_ref\" class=\"col-sm-2 col-form-label form-control-sm\">OR #</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <input v-model=\"payment.or_ref_no\" class=\"form-control form-control-sm\" id=\"or_ref\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"amount\" class=\"col-sm-2 col-form-label form-control-sm\">Due</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <div class=\"input-group input-group-sm\">\n                                            <span class=\"input-group-text\">Php</span>\n                                            <input v-model=\"payment.amount_paid\" type=\"text\" class=\"form-control form-control-sm text-end\" aria-label=\"Amount (to the nearest peso)\" id=\"amount\">\n                                            <span class=\"input-group-text\">.00</span>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"type\">Type</label>\n                                    <BCol class=\"col-sm-5\">\n                                        <select v-model=\"payment.payment_type\" class=\"form-select form-select-sm\" id=\"type\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"cash\">Cash</option>\n                                            <option value=\"cheque\">Cheque</option>\n                                            <option value=\"gcash\">GCash</option>\n                                            <option value=\"maya\">Maya</option>\n                                            <option value=\"bank\">Bank</option>\n                                        </select>\n                                    </BCol>\n                                    <div v-if=\"payment.payment_type=='cheque'\" class=\"mt-2\">\n                                        <BRow class=\" mb-1\">\n                                            <label for=\"cheque\" class=\"col-sm-2 col-form-label form-control-sm\">Cheque #</label>\n                                            <BCol class=\"col-sm-5\">\n                                                <input v-model=\"payment.cheque_no\" type=\"text\" class=\"form-control form-control-sm\" id=\"cheque\">\n                                            </BCol>\n                                        </BRow>\n                                    </div>\n                                    <div v-if=\"payment.payment_type=='gcash' || payment.payment_type=='maya' || payment.payment_type=='bank'\" class=\"mt-2 \">\n                                        <BRow class=\" mb-1\">\n                                            <label for=\"gcash\" class=\"col-sm-2 col-form-label form-control-sm\">Ref. #</label>\n                                            <BCol class=\"col-sm-5\">\n                                                <input v-model=\"payment.reference_no\" type=\"text\" class=\"form-control form-control-sm\" id=\"gcash\">\n                                            </BCol>\n                                        </BRow>\n                                    </div>\n                                    <div v-if=\"payment.payment_type=='gcash' || payment.payment_type=='maya' || payment.payment_type=='bank'\" class=\"form-file mt-2\">\n                                        <BRow class=\"mb-1\">\n                                            <label for=\"gcash\" class=\"col-sm-2 col-form-label form-control-sm\">Image</label>\n                                            <BCol class=\"col-sm-10\">\n                                                <input @change=\"handleFileUpload\" type=\"file\" class=\"form-control form-control-sm\" aria-label=\"file example\">\n                                                <div class=\"invalid-feedback\">Example invalid form file feedback</div>\n                                            </BCol>\n                                        </BRow>\n                                    </div>\n                                </BRow>\n                                <BRow class=\" mb-1\">\n                                    <label for=\"remarks\" class=\"col-sm-2 col-form-label\">Remarks</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"payment.remarks\" class=\"form-control form-control-sm\" id=\"remarks\" rows=\"3\"></textarea>\n                                    </BCol>\n                                </BRow>\n                            </div>\n                            <div class=\"modal-footer pb-0\">\n                                <button type=\"button\" class=\"btn btn-sm btn-secondary\" data-bs-dismiss=\"modal\" @click=\"showAddModalPaymentClose\">Close</button>\n                                <button type=\"button\" class=\"btn btm-sm btn-primary\" @click=\"updatePayment1\">Save changes</button>\n                            </div>\n                        </BModal>\n                    </div>\n\n                </BCardBody>\n            </BCol>\n        </BRow>\n\n        <!-- Ticket modal -->\n        <BRow>\n            <BCol sm=\"12\">\n                <BCardBody class=\"pc-component\">\n                    <div>\n                        <BModal v-model=\"modalShow4\" title=\"Ticket\" hide-footer class=\"v-modal-custom\" size=\"md\">\n                            <div class=\"modal-body  p-0\">\n                                <BRow class=\" mb-10\">\n                                    <BCol class=\"mb-3\">\n                                        <div class=\"col-sm-10 text-center\">\n                                            <h5 class=\"mb-1\">{{ subscriber.last_name }}, {{ subscriber.first_name }}</h5>\n                                            <span text-muted f-12 mb-0>{{ subscription.no }}</span>\n                                        </div>\n                                    </BCol>\n                                </BRow>\n                                <hr />\n                                <BRow class=\" mb-3\">\n                                    <label for=\"alias\" class=\"col-sm-2 col-form-label form-control-sm\">Prepared by</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <h3>{{ authStore.user.last_name }}, {{ authStore.user.first_name }}</h3>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" md-3\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"date_ticket\">Date</label>\n                                    <BCol class=\"col-sm-6\">\n                                        <flat-pickr v-model=\"ticket.ticket_date\" :first-day-of-week=\"1\" lang=\"en\" confirm\n                                    class=\"form-control form-control-sm\" id=\"date_ticket\"></flat-pickr>\n                                    </BCol>\n                                </BRow>\n                                <br />\n                                <BRow class=\" mb-3\">\n                                    <label for=\"or_ref\" class=\"col-sm-2 col-form-label form-control-sm\" id=\"subject\">Subject</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <input v-model=\"ticket.subject\" class=\"form-control form-control-sm\" id=\"or_ref\">\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-3\">\n                                    <label for=\"or_ref\" class=\"col-sm-2 col-form-label form-control-sm\" id=\"description\">Description</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"ticket.description\" class=\"form-control form-control-sm\" id=\"description\"></textarea>\n                                    </BCol>\n                                </BRow>\n                                <!--\n                                <BRow class=\" mb-3\">\n                                    <label for=\"issue\" class=\"col-sm-2 col-form-label\">Issue</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <select v-model=\"ticket.issue\" class=\"form-select\" id=\"issue\">\n                                            <option v-for=\"issue in issues\" :key=\"issue.id\" :value=\"issue.id\">{{ issue.name }}</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                -->\n                                <BRow class=\" mb-3\">\n                                    <label class=\"col-sm-2 col-form-label form-control-sm\" for=\"priority\">Priority</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <select v-model=\"ticket.priority\" class=\"form-select form-select-sm\" id=\"priority\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"low\">Low</option>\n                                            <option value=\"medium\">Medium</option>\n                                            <option value=\"high\">High</option>\n                                        </select>\n                                    </BCol>\n                                    <label for=\"status\" class=\"col-sm-2 col-form-label form-select-sm\">Status</label>\n                                    <BCol class=\"col-sm-4\">\n                                        <select v-model=\"ticket.status\" class=\"form-select\" id=\"status\">\n                                            <option value=\"\">---</option>\n                                            <option value=\"pending\">Pending</option>\n                                            <option value=\"inprogress\">In progress</option>\n                                            <option value=\"resolved\">Resolved</option>\n                                        </select>\n                                    </BCol>\n                                </BRow>\n                                <BRow class=\" mb-3\">\n                                    <label for=\"remarks\" class=\"col-sm-2 form-control-sm col-form-label\">Remarks</label>\n                                    <BCol class=\"col-sm-10\">\n                                        <textarea v-model=\"ticket.remarks\" class=\"form-control form-control-sm\" id=\"remarks\" rows=\"3\"></textarea>\n                                    </BCol>\n                                </BRow>\n                            </div>\n                            <div class=\"modal-footer pb-0\">\n                                <button type=\"button\" class=\"btn btn-sm btn-secondary\" data-bs-dismiss=\"modal\" @click=\"showAddModalTicketClose\">Close</button>\n                                <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"updateTicket\">Save changes</button>\n                            </div>\n                        </BModal>\n                    </div>\n\n                </BCardBody>\n            </BCol>\n        </BRow>\n\n            <div v-if=\"subscriber.id > 0\" class=\"col-12\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <ul class=\"nav nav-tabs invoice-tab border-bottom mb-3\" id=\"myTab\" role=\"tablist\">\n                            <li class=\"nav-item\" role=\"presentation\">\n                                <button class=\"nav-link active\" id=\"analytics-tab-1\" data-bs-toggle=\"tab\" data-bs-target=\"#analytics-tab-1-pane\" type=\"button\" role=\"tab\" aria-controls=\"analytics-tab-1-pane\" aria-selected=\"true\">\n                                    <span class=\"d-flex align-items-center gap-2\">Subscriptions <span class=\"avtar rounded-circle bg-light-primary\">{{ subscriptions.length }}</span></span>\n                                </button>\n                            </li>\n                            <li class=\"nav-item\" role=\"presentation\">\n                                <button class=\"nav-link\" id=\"analytics-tab-2\" data-bs-toggle=\"tab\" data-bs-target=\"#analytics-tab-2-pane\" type=\"button\" role=\"tab\" aria-controls=\"analytics-tab-2-pane\" aria-selected=\"false\">\n                                    <span class=\"d-flex align-items-center gap-2\">Billings <span class=\"avtar rounded-circle bg-light-success\">{{ bills.length }}</span></span>\n                                </button>\n                            </li>\n                            <li class=\"nav-item\" role=\"presentation\">\n                                <button class=\"nav-link\" id=\"analytics-tab-3\" data-bs-toggle=\"tab\" data-bs-target=\"#analytics-tab-3-pane\" type=\"button\" role=\"tab\" aria-controls=\"analytics-tab-3-pane\" aria-selected=\"false\">\n                                    <span class=\"d-flex align-items-center gap-2\">Payments <span class=\"avtar rounded-circle bg-light-warning\">{{ payments.length }}</span></span>\n                                </button>\n                            </li>\n                            <li class=\"nav-item\" role=\"presentation\">\n                                <button class=\"nav-link\" id=\"analytics-tab-4\" data-bs-toggle=\"tab\" data-bs-target=\"#analytics-tab-4-pane\" type=\"button\" role=\"tab\" aria-controls=\"analytics-tab-4-pane\" aria-selected=\"false\">\n                                    <span class=\"d-flex align-items-center gap-2\">Tickets <span class=\"avtar rounded-circle bg-light-danger\">{{ tickets.length }}</span></span>\n                                </button>\n                            </li>\n                        </ul>\n                        <div class=\"tab-content\" id=\"myTabContent\">\n                            <div class=\"tab-pane fade show active\" id=\"analytics-tab-1-pane\" role=\"tabpanel\" aria-labelledby=\"analytics-tab-1\" tabindex=\"0\">\n                                <div class=\"d-flex justify-content-between align-items-center p-sm-4 pb-sm-2\">\n                                    <!-- Search Input with Magnifying Glass -->\n                                    <div class=\"input-group search-bar\">\n                                        <div class=\"col-sm-12\">\n                                            <h5>{{ subscriber.last_name }}, {{ subscriber.first_name }} \n                                                {{ subscriber.middle_name }} {{ subscriber.ext_name }}</h5>\n                                        </div>\n                                        <p text-muted f-12 mb-0>{{ subscriber.id_no }}</p>\n                                    </div>\n                                    \n                                    <!-- Add Subscriber Button -->\n                                    <BButton variant=\"primary\" class=\"btn btn-sm\" @click=\"showAddModalOpen\">Add Subscriptions</BButton>\n                                </div>\n                                <div class=\"table-responsive fixed-height\">\n                                    <table class=\"table table-hover table-sm tbl-product\" id=\"pc-dt-simple-1\">\n                                        <thead>\n                                            <tr>\n                                                <th class=\"text-end\">#</th>\n                                                <th>Account</th>\n                                                <th>Address</th>\n                                                <th>Plan/Type</th>\n                                                <th>Modem</th>\n                                                <th>PON/NAP</th>\n                                                <th>Status/Date</th>\n                                                <th class=\"text-end\">Refererence</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr v-for=\"(subs, index) in subscriptions\" :key=\"subs.id\" \n                                                :class=\"{ 'table-active': selectedRowSubs === subs.id}\"\n                                                @click=\"selectRowSubs(subs.id)\"\n                                                @dblclick=\"goToNextTab(subs.id)\">\n\n                                                <td class=\"text-end\">{{index + 1}}</td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ subs.alias }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ subs.no }} </p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ subs.municipality_name }}, {{ subs.barangay_name }}, {{ subs.purok }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ subs.region_name }}, {{ subs.province_name }} </p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ subs.plan_name }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ subs.sub_type}}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ subs.modem_name }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ subs.modem_serial}}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ subs.pon_no }}/{{ subs.nap_no }}</h6>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ subs.sub_status }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ formattedDateTime(subs.date_activated)}}/\n                                                                <span v-if=\"subs.sub_status=='terminated'\"> \n                                                                   ({{ formattedDateTime(subs.date_terminated) }})\n                                                                </span>\n                                                            </p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    {{ subs.referred_by }}\n                                                    <div class=\"prod-action-links\">\n                                                        <ul class=\"list-inline me-auto mb-0\">\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Subscriptions\">\n                                                                <a href=\"#\" @click=\"showAddModal(subs.id)\" class=\"avtar avtar-xs btn-link-secondary btn-pc-default\">\n                                                                    <i class=\"ti ti-eye f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Edit\">\n                                                                <!-- \n                                                                <router-link to=\"/add-product\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </router-link> \n                                                                -->\n                                                                <a href=\"#\" @click=\"getSubscription(subs.id)\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Delete\">\n                                                                <a href=\"#\" @click=\"cancelDeleteSubs(subs.id)\" class=\"avtar avtar-xs btn-link-danger btn-pc-default\">\n                                                                    <i class=\"ti ti-trash f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            \n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n\n                            <!-- Billing list -->\n                            <div class=\"tab-pane fade show active\" id=\"analytics-tab-2-pane\" role=\"tabpanel\" aria-labelledby=\"analytics-tab-2\" tabindex=\"0\"> \n                                <div class=\"d-flex justify-content-between align-items-center p-sm-4 pb-sm-2\">\n                                    <div class=\"input-group search-bar\">\n                                        <div class=\"col-sm-12\">\n                                            <h5>{{ subscriber.last_name }}, {{ subscriber.first_name }} \n                                                {{ subscriber.middle_name }} {{ subscriber.ext_name }}</h5>\n                                        </div>\n                                        <p text-muted f-12 mb-0>{{ subscription.no }} - {{ subscription.alias }} </p>\n                                    </div>\n                                    \n                                    <!-- Add Billing Button -->\n                                    <BButton variant=\"primary\" class=\"btn btn-sm\" @click=\"showAddModalBillOpen\">Add Billing</BButton>\n                                </div>\n                                <div class=\"table-responsive fixed-height\">\n                                    <table class=\"table table-hover table-sm tbl-product\" id=\"pc-dt-simple-1\">\n                                        <thead>\n                                            <tr>\n                                                <th class=\"text-end\">#</th>\n                                                <th>Billing #</th>\n                                                <th>Date/Type</th>\n                                                <th class=\"text-end\">Amount</th>\n                                                <th>Remarks</th>\n                                                <th>Billed by</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr v-for=\"(bill, index) in bills\" :key=\"bill.id\"\n                                                :class=\"{ 'table-active': selectedRowBill === bill.id}\"\n                                                @click=\"selectRowBills(bill.id)\"\n                                                @dblclick=\"goToNextTabPay(bill.id)\">\n                                                <td class=\"text-end\">{{index + 1}}</td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ bill.billing_no }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ bill.billed_by_user }} </p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ formattedDateTime(bill.billing_date) }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ bill.bill_type }} </p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"text-end\">\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ bill.amount_due }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ bill.is_paid}}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ bill.notice }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ bill.remarks}}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <h6 class=\"mb-1\">{{bill.first_name}} {{ bill.last_name }}</h6>\n                                                    <p class=\"text-muted f-12 mb-0\">\n                                                        {{ formattedDateTime(bill.updated_on)}}\n                                                    </p>\n                                                    <div class=\"prod-action-links\">\n                                                        <ul class=\"list-inline me-auto mb-0\">\n                                                            <!--\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Subscriptions\">\n                                                                <a href=\"#\" @click=\"showAddModal(bill.id)\" class=\"avtar avtar-xs btn-link-secondary btn-pc-default\">\n                                                                    <i class=\"ti ti-eye f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            -->\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Edit\">\n                                                                <!-- \n                                                                <router-link to=\"/add-product\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </router-link> \n                                                                -->\n                                                                <a href=\"#\" @click=\"getBill(bill.id)\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Delete\">\n                                                                <a href=\"#\" @click=\"cancelDeleteBill(bill.id)\" class=\"avtar avtar-xs btn-link-danger btn-pc-default\">\n                                                                    <i class=\"ti ti-trash f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n\n                            <!-- Payment list -->\n                            <div class=\"tab-pane fade\" id=\"analytics-tab-3-pane\" role=\"tabpanel\" aria-labelledby=\"analytics-tab-3\" tabindex=\"0\">\n                                <div class=\"d-flex justify-content-between align-items-center p-sm-4 pb-sm-2\">\n                                    <div class=\"input-group search-bar\">\n                                        <div class=\"col-sm-12\">\n                                            <h5>{{ subscriber.last_name }}, {{ subscriber.first_name }} \n                                                {{ subscriber.middle_name }} {{ subscriber.ext_name }}</h5>\n                                        </div>\n                                        <p text-muted f-12 mb-0>{{ subscription.no }} - {{ subscription.alias }} | {{ bill.billing_no }}</p>\n                                    </div>\n                                    \n                                    <!-- Add Paymment Button -->\n                                    <BButton variant=\"primary\" class=\"btn btn-sm\" @click=\"showAddModalPaymentOpen\">Add Payment</BButton>\n                                </div>\n                                <div class=\"table-responsive fixed-height\">\n                                    <table class=\"table table-hover table-sm tbl-product\" id=\"pc-dt-simple-1\">\n                                        <thead>\n                                            <tr>\n                                                <th class=\"text-end\">#</th>\n                                                <th>No #</th>\n                                                <th>Date/Type</th>\n                                                <th>Type</th>\n                                                <th class=\"text-end\">Amount</th>\n                                                <th>Remarks</th>\n                                                <th>Received by</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr v-for=\"(pay, index) in payments\" :key=\"pay.id\">\n                                                <td class=\"text-end\">{{index + 1}}</td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ pay.or_no }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ pay.or_ref_no }}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ formattedDateTime(pay.payment_date) }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ pay.is_paid }} | {{ pay.is_partial }} | {{ pay.is_cancelled }} </p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"d-flex\">\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ pay.payment_type }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ pay.cheque_no}} | {{ pay.reference_no }}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"text-end\">\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ pay.amount_paid }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ pay.cheque_no}} | {{ pay.reference_no }}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ pay.remarks }}</h6>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <h6 class=\"mb-1\">{{ pay.first_name }} {{ pay.last_name }}</h6>\n                                                    <p class=\"text-muted f-12 mb-0\">\n                                                        {{ formattedDateTime(pay.updated_on)}}\n                                                    </p>\n                                                    <div class=\"prod-action-links\">\n                                                        <ul class=\"list-inline me-auto mb-0\">\n                                                            <!--\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Subscriptions\">\n                                                                <a href=\"#\" @click=\"showAddModal(bill.id)\" class=\"avtar avtar-xs btn-link-secondary btn-pc-default\">\n                                                                    <i class=\"ti ti-eye f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            -->\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Edit\">\n                                                                <!-- \n                                                                <router-link to=\"/add-product\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </router-link> \n                                                                -->\n                                                                <a href=\"#\" @click=\"getPayment(pay.id)\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Delete\">\n                                                                <a href=\"#\" @click=\"cancelDeletePayment(pay.id)\" class=\"avtar avtar-xs btn-link-danger btn-pc-default\">\n                                                                    <i class=\"ti ti-trash f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                            <div class=\"tab-pane fade\" id=\"analytics-tab-4-pane\" role=\"tabpanel\" aria-labelledby=\"analytics-tab-4\" tabindex=\"0\">\n                                <div class=\"d-flex justify-content-between align-items-center p-sm-4 pb-sm-2\">\n                                    <div class=\"input-group search-bar\">\n                                        <div class=\"col-sm-12\">\n                                            <h5>{{ subscriber.last_name }}, {{ subscriber.first_name }} \n                                                {{ subscriber.middle_name }} {{ subscriber.ext_name }}</h5>\n                                        </div>\n                                        <p text-muted f-12 mb-0>{{ subscription.no }}</p>\n                                    </div>\n                                    \n                                    <!-- Add Ticket Button -->\n                                    <BButton variant=\"primary\" class=\"btn btn-sm\" @click=\"showAddModalTicketOpen\">Add Ticket</BButton>\n                                </div>\n                                <div class=\"table-responsive fixed-height\">\n                                    <table class=\"table table-hover table-sm tbl-product\" id=\"pc-dt-simple-1\">\n                                        <thead>\n                                            <tr>\n                                                <th class=\"text-end\">#</th>\n                                                <th>No #</th>\n                                                <th>Subject</th>\n                                                <th>Issue</th>\n                                                <th>Priority/Status</th>\n                                                <th>Prepared by</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr v-for=\"(ticket, index) in tickets\" :key=\"ticket.id\">\n                                                <td class=\"text-end\">{{index + 1}}</td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ ticket.ticket_no }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ formattedDateTime(ticket.ticket_date) }}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ ticket.subject }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ticket.description}}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td>\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ticket.priority}}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ticket.description}}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"d-flex\">\n                                                    <BRow class=\"d-flex\">\n                                                        <BCol>\n                                                            <h6 class=\"mb-1\">{{ ticket.status }}</h6>\n                                                            <p class=\"text-muted f-12 mb-0\">{{ ticket.remarks }}</p>\n                                                        </BCol>\n                                                    </BRow>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <h6 class=\"mb-1\">{{ ticket.first_name }} {{ ticket.last_name }}</h6>\n                                                    <p class=\"text-muted f-12 mb-0\">\n                                                        {{ formattedDateTime(ticket.updated_on)}}\n                                                    </p>\n                                                    <div class=\"prod-action-links\">\n                                                        <ul class=\"list-inline me-auto mb-0\">\n                                                            <!--\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Subscriptions\">\n                                                                <a href=\"#\" @click=\"showAddModal(bill.id)\" class=\"avtar avtar-xs btn-link-secondary btn-pc-default\">\n                                                                    <i class=\"ti ti-eye f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            -->\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Edit\">\n                                                                <!-- \n                                                                <router-link to=\"/add-product\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </router-link> \n                                                                -->\n                                                                <a href=\"#\" @click=\"getTicket(ticket.id)\" class=\" avtar avtar-xs btn-link-success btn-pc-default\">\n                                                                    <i class=\"ti ti-edit-circle f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                            <li class=\"list-inline-item align-bottom\" data-bs-toggle=\"tooltip\" title=\"Delete\">\n                                                                <a href=\"#\" @click=\"cancelDeleteTicket(ticket.id)\" class=\"avtar avtar-xs btn-link-danger btn-pc-default\">\n                                                                    <i class=\"ti ti-trash f-18\"></i>\n                                                                </a>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    </Layout>\n</template>\n<style lang=\"css\">\n    .fixed-height {\n        max-height: 350px; /* Set the desired fixed height for the table container */\n        overflow-y: auto; /* Enable vertical scrolling */\n        border: 1px solid #ddd; /* Optional: Add a border for clarity */\n    }\n\n    .table-responsive {\n        overflow-x: auto; /* Ensure horizontal scrolling is enabled for wide tables */\n    }\n\n    .search-bar {\n        width: 400px;\n    }\n\n    .d-flex {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .input-group-text {\n        background-color: #f8f9fa;\n        border-right: none;\n    }\n\n    .form-control {\n        border-left: none;\n    }\n\n    .table-active {\n        background-color: #e9ecef !important; /* Bootstrap's active row color */\n    }\n\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}