{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * Popup class is used to display information over chart area.\r\n */\nimport { __extends } from \"tslib\";\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\nimport popupCSS from \"./PopupCSS\";\nimport { Adapter } from \"../utils/Adapter\";\nimport { BaseObjectEvents } from \"../Base\";\nimport { getInteraction } from \"../interaction/Interaction\";\nimport { keyboard } from \"../utils/Keyboard\";\nimport { MultiDisposer } from \"../utils/Disposer\";\nimport { getShadowRoot } from \"../utils/DOM\";\nimport * as $type from \"../utils/Type\";\nimport * as $object from \"../utils/Object\";\n/**\r\n * Shows an HTML popup which covers window or a chart area.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/popups-and-modals/} For examples and docs on Popups and Modals.\r\n * @todo Positioning over whole window\r\n */\nvar Popup = /** @class */function (_super) {\n  __extends(Popup, _super);\n  /**\r\n   * Constructor\r\n   */\n  function Popup() {\n    var _this = _super.call(this) || this;\n    /**\r\n     * Adapter.\r\n     */\n    _this.adapter = new Adapter(_this);\n    /**\r\n     * Holds references to various HTML elements, Popup consists of.\r\n     */\n    _this._elements = {};\n    /**\r\n     * Holdes Interaction objects for various Popup's elements.\r\n     */\n    _this._IOs = {};\n    /**\r\n     * Contents of popup window.\r\n     */\n    _this._content = \"\";\n    /**\r\n     * Title of the popup window.\r\n     */\n    _this._title = \"\";\n    /**\r\n     * Prefix to apply to class names for popup elements.\r\n     */\n    _this._classPrefix = \"ampopup\";\n    /**\r\n     * If set to `true` [[Popup]] will use default styles.\r\n     */\n    _this._defaultStyles = true;\n    /**\r\n     * If set to `true` [[Popup]] will dim out all chart content behind it by\r\n     * showing a semi-transparent fill. (curtain)\r\n     */\n    _this._showCurtain = false;\n    /**\r\n     * Indicates whether popup can be dragged.\r\n     */\n    _this._draggable = true;\n    /**\r\n     * Horizontal position of the content window.\r\n     */\n    _this._align = \"center\";\n    /**\r\n     * Resize popup as images are being loaded.\r\n     */\n    _this._dynamicResize = true;\n    /**\r\n     * Vertical position of the content window.\r\n     */\n    _this._verticalAlign = \"middle\";\n    /**\r\n     * Shift in position of the element. (used for dragging)\r\n     */\n    _this._shift = {\n      x: 0,\n      y: 0\n    };\n    /**\r\n     * Temporary shift in position of the element. (used for dragging)\r\n     */\n    _this._tempShift = {\n      x: 0,\n      y: 0\n    };\n    /**\r\n     * A title for screen readers. It is very highly recommended to set that title\r\n     * so that people using screen reader tools can get an immediate summary of\r\n     * the information in the popup.\r\n     */\n    _this._readerTitle = \"\";\n    /**\r\n     * Is popup closable?\r\n     */\n    _this._closable = true;\n    /**\r\n     * Was CSS already loaded?\r\n     */\n    _this._cssLoaded = false;\n    /**\r\n     * If set to other than \"none\" will try to re-adjust the position of the\r\n     * popop to fit within chart container or browser window.\r\n     *\r\n     * @ignore Feature not yet implemented\r\n     * @todo Implement\r\n     */\n    _this._fitTo = \"window\";\n    /**\r\n     * Identifies if this object is a \"template\" and should not be treated as\r\n     * real object that is drawn or actually used in the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\n    _this.isTemplate = false;\n    /**\r\n     * Indicates if the element was already sized and should not be measured for\r\n     * size again, saving some precious resources.\r\n     */\n    _this._sized = false;\n    _this.className = \"Popup\";\n    return _this;\n  }\n  /**\r\n   * Shows popup window.\r\n   */\n  Popup.prototype.open = function () {\n    if (this.container) {\n      if (this._elements.wrapper) {\n        this.container.appendChild(this._elements.wrapper);\n      }\n      if (this._elements.curtain) {\n        this.container.appendChild(this._elements.curtain);\n        this.showCurtain = this.showCurtain;\n      }\n      this.positionElement();\n      this.dispatchImmediately(\"opened\");\n    }\n  };\n  /**\r\n   * Hides popup window.\r\n   */\n  Popup.prototype.close = function () {\n    if (this._elements.wrapper) {\n      if (this._elements.wrapper.parentElement) {\n        this._elements.wrapper.parentElement.removeChild(this._elements.wrapper);\n      }\n    }\n    if (this._elements.curtain) {\n      if (this._elements.curtain.parentElement) {\n        this._elements.curtain.parentElement.removeChild(this._elements.curtain);\n      }\n    }\n    this.dispatchImmediately(\"closed\");\n    this.releasePointers();\n  };\n  /**\r\n   * Destroy (dispose) popup.\r\n   */\n  Popup.prototype.dispose = function () {\n    this.close();\n    _super.prototype.dispose.call(this);\n  };\n  /**\r\n   * Positions content element in the center of popup based on its actual size.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Popup.prototype.positionElement = function (forceResize) {\n    var _this = this;\n    if (forceResize === void 0) {\n      forceResize = true;\n    }\n    if (!this._elements.wrapper) {\n      return;\n    }\n    setTimeout(function () {\n      if (!_this._elements.wrapper) {\n        return;\n      }\n      if (forceResize || !_this._sized) {\n        _this._elements.wrapper.style.opacity = \"0.01\";\n        _this._elements.wrapper.style.left = \"0\";\n        _this._elements.wrapper.style.top = \"0\";\n        _this._elements.wrapper.style.margin = \"0 0 0 0\";\n        _this._elements.wrapper.style.width = \"\";\n        _this._elements.wrapper.style.height = \"\";\n        var bbox = _this._elements.wrapper.getBoundingClientRect();\n        _this._elements.wrapper.style.width = bbox.width + \"px\";\n        _this._elements.wrapper.style.height = bbox.height + \"px\";\n        _this._sized = true;\n      }\n      // Check for any images that are not yet loaded\n      if (_this.dynamicResize) {\n        var images = _this._elements.wrapper.getElementsByTagName(\"img\");\n        for (var i = 0; i < images.length; i++) {\n          var image = images[i];\n          if (!image.complete) {\n            // Resize popup once again when image is loaded\n            image.addEventListener(\"load\", function () {\n              _this.positionElement(true);\n            });\n            // Do this for one image only as it will be checked again next time\n            // anyway\n            break;\n          }\n        }\n      }\n      setTimeout(function () {\n        if (!_this._elements.wrapper) {\n          return;\n        }\n        var bbox;\n        if ((forceResize || !_this._sized) && _this._bbox) {\n          bbox = _this._bbox;\n        } else {\n          bbox = _this._elements.wrapper.getBoundingClientRect();\n          _this._elements.wrapper.style.opacity = \"\";\n        }\n        // Set horizontal positioning\n        switch (_this.align) {\n          case \"left\":\n            _this._elements.wrapper.style.left = \"0\";\n            _this._elements.wrapper.style.right = \"auto\";\n            _this._elements.wrapper.style.marginLeft = _this.toStyle(_this._shift.x + _this._tempShift.x);\n            break;\n          case \"center\":\n            _this._elements.wrapper.style.left = \"50%\";\n            _this._elements.wrapper.style.right = \"auto\";\n            _this._elements.wrapper.style.marginLeft = _this.toStyle(Math.round(-bbox.width / 2) + (_this._shift.x + _this._tempShift.x));\n            break;\n          case \"right\":\n            _this._elements.wrapper.style.left = \"auto\";\n            _this._elements.wrapper.style.right = \"0\";\n            _this._elements.wrapper.style.marginLeft = _this.toStyle(_this._shift.x + _this._tempShift.x);\n            break;\n          default:\n            _this._elements.wrapper.style.left = _this.toStyle(_this.left) || \"auto\";\n            _this._elements.wrapper.style.right = _this.toStyle(_this.right) || \"auto\";\n            _this._elements.wrapper.style.marginLeft = _this.toStyle(_this._shift.x + _this._tempShift.x);\n            break;\n        }\n        // Set vertical positioning\n        switch (_this.verticalAlign) {\n          case \"top\":\n            _this._elements.wrapper.style.top = \"0\";\n            _this._elements.wrapper.style.bottom = \"auto\";\n            _this._elements.wrapper.style.marginTop = _this.toStyle(_this._shift.y + _this._tempShift.y);\n            break;\n          case \"middle\":\n            _this._elements.wrapper.style.top = \"50%\";\n            _this._elements.wrapper.style.bottom = \"auto\";\n            _this._elements.wrapper.style.marginTop = _this.toStyle(Math.round(-bbox.height / 2) + (_this._shift.y + _this._tempShift.y));\n            break;\n          case \"bottom\":\n            _this._elements.wrapper.style.top = \"auto\";\n            _this._elements.wrapper.style.bottom = \"0\";\n            _this._elements.wrapper.style.marginTop = _this.toStyle(_this._shift.y + _this._tempShift.y);\n            break;\n          default:\n            _this._elements.wrapper.style.top = _this.toStyle(_this.top) || \"auto\";\n            _this._elements.wrapper.style.bottom = _this.toStyle(_this.bottom) || \"auto\";\n            _this._elements.wrapper.style.marginTop = _this.toStyle(_this._shift.y + _this._tempShift.y);\n            break;\n        }\n      }, 1);\n    }, 1);\n  };\n  Popup.prototype.setupDragging = function () {\n    var _this = this;\n    if (this.draggable) {\n      if (!this._IOs.header.events.has(\"drag\")) {\n        this._IOs.header.events.on(\"drag\", function (ev) {\n          _this._tempShift.x = ev.shift.x;\n          _this._tempShift.y = ev.shift.y;\n          _this.positionElement(false);\n        });\n      }\n      if (!this._IOs.header.events.has(\"dragstop\")) {\n        this._IOs.header.events.on(\"dragstop\", function (ev) {\n          _this._shift.x += _this._tempShift.x;\n          _this._shift.y += _this._tempShift.y;\n          _this._tempShift.x = 0;\n          _this._tempShift.y = 0;\n          _this.positionElement(false);\n        });\n      }\n    } else {\n      if (this._IOs.header) {\n        getInteraction().unprepElement(this._IOs.header);\n        if (this._IOs.header.events.has(\"drag\")) {\n          this._IOs.header.events.off(\"drag\");\n        }\n        if (this._IOs.header.events.has(\"dragstop\")) {\n          this._IOs.header.events.off(\"dragstop\");\n        }\n      }\n    }\n  };\n  Popup.prototype.toStyle = function (value) {\n    if (!$type.hasValue(value)) {\n      return null;\n    } else if ($type.isNumber(value)) {\n      return \"\" + value + \"px\";\n    } else {\n      return value.toString();\n    }\n  };\n  Object.defineProperty(Popup.prototype, \"classPrefix\", {\n    /**\r\n     * A prefix that is applied to class names of various popup elements.\r\n     *\r\n     * @return Class name prefix\r\n     */\n    get: function () {\n      return this.adapter.apply(\"classPrefix\", this._classPrefix);\n    },\n    /**\r\n     * @param value Class name prefix\r\n     */\n    set: function (value) {\n      this._classPrefix = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"classPrefixRaw\", {\n    /**\r\n     * Returns raw prefix (without adapters applied).\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Class name prefix\r\n     */\n    get: function () {\n      return this._classPrefix;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"content\", {\n    /**\r\n     * @return Popup content\r\n     */\n    get: function () {\n      return this.adapter.apply(\"content\", this._content);\n    },\n    /**\r\n     * Popup content.\r\n     *\r\n     * Popup content can be any valid HTML, including CSS.\r\n     *\r\n     * @param value Popup content\r\n     */\n    set: function (value) {\n      if (this._content != value) {\n        this._content = value;\n        if (!this._elements.content) {\n          this.createContentElement();\n        }\n        this._elements.content.innerHTML = value;\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Popup.prototype.getClassNames = function () {\n    return this.adapter.apply(\"classNames\", {\n      wrapperClass: this.classPrefix + \"\",\n      headerClass: this.classPrefix + \"-header\",\n      titleClass: this.classPrefix + \"-title\",\n      contentClass: this.classPrefix + \"-content\",\n      insideClass: this.classPrefix + \"-inside\",\n      curtainClass: this.classPrefix + \"-curtain\",\n      closeClass: this.classPrefix + \"-close\"\n    });\n  };\n  /**\r\n   * Creates content element.\r\n   */\n  Popup.prototype.createContentElement = function () {\n    // Check if it's created already\n    if (this._elements.wrapper) {\n      return;\n    }\n    // Get class names for popup elements\n    var classNames = this.getClassNames();\n    // Create content element\n    var wrapper = document.createElement(\"div\");\n    wrapper.className = classNames.contentClass;\n    wrapper.style.opacity = \"0.01\";\n    // Create close button\n    var close = document.createElement(\"a\");\n    close.className = classNames.closeClass;\n    // header title\n    var header = document.createElement(\"div\");\n    header.className = classNames.headerClass;\n    // Content title\n    var title = document.createElement(\"div\");\n    title.innerHTML = this.title;\n    title.className = classNames.titleClass;\n    if (!this.title) {\n      title.style.display = \"none\";\n    }\n    // Content div\n    var content = document.createElement(\"div\");\n    content.className = classNames.insideClass;\n    content.innerHTML = this.content;\n    // Set up events for content\n    this._IOs.wrapper = getInteraction().getInteraction(wrapper);\n    this._IOs.header = getInteraction().getInteraction(header);\n    this._disposers.push(this._IOs.wrapper);\n    // Set hover/out events\n    this._IOs.wrapper.events.on(\"over\", this.disablePointers, this);\n    this._IOs.wrapper.events.on(\"out\", this.releasePointers, this);\n    // Create an InteractionObject for close\n    this._IOs.close = getInteraction().getInteraction(close);\n    this._disposers.push(this._IOs.close);\n    // Hide close for now\n    close.style.visibility = \"hidden\";\n    // Add accessible stuff\n    wrapper.setAttribute(\"role\", \"dialog\");\n    // Add to wrapper\n    header.appendChild(close);\n    header.appendChild(title);\n    wrapper.appendChild(header);\n    wrapper.appendChild(content);\n    this.container.appendChild(wrapper);\n    // Save for later access\n    this._elements.wrapper = wrapper;\n    this._elements.header = header;\n    this._elements.content = content;\n    this._elements.title = title;\n    this._elements.close = close;\n    // Load CSS\n    if (this.defaultStyles) {\n      this.loadDefaultCSS();\n    }\n    // Create curtain as well\n    this.createCurtainElement();\n    // Apply events\n    this.applyEvents();\n    this.applyReaderSettings();\n    // Draggable?\n    this.setupDragging();\n  };\n  Object.defineProperty(Popup.prototype, \"title\", {\n    /**\r\n     * @return Popup title\r\n     */\n    get: function () {\n      return this.adapter.apply(\"title\", this._title);\n    },\n    /**\r\n     * Popup title.\r\n     *\r\n     * Popup title can be any valid HTML, including CSS.\r\n     *\r\n     * @param value  Popup title\r\n     */\n    set: function (value) {\n      if (this._title != value) {\n        this._title = value;\n        if (!this._elements.content) {\n          this.createContentElement();\n        }\n        this._elements.title.innerHTML = value;\n        this.positionElement();\n        this.applyReaderSettings();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"readerTitle\", {\n    /**\r\n     * @return Popup content\r\n     */\n    get: function () {\n      return this.adapter.apply(\"readerTitle\", this._readerTitle != \"\" ? this._readerTitle : this.title);\n    },\n    /**\r\n     * A title for screen readers. It is very highly recommended to set that title\r\n     * so that people using screen reader tools can get an immediate summary of\r\n     * the information in the popup.\r\n     *\r\n     * @param value  Reader title\r\n     */\n    set: function (value) {\n      if (this._readerTitle != value) {\n        this._readerTitle = value;\n        this.applyReaderSettings();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"closable\", {\n    /**\r\n     * @return Closable?\r\n     */\n    get: function () {\n      return this.adapter.apply(\"closable\", this._closable);\n    },\n    /**\r\n     * Is popup closable?\r\n     *\r\n     * If it is, it can be closed in a number of ways, e.g. by hitting ESC key,\r\n     * clicking curtain, or clicking the close button.\r\n     *\r\n     * If it is not closable, the only way to close it is via `close()` call.\r\n     *\r\n     * @param value Closable?\r\n     */\n    set: function (value) {\n      if (value !== this._closable) {\n        this._closable = value;\n        this.applyEvents();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"fitTo\", {\n    /**\r\n     * @ignore\r\n     * @todo Implement\r\n     * @return Fit option\r\n     */\n    get: function () {\n      return this.adapter.apply(\"fitTo\", this._fitTo);\n    },\n    /**\r\n     * If set to other than \"none\" will try to re-adjust the position of the\r\n     * popop to fit within chart container or browser window.\r\n     *\r\n     * @ignore\r\n     * @todo Implement\r\n     * @default \"window\"\r\n     * @param value  Fit option\r\n     */\n    set: function (value) {\n      if (value != this._fitTo) {\n        this._fitTo = value;\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"defaultStyles\", {\n    /**\r\n     * @return Use default CSS?\r\n     */\n    get: function () {\n      return this.adapter.apply(\"defaultStyles\", this._defaultStyles);\n    },\n    /**\r\n     * Should popup use default CSS?\r\n     *\r\n     * If default CSS is disabled, an external CSS should handle the look of the\r\n     * popup, since it will look quite out of place otherwise.\r\n     *\r\n     * @default true\r\n     * @param Use default CSS?\r\n     */\n    set: function (value) {\n      if (this._defaultStyles != value) {\n        this._defaultStyles = value;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"showCurtain\", {\n    /**\r\n     * @return Show curtain?\r\n     */\n    get: function () {\n      return this.adapter.apply(\"showCurtain\", this._showCurtain);\n    },\n    /**\r\n     * Should popup use dim out all content behind it?\r\n     *\r\n     * @default false\r\n     * @param Show curtain?\r\n     */\n    set: function (value) {\n      if (this._showCurtain != value) {\n        this._showCurtain = value;\n        if (this._elements.curtain) {\n          this._elements.curtain.style.display = value ? \"block\" : \"none\";\n        }\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Creates curtain element.\r\n   */\n  Popup.prototype.createCurtainElement = function () {\n    // Get class names for popup elements\n    var classNames = this.getClassNames();\n    // Create the curtain\n    var curtain = document.createElement(\"div\");\n    curtain.className = classNames.curtainClass;\n    // Append curtain to wrapper\n    this.container.appendChild(curtain);\n    // Create an InteractionObject for curtain because we might need to\n    // set interactions on it\n    this._IOs.curtain = getInteraction().getInteraction(curtain);\n    // Add Curtain IO to disposers\n    this._disposers.push(this._IOs.curtain);\n    // Set events to disable underlying interactivity\n    this._IOs.curtain.events.on(\"over\", this.disablePointers, this);\n    this._IOs.curtain.events.on(\"out\", this.releasePointers, this);\n    // Hide it?\n    curtain.style.display = this.showCurtain ? \"block\" : \"none\";\n    // Save for later\n    this._elements.curtain = curtain;\n  };\n  Object.defineProperty(Popup.prototype, \"draggable\", {\n    /**\r\n     * @return Show curtain?\r\n     */\n    get: function () {\n      return this.adapter.apply(\"draggable\", this._draggable);\n    },\n    /**\r\n     * Can the popup be dragged with a pointer?\r\n     *\r\n     * @default false\r\n     * @param Show curtain?\r\n     */\n    set: function (value) {\n      if (this._draggable != value) {\n        this._draggable = value;\n        this.setupDragging();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"dynamicResize\", {\n    /**\r\n     * @return Resize dynamically?\r\n     */\n    get: function () {\n      return this.adapter.apply(\"dynamicResize\", this._dynamicResize);\n    },\n    /**\r\n     * Resize popup as images are being loaded.\r\n     *\r\n     * @default true\r\n     * @since 4.9.17\r\n     * @param Resize dynamically?\r\n     */\n    set: function (value) {\n      if (this._dynamicResize != value) {\n        this._dynamicResize = value;\n        this.positionElement(true);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"align\", {\n    /**\r\n     * @return Horizontal position\r\n     */\n    get: function () {\n      return this.adapter.apply(\"align\", this._align);\n    },\n    /**\r\n     * Horizontal positioning of the content window.\r\n     *\r\n     * Available options: \"left\", \"center\" (default), \"right\", and \"none\".\r\n     *\r\n     * @default \"center\"\r\n     * @param Horizontal position\r\n     */\n    set: function (value) {\n      if (this._align != value) {\n        this._align = value;\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"verticalAlign\", {\n    /**\r\n     * @return Vertical position\r\n     */\n    get: function () {\n      return this.adapter.apply(\"verticalAlign\", this._verticalAlign);\n    },\n    /**\r\n     * Vertical positioning of the content window.\r\n     *\r\n     * Available options: \"top\", \"middle\" (default), \"bottom\", and \"none\".\r\n     *\r\n     * @default \"middle\"\r\n     * @param Vertical position\r\n     */\n    set: function (value) {\n      if (this._verticalAlign != value) {\n        this._verticalAlign = value;\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"left\", {\n    /**\r\n     * @return Left\r\n     */\n    get: function () {\n      return this.adapter.apply(\"left\", this._left);\n    },\n    /**\r\n     * \"left\" coordinate of a non-aligned (`align = \"none\"`) popup.\r\n     *\r\n     * Can be either absolute pixel value, or relative (`Percent`).\r\n     *\r\n     * Setting this property will automatically set `align` to \"none\".\r\n     *\r\n     * NOTE: The position is relative to the chart container.\r\n     *\r\n     * @param Left\r\n     */\n    set: function (value) {\n      if (this.left != value) {\n        this._left = value;\n        this._align = \"none\";\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"right\", {\n    /**\r\n     * @return Right\r\n     */\n    get: function () {\n      return this.adapter.apply(\"right\", this._right);\n    },\n    /**\r\n     * \"right\" coordinate of a non-aligned (`align = \"none\"`) popup.\r\n     *\r\n     * Can be either absolute pixel value, or relative (`Percent`).\r\n     *\r\n     * Setting this property will automatically set `align` to \"none\".\r\n     *\r\n     * NOTE: The position is relative to the chart container.\r\n     *\r\n     * @param Right\r\n     */\n    set: function (value) {\n      if (this.right != value) {\n        this._right = value;\n        this._align = \"none\";\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"top\", {\n    /**\r\n     * @return Top\r\n     */\n    get: function () {\n      return this.adapter.apply(\"top\", this._top);\n    },\n    /**\r\n     * \"top\" coordinate of a non-aligned (`verticalAlign = \"none\"`) popup.\r\n     *\r\n     * Can be either absolute pixel value, or relative (`Percent`).\r\n     *\r\n     * Setting this property will automatically set `verticalAlign` to \"none\".\r\n     *\r\n     * NOTE: The position is relative to the chart container.\r\n     *\r\n     * @param Top\r\n     */\n    set: function (value) {\n      if (this.top != value) {\n        this._top = value;\n        this._verticalAlign = \"none\";\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"bottom\", {\n    /**\r\n     * @return Bottom\r\n     */\n    get: function () {\n      return this.adapter.apply(\"bottom\", this._bottom);\n    },\n    /**\r\n     * \"bottom\" coordinate of a non-aligned (`verticalAlign = \"none\"`) popup.\r\n     *\r\n     * Can be either absolute pixel value, or relative (`Percent`).\r\n     *\r\n     * Setting this property will automatically set `verticalAlign` to \"none\".\r\n     *\r\n     * NOTE: The position is relative to the chart container.\r\n     *\r\n     * @param Bottom\r\n     */\n    set: function (value) {\n      if (this.bottom != value) {\n        this._bottom = value;\n        this._verticalAlign = \"none\";\n        this.positionElement();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Popup.prototype, \"elements\", {\n    /**\r\n     * Returns an object with references to various elements of the Popup.\r\n     *\r\n     * * `wrapper`\r\n     * * `title`\r\n     * * `content`\r\n     * * `close`\r\n     * * `curtain`\r\n     */\n    get: function () {\n      return this._elements;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Loads popup CSS.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  Popup.prototype.loadDefaultCSS = function () {\n    if (!this._cssLoaded) {\n      this._disposers.push(popupCSS(getShadowRoot(this.container), this.classPrefix));\n      $object.each(this._elements, function (key, el) {\n        el.style.display = \"\";\n      });\n      this._cssLoaded = true;\n    }\n  };\n  /**\r\n   * If popup is closable, this method adds various events to popup elements.\r\n   */\n  Popup.prototype.applyEvents = function () {\n    var _this = this;\n    if (this._IOs.close) {\n      if (this.closable) {\n        this._IOs.close.element.style.visibility = \"visible\";\n        var disposers = [getInteraction().body.events.on(\"keyup\", function (ev) {\n          if (keyboard.isKey(ev.event, \"esc\") && _this.closable) {\n            _this.close();\n          }\n        }), this._IOs.close.events.on(\"hit\", function (ev) {\n          _this.close();\n        })];\n        disposers.push(this._IOs.curtain.events.on(\"hit\", function (ev) {\n          if (_this.showCurtain && _this.closable) {\n            _this.close();\n          }\n        }));\n        this._disposers.push(new MultiDisposer(disposers));\n      } else {\n        this._IOs.close.element.style.visibility = \"hidden\";\n      }\n    }\n  };\n  /**\r\n   * Disables interactivity on parent chart.\r\n   */\n  Popup.prototype.disablePointers = function () {\n    if (this.sprite) {\n      this._spriteInteractionsEnabled = this.sprite.interactionsEnabled;\n      this.sprite.interactionsEnabled = false;\n    }\n  };\n  /**\r\n   * Releases temporarily disabled pointers on parent chart.\r\n   */\n  Popup.prototype.releasePointers = function () {\n    if ($type.hasValue(this._spriteInteractionsEnabled)) {\n      this.sprite.interactionsEnabled = this._spriteInteractionsEnabled;\n      this._spriteInteractionsEnabled = undefined;\n    }\n  };\n  /**\r\n   * Sets screen reader related settings.\r\n   */\n  Popup.prototype.applyReaderSettings = function () {\n    this.elements.wrapper.setAttribute(\"aria-label\", this.readerTitle);\n  };\n  /**\r\n   * Copies all properties and related data from different element.\r\n   *\r\n   * @param object Source element\r\n   */\n  Popup.prototype.copyFrom = function (source) {\n    _super.prototype.copyFrom.call(this, source);\n    this.container = source.container;\n    this.sprite = source.sprite;\n    this.classPrefix = source.classPrefixRaw;\n    this.content = source.content;\n    this.title = source.title;\n    this.readerTitle = source.readerTitle;\n    this.defaultStyles = source.defaultStyles;\n    this.showCurtain = source.showCurtain;\n    this.align = source.align;\n    this.verticalAlign = source.verticalAlign;\n    this.left = source.left;\n    this.right = source.right;\n    this.top = source.top;\n    this.bottom = source.bottom;\n    this.adapter.copyFrom(source.adapter);\n  };\n  return Popup;\n}(BaseObjectEvents);\nexport { Popup };","map":{"version":3,"names":["popupCSS","Adapter","BaseObjectEvents","getInteraction","keyboard","MultiDisposer","getShadowRoot","$type","$object","Popup","_super","__extends","_this","call","adapter","_elements","_IOs","_content","_title","_classPrefix","_defaultStyles","_showCurtain","_draggable","_align","_dynamicResize","_verticalAlign","_shift","x","y","_tempShift","_readerTitle","_closable","_cssLoaded","_fitTo","isTemplate","_sized","className","prototype","open","container","wrapper","appendChild","curtain","showCurtain","positionElement","dispatchImmediately","close","parentElement","removeChild","releasePointers","dispose","forceResize","setTimeout","style","opacity","left","top","margin","width","height","bbox","getBoundingClientRect","dynamicResize","images","getElementsByTagName","i","length","image","complete","addEventListener","_bbox","align","right","marginLeft","toStyle","Math","round","verticalAlign","bottom","marginTop","setupDragging","draggable","header","events","has","on","ev","shift","unprepElement","off","value","hasValue","isNumber","toString","Object","defineProperty","get","apply","set","content","createContentElement","innerHTML","getClassNames","wrapperClass","classPrefix","headerClass","titleClass","contentClass","insideClass","curtainClass","closeClass","classNames","document","createElement","title","display","_disposers","push","disablePointers","visibility","setAttribute","defaultStyles","loadDefaultCSS","createCurtainElement","applyEvents","applyReaderSettings","_left","_right","_top","_bottom","each","key","el","closable","element","disposers","body","isKey","event","sprite","_spriteInteractionsEnabled","interactionsEnabled","undefined","elements","readerTitle","copyFrom","source","classPrefixRaw"],"sources":["../../../../../src/.internal/core/elements/Popup.ts"],"sourcesContent":["/**\r\n * Popup class is used to display information over chart area.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport popupCSS from \"./PopupCSS\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { BaseObjectEvents } from \"../Base\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { getInteraction } from \"../interaction/Interaction\";\r\nimport { InteractionObject } from \"../interaction/InteractionObject\";\r\nimport { keyboard } from \"../utils/Keyboard\";\r\nimport { Percent } from \"../utils/Percent\";\r\nimport { MultiDisposer } from \"../utils/Disposer\";\r\nimport { Align } from \"../defs/Align\";\r\nimport { VerticalAlign } from \"../defs/VerticalAlign\";\r\nimport { IPoint } from \"../defs/IPoint\";\r\nimport { Optional } from \"../utils/Type\";\r\nimport { getShadowRoot } from \"../utils/DOM\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $object from \"../utils/Object\";\r\n\r\n/**\r\n * Represents a list of available adapters for Export.\r\n */\r\nexport interface IPopupAdapters {\r\n\r\n\t/**\r\n\t * Applied to the class prefixes.\r\n\t */\r\n\tclassPrefix: string,\r\n\r\n\t/**\r\n\t * Applied to popup content before it is shown.\r\n\t */\r\n\tcontent: string,\r\n\r\n\t/**\r\n\t * Applied to popup title before it is shown.\r\n\t */\r\n\ttitle: string,\r\n\r\n\t/**\r\n\t * Applied to the screen reader title.\r\n\t */\r\n\treaderTitle: string,\r\n\r\n\t/**\r\n\t * Applied to default `defaultStyles` property before it is retrieved.\r\n\t */\r\n\tdefaultStyles: boolean,\r\n\r\n\t/**\r\n\t * Applied to default `showCurtain` property before it is retrieved.\r\n\t */\r\n\tshowCurtain: boolean,\r\n\r\n\t/**\r\n\t * Applied to default `draggable` property before it is retrieved.\r\n\t */\r\n\tdraggable: boolean,\r\n\r\n\t/**\r\n\t * Applied to `closable` property before it is retrieved.\r\n\t */\r\n\tclosable: boolean,\r\n\r\n\t/**\r\n\t * Applied to `dynamicResize` property before it is retrieved.\r\n\t */\r\n\tdynamicResize: boolean,\r\n\r\n\t/**\r\n\t * Applied to `fitTo` property before it's retrieved.\r\n\t *\r\n\t * @ignore Feature not yet implemented\r\n\t */\r\n\tfitTo: \"none\" | \"container\" | \"window\",\r\n\r\n\t/**\r\n\t * Applied to horizontal alignment of the popup.\r\n\t */\r\n\talign: Optional<Align>;\r\n\r\n\t/**\r\n\t * Applied to vertical alignment of the popup.\r\n\t */\r\n\tverticalAlign: Optional<VerticalAlign>;\r\n\r\n\t/**\r\n\t * Applied to `left` position value.\r\n\t */\r\n\tleft: number | Percent;\r\n\r\n\t/**\r\n\t * Applied to `right` position value.\r\n\t */\r\n\tright: number | Percent;\r\n\r\n\t/**\r\n\t * Applied to `top` position value.\r\n\t */\r\n\ttop: number | Percent;\r\n\r\n\t/**\r\n\t * Applied to `bottom` position value.\r\n\t */\r\n\tbottom: number | Percent;\r\n\r\n\t/**\r\n\t * Applied to class names list that are added as class for various popup\r\n\t * elements.\r\n\t */\r\n\tclassNames: {\r\n\t\twrapperClass: string,\r\n\t\ttitleClass: string,\r\n\t\theaderClass: string,\r\n\t\tcontentClass: string,\r\n\t\tinsideClass: string,\r\n\t\tcurtainClass: string,\r\n\t\tcloseClass: string\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Defines events for Popup.\r\n */\r\nexport interface IPopupEvents {\r\n\r\n\t/**\r\n\t * Invoked when Popup is opened.\r\n\t */\r\n\topened: {};\r\n\r\n\t/**\r\n\t * Invoked when Popup is closed.\r\n\t */\r\n\tclosed: {};\r\n\r\n}\r\n\r\n/**\r\n * Shows an HTML popup which covers window or a chart area.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/popups-and-modals/} For examples and docs on Popups and Modals.\r\n * @todo Positioning over whole window\r\n */\r\nexport class Popup extends BaseObjectEvents {\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IPopupEvents;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IPopupAdapters;\r\n\r\n\t/**\r\n\t * Adapter.\r\n\t */\r\n\tpublic adapter: Adapter<Popup, IPopupAdapters> = new Adapter<Popup, IPopupAdapters>(this);\r\n\r\n\t/**\r\n\t * A reference to an HTML element to be used for container. If not set, popup\r\n\t * will cover the whole window.\r\n\t */\r\n\tpublic container: $type.Optional<HTMLElement | Document>;\r\n\r\n\t/**\r\n\t * A parent element this Popup belongs to.\r\n\t */\r\n\tpublic sprite: $type.Optional<Sprite>;\r\n\r\n\t/**\r\n\t * Holds references to various HTML elements, Popup consists of.\r\n\t */\r\n\tprotected _elements: {\r\n\t\twrapper?: HTMLElement;\r\n\t\ttitle?: HTMLElement;\r\n\t\theader?: HTMLElement;\r\n\t\tcontent?: HTMLElement;\r\n\t\tclose?: HTMLElement;\r\n\t\tcurtain?: HTMLElement;\r\n\t} = {};\r\n\r\n\t/**\r\n\t * Holdes Interaction objects for various Popup's elements.\r\n\t */\r\n\tprotected _IOs: {\r\n\t\twrapper?: InteractionObject;\r\n\t\tcontent?: InteractionObject;\r\n\t\theader?: InteractionObject;\r\n\t\tclose?: InteractionObject;\r\n\t\tcurtain?: InteractionObject;\r\n\t} = {};\r\n\r\n\t/**\r\n\t * Contents of popup window.\r\n\t */\r\n\tprotected _content: string = \"\";\r\n\r\n\t/**\r\n\t * Title of the popup window.\r\n\t */\r\n\tprotected _title: string = \"\";\r\n\r\n\t/**\r\n\t * Prefix to apply to class names for popup elements.\r\n\t */\r\n\tprotected _classPrefix: string = \"ampopup\"\r\n\r\n\t/**\r\n\t * If set to `true` [[Popup]] will use default styles.\r\n\t */\r\n\tprotected _defaultStyles: boolean = true;\r\n\r\n\t/**\r\n\t * If set to `true` [[Popup]] will dim out all chart content behind it by\r\n\t * showing a semi-transparent fill. (curtain)\r\n\t */\r\n\tprotected _showCurtain: boolean = false;\r\n\r\n\t/**\r\n\t * Indicates whether popup can be dragged.\r\n\t */\r\n\tprotected _draggable: boolean = true;\r\n\r\n\t/**\r\n\t * Horizontal position of the content window.\r\n\t */\r\n\tprotected _align: Optional<Align> = \"center\";\r\n\r\n\t/**\r\n\t * Resize popup as images are being loaded.\r\n\t */\r\n\tprotected _dynamicResize: boolean = true;\r\n\r\n\t/**\r\n\t * Vertical position of the content window.\r\n\t */\r\n\tprotected _verticalAlign: Optional<VerticalAlign> = \"middle\";\r\n\r\n\t/**\r\n\t * Shift in position of the element. (used for dragging)\r\n\t */\r\n\tprotected _shift: IPoint = {\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t};\r\n\r\n\t/**\r\n\t * Temporary shift in position of the element. (used for dragging)\r\n\t */\r\n\tprotected _tempShift: IPoint = {\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t};\r\n\r\n\t/**\r\n\t * \"left\" position of the popup content.\r\n\t */\r\n\tprotected _left: number | Percent;\r\n\r\n\t/**\r\n\t * \"right\" position of the popup content.\r\n\t */\r\n\tprotected _right: number | Percent;\r\n\r\n\t/**\r\n\t * \"top\" position of the popup content.\r\n\t */\r\n\tprotected _top: number | Percent;\r\n\r\n\t/**\r\n\t * \"bottom\" position of the popup content.\r\n\t */\r\n\tprotected _bottom: number | Percent;\r\n\r\n\t/**\r\n\t * A title for screen readers. It is very highly recommended to set that title\r\n\t * so that people using screen reader tools can get an immediate summary of\r\n\t * the information in the popup.\r\n\t */\r\n\tpublic _readerTitle: string = \"\";\r\n\r\n\t/**\r\n\t * Is popup closable?\r\n\t */\r\n\tprivate _closable: boolean = true;\r\n\r\n\t/**\r\n\t * Was CSS already loaded?\r\n\t */\r\n\tprivate _cssLoaded: boolean = false;\r\n\r\n\t/**\r\n\t * If set to other than \"none\" will try to re-adjust the position of the\r\n\t * popop to fit within chart container or browser window.\r\n\t *\r\n\t * @ignore Feature not yet implemented\r\n\t * @todo Implement\r\n\t */\r\n\tprivate _fitTo: \"none\" | \"container\" | \"window\" = \"window\";\r\n\r\n\t/**\r\n\t * Used to log original value of `interactionsEnabled` so that it can be restored\r\n\t * after temporarily disabling it.\r\n\t */\r\n\tprivate _spriteInteractionsEnabled: $type.Optional<boolean>;\r\n\r\n\t/**\r\n\t * Identifies if this object is a \"template\" and should not be treated as\r\n\t * real object that is drawn or actually used in the chart.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic isTemplate: boolean = false;\r\n\r\n\t/**\r\n\t * Indicates if the element was already sized and should not be measured for\r\n\t * size again, saving some precious resources.\r\n\t */\r\n\tprivate _sized: boolean = false;\r\n\r\n\t/**\r\n\t * Cached bounding rectangle info.\r\n\t */\r\n\tprivate _bbox: $type.Optional<DOMRect | ClientRect>;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Popup\";\r\n\t}\r\n\r\n\t/**\r\n\t * Shows popup window.\r\n\t */\r\n\tpublic open(): void {\r\n\t\tif (this.container) {\r\n\t\t\tif (this._elements.wrapper) {\r\n\t\t\t\tthis.container.appendChild(this._elements.wrapper);\r\n\t\t\t}\r\n\t\t\tif (this._elements.curtain) {\r\n\t\t\t\tthis.container.appendChild(this._elements.curtain);\r\n\t\t\t\tthis.showCurtain = this.showCurtain;\r\n\t\t\t}\r\n\t\t\tthis.positionElement();\r\n\t\t\tthis.dispatchImmediately(\"opened\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Hides popup window.\r\n\t */\r\n\tpublic close(): void {\r\n\t\tif (this._elements.wrapper) {\r\n\t\t\tif (this._elements.wrapper.parentElement) {\r\n\t\t\t\tthis._elements.wrapper.parentElement.removeChild(this._elements.wrapper);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._elements.curtain) {\r\n\t\t\tif (this._elements.curtain.parentElement) {\r\n\t\t\t\tthis._elements.curtain.parentElement.removeChild(this._elements.curtain);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.dispatchImmediately(\"closed\");\r\n\t\tthis.releasePointers();\r\n\t}\r\n\r\n\t/**\r\n\t * Destroy (dispose) popup.\r\n\t */\r\n\tpublic dispose(): void {\r\n\t\tthis.close();\r\n\t\tsuper.dispose();\r\n\t}\r\n\r\n\t/**\r\n\t * Positions content element in the center of popup based on its actual size.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic positionElement(forceResize: boolean = true): void {\r\n\r\n\t\tif (!this._elements.wrapper) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (!this._elements.wrapper) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (forceResize || !this._sized) {\r\n\t\t\t\tthis._elements.wrapper.style.opacity = \"0.01\";\r\n\t\t\t\tthis._elements.wrapper.style.left = \"0\";\r\n\t\t\t\tthis._elements.wrapper.style.top = \"0\";\r\n\t\t\t\tthis._elements.wrapper.style.margin = \"0 0 0 0\";\r\n\r\n\t\t\t\tthis._elements.wrapper.style.width = \"\";\r\n\t\t\t\tthis._elements.wrapper.style.height = \"\";\r\n\r\n\t\t\t\tlet bbox = this._elements.wrapper.getBoundingClientRect();\r\n\t\t\t\tthis._elements.wrapper.style.width = bbox.width + \"px\";\r\n\t\t\t\tthis._elements.wrapper.style.height = bbox.height + \"px\";\r\n\r\n\t\t\t\tthis._sized = true;\r\n\t\t\t}\r\n\r\n\t\t\t// Check for any images that are not yet loaded\r\n\t\t\tif (this.dynamicResize) {\r\n\t\t\t\tconst images = this._elements.wrapper.getElementsByTagName(\"img\");\r\n\t\t\t\tfor (let i = 0; i < images.length; i++) {\r\n\t\t\t\t\tconst image = images[i];\r\n\t\t\t\t\tif (!image.complete) {\r\n\t\t\t\t\t\t// Resize popup once again when image is loaded\r\n\t\t\t\t\t\timage.addEventListener(\"load\", () => {\r\n\t\t\t\t\t\t\tthis.positionElement(true);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Do this for one image only as it will be checked again next time\r\n\t\t\t\t\t\t// anyway\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (!this._elements.wrapper) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet bbox: DOMRect | ClientRect;\r\n\t\t\t\tif ((forceResize || !this._sized) && this._bbox) {\r\n\t\t\t\t\tbbox = this._bbox;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tbbox = this._elements.wrapper.getBoundingClientRect();\r\n\t\t\t\t\tthis._elements.wrapper.style.opacity = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set horizontal positioning\r\n\t\t\t\tswitch (this.align) {\r\n\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\tthis._elements.wrapper.style.left = \"0\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.right = \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginLeft = this.toStyle(this._shift.x + this._tempShift.x);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"center\":\r\n\t\t\t\t\t\tthis._elements.wrapper.style.left = \"50%\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.right = \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginLeft = this.toStyle(Math.round(-bbox.width / 2) + (this._shift.x + this._tempShift.x));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\tthis._elements.wrapper.style.left = \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.right = \"0\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginLeft = this.toStyle(this._shift.x + this._tempShift.x);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis._elements.wrapper.style.left = this.toStyle(this.left) || \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.right = this.toStyle(this.right) || \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginLeft = this.toStyle(this._shift.x + this._tempShift.x);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set vertical positioning\r\n\t\t\t\tswitch (this.verticalAlign) {\r\n\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\tthis._elements.wrapper.style.top = \"0\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.bottom = \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginTop = this.toStyle(this._shift.y + this._tempShift.y);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"middle\":\r\n\t\t\t\t\t\tthis._elements.wrapper.style.top = \"50%\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.bottom = \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginTop = this.toStyle(Math.round(-bbox.height / 2) + (this._shift.y + this._tempShift.y));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\tthis._elements.wrapper.style.top = \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.bottom = \"0\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginTop = this.toStyle(this._shift.y + this._tempShift.y);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis._elements.wrapper.style.top = this.toStyle(this.top) || \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.bottom = this.toStyle(this.bottom) || \"auto\";\r\n\t\t\t\t\t\tthis._elements.wrapper.style.marginTop = this.toStyle(this._shift.y + this._tempShift.y);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}, 1);\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tprotected setupDragging(): void {\r\n\t\tif (this.draggable) {\r\n\t\t\tif (!this._IOs.header.events.has(\"drag\")) {\r\n\t\t\t\tthis._IOs.header.events.on(\"drag\", (ev) => {\r\n\t\t\t\t\tthis._tempShift.x = ev.shift.x;\r\n\t\t\t\t\tthis._tempShift.y = ev.shift.y;\r\n\t\t\t\t\tthis.positionElement(false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!this._IOs.header.events.has(\"dragstop\")) {\r\n\t\t\t\tthis._IOs.header.events.on(\"dragstop\", (ev) => {\r\n\t\t\t\t\tthis._shift.x += this._tempShift.x;\r\n\t\t\t\t\tthis._shift.y += this._tempShift.y;\r\n\t\t\t\t\tthis._tempShift.x = 0;\r\n\t\t\t\t\tthis._tempShift.y = 0;\r\n\t\t\t\t\tthis.positionElement(false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this._IOs.header) {\r\n\t\t\t\tgetInteraction().unprepElement(this._IOs.header);\r\n\t\t\t\tif (this._IOs.header.events.has(\"drag\")) {\r\n\t\t\t\t\tthis._IOs.header.events.off(\"drag\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this._IOs.header.events.has(\"dragstop\")) {\r\n\t\t\t\t\tthis._IOs.header.events.off(\"dragstop\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected toStyle(value: number | Percent): string | null {\r\n\t\tif (!$type.hasValue(value)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse if ($type.isNumber(value)) {\r\n\t\t\treturn \"\" + value + \"px\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn value.toString();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * A prefix that is applied to class names of various popup elements.\r\n\t *\r\n\t * @return Class name prefix\r\n\t */\r\n\tpublic get classPrefix(): string {\r\n\t\treturn this.adapter.apply(\"classPrefix\", this._classPrefix);\r\n\t}\r\n\r\n\t/**\r\n\t * @param value Class name prefix\r\n\t */\r\n\tpublic set classPrefix(value: string) {\r\n\t\tthis._classPrefix = value;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns raw prefix (without adapters applied).\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return Class name prefix\r\n\t */\r\n\tpublic get classPrefixRaw(): string {\r\n\t\treturn this._classPrefix;\r\n\t}\r\n\r\n\t/**\r\n\t * Popup content.\r\n\t *\r\n\t * Popup content can be any valid HTML, including CSS.\r\n\t *\r\n\t * @param value Popup content\r\n\t */\r\n\tpublic set content(value: string) {\r\n\t\tif (this._content != value) {\r\n\t\t\tthis._content = value;\r\n\t\t\tif (!this._elements.content) {\r\n\t\t\t\tthis.createContentElement();\r\n\t\t\t}\r\n\t\t\tthis._elements.content.innerHTML = value;\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Popup content\r\n\t */\r\n\tpublic get content(): string {\r\n\t\treturn this.adapter.apply(\"content\", this._content);\r\n\t}\r\n\r\n\tprotected getClassNames() {\r\n\t\treturn this.adapter.apply(\"classNames\", {\r\n\t\t\twrapperClass: this.classPrefix + \"\",\r\n\t\t\theaderClass: this.classPrefix + \"-header\",\r\n\t\t\ttitleClass: this.classPrefix + \"-title\",\r\n\t\t\tcontentClass: this.classPrefix + \"-content\",\r\n\t\t\tinsideClass: this.classPrefix + \"-inside\",\r\n\t\t\tcurtainClass: this.classPrefix + \"-curtain\",\r\n\t\t\tcloseClass: this.classPrefix + \"-close\"\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Creates content element.\r\n\t */\r\n\tprotected createContentElement(): void {\r\n\r\n\t\t// Check if it's created already\r\n\t\tif (this._elements.wrapper) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Get class names for popup elements\r\n\t\tlet classNames = this.getClassNames();\r\n\r\n\t\t// Create content element\r\n\t\tlet wrapper = document.createElement(\"div\");\r\n\t\twrapper.className = classNames.contentClass;\r\n\t\twrapper.style.opacity = \"0.01\";\r\n\r\n\t\t// Create close button\r\n\t\tlet close = document.createElement(\"a\");\r\n\t\tclose.className = classNames.closeClass;\r\n\r\n\t\t// header title\r\n\t\tconst header = document.createElement(\"div\");\r\n\t\theader.className = classNames.headerClass;\r\n\r\n\t\t// Content title\r\n\t\tlet title = document.createElement(\"div\");\r\n\t\ttitle.innerHTML = this.title;\r\n\t\ttitle.className = classNames.titleClass;\r\n\t\tif (!this.title) {\r\n\t\t\ttitle.style.display = \"none\";\r\n\t\t}\r\n\r\n\t\t// Content div\r\n\t\tlet content = document.createElement(\"div\");\r\n\t\tcontent.className = classNames.insideClass;\r\n\t\tcontent.innerHTML = this.content;\r\n\r\n\t\t// Set up events for content\r\n\t\tthis._IOs.wrapper = getInteraction().getInteraction(wrapper);\r\n\t\tthis._IOs.header = getInteraction().getInteraction(header);\r\n\t\tthis._disposers.push(this._IOs.wrapper);\r\n\r\n\t\t// Set hover/out events\r\n\t\tthis._IOs.wrapper.events.on(\"over\", this.disablePointers, this);\r\n\t\tthis._IOs.wrapper.events.on(\"out\", this.releasePointers, this);\r\n\r\n\t\t// Create an InteractionObject for close\r\n\t\tthis._IOs.close = getInteraction().getInteraction(close);\r\n\t\tthis._disposers.push(this._IOs.close);\r\n\r\n\t\t// Hide close for now\r\n\t\tclose.style.visibility = \"hidden\";\r\n\r\n\t\t// Add accessible stuff\r\n\t\twrapper.setAttribute(\"role\", \"dialog\");\r\n\r\n\t\t// Add to wrapper\r\n\t\theader.appendChild(close);\r\n\t\theader.appendChild(title);\r\n\t\twrapper.appendChild(header);\r\n\t\twrapper.appendChild(content);\r\n\t\tthis.container.appendChild(wrapper);\r\n\r\n\t\t// Save for later access\r\n\t\tthis._elements.wrapper = wrapper;\r\n\t\tthis._elements.header = header;\r\n\t\tthis._elements.content = content;\r\n\t\tthis._elements.title = title;\r\n\t\tthis._elements.close = close;\r\n\r\n\t\t// Load CSS\r\n\t\tif (this.defaultStyles) {\r\n\t\t\tthis.loadDefaultCSS();\r\n\t\t}\r\n\r\n\t\t// Create curtain as well\r\n\t\tthis.createCurtainElement();\r\n\r\n\t\t// Apply events\r\n\t\tthis.applyEvents();\r\n\r\n\t\tthis.applyReaderSettings();\r\n\r\n\t\t// Draggable?\r\n\t\tthis.setupDragging();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Popup title.\r\n\t *\r\n\t * Popup title can be any valid HTML, including CSS.\r\n\t *\r\n\t * @param value  Popup title\r\n\t */\r\n\tpublic set title(value: string) {\r\n\t\tif (this._title != value) {\r\n\t\t\tthis._title = value;\r\n\t\t\tif (!this._elements.content) {\r\n\t\t\t\tthis.createContentElement();\r\n\t\t\t}\r\n\t\t\tthis._elements.title.innerHTML = value;\r\n\t\t\tthis.positionElement();\r\n\t\t\tthis.applyReaderSettings();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Popup title\r\n\t */\r\n\tpublic get title(): string {\r\n\t\treturn this.adapter.apply(\"title\", this._title);\r\n\t}\r\n\r\n\t/**\r\n\t * A title for screen readers. It is very highly recommended to set that title\r\n\t * so that people using screen reader tools can get an immediate summary of\r\n\t * the information in the popup.\r\n\t *\r\n\t * @param value  Reader title\r\n\t */\r\n\tpublic set readerTitle(value: string) {\r\n\t\tif (this._readerTitle != value) {\r\n\t\t\tthis._readerTitle = value;\r\n\t\t\tthis.applyReaderSettings();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Popup content\r\n\t */\r\n\tpublic get readerTitle(): string {\r\n\t\treturn this.adapter.apply(\r\n\t\t\t\"readerTitle\",\r\n\t\t\tthis._readerTitle != \"\" ? this._readerTitle : this.title\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Is popup closable?\r\n\t *\r\n\t * If it is, it can be closed in a number of ways, e.g. by hitting ESC key,\r\n\t * clicking curtain, or clicking the close button.\r\n\t *\r\n\t * If it is not closable, the only way to close it is via `close()` call.\r\n\t *\r\n\t * @param value Closable?\r\n\t */\r\n\tpublic set closable(value: boolean) {\r\n\t\tif (value !== this._closable) {\r\n\t\t\tthis._closable = value;\r\n\t\t\tthis.applyEvents();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Closable?\r\n\t */\r\n\tpublic get closable(): boolean {\r\n\t\treturn this.adapter.apply(\"closable\", this._closable);\r\n\t}\r\n\r\n\t/**\r\n\t * If set to other than \"none\" will try to re-adjust the position of the\r\n\t * popop to fit within chart container or browser window.\r\n\t *\r\n\t * @ignore\r\n\t * @todo Implement\r\n\t * @default \"window\"\r\n\t * @param value  Fit option\r\n\t */\r\n\tpublic set fitTo(value: \"none\" | \"container\" | \"window\") {\r\n\t\tif (value != this._fitTo) {\r\n\t\t\tthis._fitTo = value;\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @ignore\r\n\t * @todo Implement\r\n\t * @return Fit option\r\n\t */\r\n\tpublic get fitTo(): \"none\" | \"container\" | \"window\" {\r\n\t\treturn this.adapter.apply(\"fitTo\", this._fitTo);\r\n\t}\r\n\r\n\t/**\r\n\t * Should popup use default CSS?\r\n\t *\r\n\t * If default CSS is disabled, an external CSS should handle the look of the\r\n\t * popup, since it will look quite out of place otherwise.\r\n\t *\r\n\t * @default true\r\n\t * @param Use default CSS?\r\n\t */\r\n\tpublic set defaultStyles(value: boolean) {\r\n\t\tif (this._defaultStyles != value) {\r\n\t\t\tthis._defaultStyles = value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Use default CSS?\r\n\t */\r\n\tpublic get defaultStyles(): boolean {\r\n\t\treturn this.adapter.apply(\"defaultStyles\", this._defaultStyles);\r\n\t}\r\n\r\n\t/**\r\n\t * Should popup use dim out all content behind it?\r\n\t *\r\n\t * @default false\r\n\t * @param Show curtain?\r\n\t */\r\n\tpublic set showCurtain(value: boolean) {\r\n\t\tif (this._showCurtain != value) {\r\n\t\t\tthis._showCurtain = value;\r\n\t\t\tif (this._elements.curtain) {\r\n\t\t\t\tthis._elements.curtain.style.display = value ? \"block\" : \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Show curtain?\r\n\t */\r\n\tpublic get showCurtain(): boolean {\r\n\t\treturn this.adapter.apply(\"showCurtain\", this._showCurtain);\r\n\t}\r\n\r\n\t/**\r\n\t * Creates curtain element.\r\n\t */\r\n\tprotected createCurtainElement(): void {\r\n\r\n\t\t// Get class names for popup elements\r\n\t\tlet classNames = this.getClassNames();\r\n\r\n\t\t// Create the curtain\r\n\t\tlet curtain = document.createElement(\"div\");\r\n\t\tcurtain.className = classNames.curtainClass;\r\n\r\n\t\t// Append curtain to wrapper\r\n\t\tthis.container.appendChild(curtain);\r\n\r\n\t\t// Create an InteractionObject for curtain because we might need to\r\n\t\t// set interactions on it\r\n\t\tthis._IOs.curtain = getInteraction().getInteraction(curtain);\r\n\r\n\t\t// Add Curtain IO to disposers\r\n\t\tthis._disposers.push(this._IOs.curtain);\r\n\r\n\t\t// Set events to disable underlying interactivity\r\n\t\tthis._IOs.curtain.events.on(\"over\", this.disablePointers, this);\r\n\t\tthis._IOs.curtain.events.on(\"out\", this.releasePointers, this);\r\n\r\n\t\t// Hide it?\r\n\t\tcurtain.style.display = this.showCurtain ? \"block\" : \"none\";\r\n\r\n\t\t// Save for later\r\n\t\tthis._elements.curtain = curtain;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Can the popup be dragged with a pointer?\r\n\t *\r\n\t * @default false\r\n\t * @param Show curtain?\r\n\t */\r\n\tpublic set draggable(value: boolean) {\r\n\t\tif (this._draggable != value) {\r\n\t\t\tthis._draggable = value;\r\n\t\t\tthis.setupDragging();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Show curtain?\r\n\t */\r\n\tpublic get draggable(): boolean {\r\n\t\treturn this.adapter.apply(\"draggable\", this._draggable);\r\n\t}\r\n\r\n\t/**\r\n\t * Resize popup as images are being loaded.\r\n\t *\r\n\t * @default true\r\n\t * @since 4.9.17\r\n\t * @param Resize dynamically?\r\n\t */\r\n\tpublic set dynamicResize(value: boolean) {\r\n\t\tif (this._dynamicResize != value) {\r\n\t\t\tthis._dynamicResize = value;\r\n\t\t\tthis.positionElement(true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Resize dynamically?\r\n\t */\r\n\tpublic get dynamicResize(): boolean {\r\n\t\treturn this.adapter.apply(\"dynamicResize\", this._dynamicResize);\r\n\t}\r\n\r\n\t/**\r\n\t * Horizontal positioning of the content window.\r\n\t *\r\n\t * Available options: \"left\", \"center\" (default), \"right\", and \"none\".\r\n\t *\r\n\t * @default \"center\"\r\n\t * @param Horizontal position\r\n\t */\r\n\tpublic set align(value: Align) {\r\n\t\tif (this._align != value) {\r\n\t\t\tthis._align = value;\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Horizontal position\r\n\t */\r\n\tpublic get align(): Align {\r\n\t\treturn this.adapter.apply(\"align\", this._align);\r\n\t}\r\n\r\n\t/**\r\n\t * Vertical positioning of the content window.\r\n\t *\r\n\t * Available options: \"top\", \"middle\" (default), \"bottom\", and \"none\".\r\n\t *\r\n\t * @default \"middle\"\r\n\t * @param Vertical position\r\n\t */\r\n\tpublic set verticalAlign(value: VerticalAlign) {\r\n\t\tif (this._verticalAlign != value) {\r\n\t\t\tthis._verticalAlign = value;\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Vertical position\r\n\t */\r\n\tpublic get verticalAlign(): VerticalAlign {\r\n\t\treturn this.adapter.apply(\"verticalAlign\", this._verticalAlign);\r\n\t}\r\n\r\n\t/**\r\n\t * \"left\" coordinate of a non-aligned (`align = \"none\"`) popup.\r\n\t *\r\n\t * Can be either absolute pixel value, or relative (`Percent`).\r\n\t *\r\n\t * Setting this property will automatically set `align` to \"none\".\r\n\t *\r\n\t * NOTE: The position is relative to the chart container.\r\n\t *\r\n\t * @param Left\r\n\t */\r\n\tpublic set left(value: number | Percent) {\r\n\t\tif (this.left != value) {\r\n\t\t\tthis._left = value;\r\n\t\t\tthis._align = \"none\";\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Left\r\n\t */\r\n\tpublic get left(): number | Percent {\r\n\t\treturn this.adapter.apply(\"left\", this._left);\r\n\t}\r\n\r\n\t/**\r\n\t * \"right\" coordinate of a non-aligned (`align = \"none\"`) popup.\r\n\t *\r\n\t * Can be either absolute pixel value, or relative (`Percent`).\r\n\t *\r\n\t * Setting this property will automatically set `align` to \"none\".\r\n\t *\r\n\t * NOTE: The position is relative to the chart container.\r\n\t *\r\n\t * @param Right\r\n\t */\r\n\tpublic set right(value: number | Percent) {\r\n\t\tif (this.right != value) {\r\n\t\t\tthis._right = value;\r\n\t\t\tthis._align = \"none\";\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Right\r\n\t */\r\n\tpublic get right(): number | Percent {\r\n\t\treturn this.adapter.apply(\"right\", this._right);\r\n\t}\r\n\r\n\t/**\r\n\t * \"top\" coordinate of a non-aligned (`verticalAlign = \"none\"`) popup.\r\n\t *\r\n\t * Can be either absolute pixel value, or relative (`Percent`).\r\n\t *\r\n\t * Setting this property will automatically set `verticalAlign` to \"none\".\r\n\t *\r\n\t * NOTE: The position is relative to the chart container.\r\n\t *\r\n\t * @param Top\r\n\t */\r\n\tpublic set top(value: number | Percent) {\r\n\t\tif (this.top != value) {\r\n\t\t\tthis._top = value;\r\n\t\t\tthis._verticalAlign = \"none\";\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Top\r\n\t */\r\n\tpublic get top(): number | Percent {\r\n\t\treturn this.adapter.apply(\"top\", this._top);\r\n\t}\r\n\r\n\t/**\r\n\t * \"bottom\" coordinate of a non-aligned (`verticalAlign = \"none\"`) popup.\r\n\t *\r\n\t * Can be either absolute pixel value, or relative (`Percent`).\r\n\t *\r\n\t * Setting this property will automatically set `verticalAlign` to \"none\".\r\n\t *\r\n\t * NOTE: The position is relative to the chart container.\r\n\t *\r\n\t * @param Bottom\r\n\t */\r\n\tpublic set bottom(value: number | Percent) {\r\n\t\tif (this.bottom != value) {\r\n\t\t\tthis._bottom = value;\r\n\t\t\tthis._verticalAlign = \"none\";\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Bottom\r\n\t */\r\n\tpublic get bottom(): number | Percent {\r\n\t\treturn this.adapter.apply(\"bottom\", this._bottom);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an object with references to various elements of the Popup.\r\n\t *\r\n\t * * `wrapper`\r\n\t * * `title`\r\n\t * * `content`\r\n\t * * `close`\r\n\t * * `curtain`\r\n\t */\r\n\tpublic get elements(): {\r\n\t\twrapper?: HTMLElement;\r\n\t\ttitle?: HTMLElement;\r\n\t\tcontent?: HTMLElement;\r\n\t\tclose?: HTMLElement;\r\n\t\tcurtain?: HTMLElement;\r\n\t} {\r\n\t\treturn this._elements;\r\n\t}\r\n\r\n\t/**\r\n\t * Loads popup CSS.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic loadDefaultCSS(): void {\r\n\t\tif (!this._cssLoaded) {\r\n\t\t\tthis._disposers.push(popupCSS(getShadowRoot(this.container), this.classPrefix));\r\n\t\t\t$object.each(this._elements, (key, el) => {\r\n\t\t\t\tel.style.display = \"\";\r\n\t\t\t});\r\n\t\t\tthis._cssLoaded = true;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * If popup is closable, this method adds various events to popup elements.\r\n\t */\r\n\tprotected applyEvents(): void {\r\n\t\tif (this._IOs.close) {\r\n\t\t\tif (this.closable) {\r\n\t\t\t\tthis._IOs.close.element.style.visibility = \"visible\";\r\n\r\n\t\t\t\tlet disposers = [\r\n\t\t\t\t\tgetInteraction().body.events.on(\"keyup\", (ev) => {\r\n\t\t\t\t\t\tif (keyboard.isKey(ev.event, \"esc\") && this.closable) {\r\n\t\t\t\t\t\t\tthis.close()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tthis._IOs.close.events.on(\"hit\", (ev) => {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t})\r\n\t\t\t\t];\r\n\t\t\t\tdisposers.push(this._IOs.curtain.events.on(\"hit\", (ev) => {\r\n\t\t\t\t\tif (this.showCurtain && this.closable) {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t\tthis._disposers.push(new MultiDisposer(disposers));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._IOs.close.element.style.visibility = \"hidden\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Disables interactivity on parent chart.\r\n\t */\r\n\tprotected disablePointers(): void {\r\n\t\tif (this.sprite) {\r\n\t\t\tthis._spriteInteractionsEnabled = this.sprite.interactionsEnabled;\r\n\t\t\tthis.sprite.interactionsEnabled = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Releases temporarily disabled pointers on parent chart.\r\n\t */\r\n\tprotected releasePointers(): void {\r\n\t\tif ($type.hasValue(this._spriteInteractionsEnabled)) {\r\n\t\t\tthis.sprite.interactionsEnabled = this._spriteInteractionsEnabled;\r\n\t\t\tthis._spriteInteractionsEnabled = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Sets screen reader related settings.\r\n\t */\r\n\tprotected applyReaderSettings(): void {\r\n\t\tthis.elements.wrapper.setAttribute(\"aria-label\", this.readerTitle);\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all properties and related data from different element.\r\n\t *\r\n\t * @param object Source element\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tsuper.copyFrom(source);\r\n\t\tthis.container = source.container;\r\n\t\tthis.sprite = source.sprite;\r\n\t\tthis.classPrefix = source.classPrefixRaw;\r\n\t\tthis.content = source.content;\r\n\t\tthis.title = source.title;\r\n\t\tthis.readerTitle = source.readerTitle;\r\n\t\tthis.defaultStyles = source.defaultStyles;\r\n\t\tthis.showCurtain = source.showCurtain;\r\n\t\tthis.align = source.align;\r\n\t\tthis.verticalAlign = source.verticalAlign;\r\n\t\tthis.left = source.left;\r\n\t\tthis.right = source.right;\r\n\t\tthis.top = source.top;\r\n\t\tthis.bottom = source.bottom;\r\n\t\tthis.adapter.copyFrom(source.adapter);\r\n\t}\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}